<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <!-- TradingView Widget BEGIN -->
<div style="margin-bottom: 16px;">
  <label for="tickerInput">Stock Ticker:</label>
  <input type="text" id="tickerInput" value="NASDAQ:AAPL" style="width:120px;">
  <button onclick="updateChartTicker()">Update Chart</button>
</div>
<div id="chartWidgetArea"></div>
<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"></script>
<script type="text/javascript">
  function renderTradingViewChart(symbol) {
    var area = document.getElementById('chartWidgetArea');
    area.innerHTML = '';
    // Create a new widget container
    var widgetContainer = document.createElement('div');
    widgetContainer.className = 'tradingview-widget-container';
    widgetContainer.style.height = '900px';
    widgetContainer.style.width = '100%';

    var chartDiv = document.createElement('div');
    chartDiv.id = 'tradingview_advanced_chart';
    chartDiv.className = 'tradingview-widget-container__widget';
    chartDiv.style.height = '900px';
    chartDiv.style.width = '100%';

    var copyrightDiv = document.createElement('div');
    copyrightDiv.className = 'tradingview-widget-copyright';
    copyrightDiv.innerHTML = '<a href="https://www.tradingview.com/symbols/' + symbol.replace(':','-') + '/" rel="noopener nofollow" target="_blank"><span class="blue-text">' + symbol + ' stock chart</span></a><span class="trademark"> by TradingView</span>';

    widgetContainer.appendChild(chartDiv);
    widgetContainer.appendChild(copyrightDiv);
    area.appendChild(widgetContainer);

    new TradingView.widget({
      "allow_symbol_change": true,
      "calendar": false,
      "details": false,
      "hide_side_toolbar": true,
      "hide_top_toolbar": false,
      "hide_legend": false,
      "hide_volume": false,
      "hotlist": false,
      "interval": "D",
      "locale": "en",
      "save_image": true,
      "style": "1",
      "symbol": symbol,
      "theme": "dark",
      "timezone": "Etc/UTC",
      "backgroundColor": "#0F0F0F",
      "gridColor": "rgba(242, 242, 242, 0.06)",
      "watchlist": [],
      "withdateranges": false,
      "compareSymbols": [],
      "studies": [],
      "autosize": true,
      "container_id": "tradingview_advanced_chart"
    });
  }

  function updateChartTicker() {
    var ticker = document.getElementById('tickerInput').value.trim();
    if (ticker) {
      renderTradingViewChart(ticker);
    }
  }

  window.addEventListener('DOMContentLoaded', function() {
    if (window.TradingView) {
      renderTradingViewChart(document.getElementById('tickerInput').value);
    } else {
      console.error('TradingView script did not load.');
    }
  });
</script>
<!-- TradingView Widget END --> 
</body>
</html>
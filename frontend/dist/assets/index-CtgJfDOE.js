(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))d(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const w of g.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&d(w)}).observe(document,{childList:!0,subtree:!0});function j(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(f){if(f.ep)return;f.ep=!0;const g=j(f);fetch(f.href,g)}})();function wg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Xo={exports:{}},ai={};var If;function Ng(){if(If)return ai;If=1;var o=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function j(d,f,g){var w=null;if(g!==void 0&&(w=""+g),f.key!==void 0&&(w=""+f.key),"key"in f){g={};for(var m in f)m!=="key"&&(g[m]=f[m])}else g=f;return f=g.ref,{$$typeof:o,type:d,key:w,ref:f!==void 0?f:null,props:g}}return ai.Fragment=h,ai.jsx=j,ai.jsxs=j,ai}var Pf;function Tg(){return Pf||(Pf=1,Xo.exports=Ng()),Xo.exports}var n=Tg(),Vo={exports:{}},Se={};var em;function _g(){if(em)return Se;em=1;var o=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),w=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),y=Symbol.iterator;function C(p){return p===null||typeof p!="object"?null:(p=y&&p[y]||p["@@iterator"],typeof p=="function"?p:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,E={};function q(p,N,O){this.props=p,this.context=N,this.refs=E,this.updater=O||k}q.prototype.isReactComponent={},q.prototype.setState=function(p,N){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,N,"setState")},q.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function V(p,N,O){this.props=p,this.context=N,this.refs=E,this.updater=O||k}var D=V.prototype=new Y;D.constructor=V,M(D,q.prototype),D.isPureReactComponent=!0;var F=Array.isArray;function P(){}var $={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function Z(p,N,O){var ee=O.ref;return{$$typeof:o,type:p,key:N,ref:ee!==void 0?ee:null,props:O}}function oe(p,N){return Z(p.type,N,p.props)}function le(p){return typeof p=="object"&&p!==null&&p.$$typeof===o}function me(p){var N={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(O){return N[O]})}var Oe=/\/+/g;function ue(p,N){return typeof p=="object"&&p!==null&&p.key!=null?me(""+p.key):N.toString(36)}function ae(p){switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status=="string"?p.then(P,P):(p.status="pending",p.then(function(N){p.status==="pending"&&(p.status="fulfilled",p.value=N)},function(N){p.status==="pending"&&(p.status="rejected",p.reason=N)})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}}throw p}function U(p,N,O,ee,ne){var ce=typeof p;(ce==="undefined"||ce==="boolean")&&(p=null);var he=!1;if(p===null)he=!0;else switch(ce){case"bigint":case"string":case"number":he=!0;break;case"object":switch(p.$$typeof){case o:case h:he=!0;break;case T:return he=p._init,U(he(p._payload),N,O,ee,ne)}}if(he)return ne=ne(p),he=ee===""?"."+ue(p,0):ee,F(ne)?(O="",he!=null&&(O=he.replace(Oe,"$&/")+"/"),U(ne,N,O,"",function(Ke){return Ke})):ne!=null&&(le(ne)&&(ne=oe(ne,O+(ne.key==null||p&&p.key===ne.key?"":(""+ne.key).replace(Oe,"$&/")+"/")+he)),N.push(ne)),1;he=0;var be=ee===""?".":ee+":";if(F(p))for(var Ee=0;Ee<p.length;Ee++)ee=p[Ee],ce=be+ue(ee,Ee),he+=U(ee,N,O,ce,ne);else if(Ee=C(p),typeof Ee=="function")for(p=Ee.call(p),Ee=0;!(ee=p.next()).done;)ee=ee.value,ce=be+ue(ee,Ee++),he+=U(ee,N,O,ce,ne);else if(ce==="object"){if(typeof p.then=="function")return U(ae(p),N,O,ee,ne);throw N=String(p),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return he}function I(p,N,O){if(p==null)return p;var ee=[],ne=0;return U(p,ee,"","",function(ce){return N.call(O,ce,ne++)}),ee}function se(p){if(p._status===-1){var N=p._result;N=N(),N.then(function(O){(p._status===0||p._status===-1)&&(p._status=1,p._result=O)},function(O){(p._status===0||p._status===-1)&&(p._status=2,p._result=O)}),p._status===-1&&(p._status=0,p._result=N)}if(p._status===1)return p._result.default;throw p._result}var je=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},we={map:I,forEach:function(p,N,O){I(p,function(){N.apply(this,arguments)},O)},count:function(p){var N=0;return I(p,function(){N++}),N},toArray:function(p){return I(p,function(N){return N})||[]},only:function(p){if(!le(p))throw Error("React.Children.only expected to receive a single React element child.");return p}};return Se.Activity=x,Se.Children=we,Se.Component=q,Se.Fragment=j,Se.Profiler=f,Se.PureComponent=V,Se.StrictMode=d,Se.Suspense=b,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Se.__COMPILER_RUNTIME={__proto__:null,c:function(p){return $.H.useMemoCache(p)}},Se.cache=function(p){return function(){return p.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(p,N,O){if(p==null)throw Error("The argument must be a React element, but you passed "+p+".");var ee=M({},p.props),ne=p.key;if(N!=null)for(ce in N.key!==void 0&&(ne=""+N.key),N)!ie.call(N,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&N.ref===void 0||(ee[ce]=N[ce]);var ce=arguments.length-2;if(ce===1)ee.children=O;else if(1<ce){for(var he=Array(ce),be=0;be<ce;be++)he[be]=arguments[be+2];ee.children=he}return Z(p.type,ne,ee)},Se.createContext=function(p){return p={$$typeof:w,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null},p.Provider=p,p.Consumer={$$typeof:g,_context:p},p},Se.createElement=function(p,N,O){var ee,ne={},ce=null;if(N!=null)for(ee in N.key!==void 0&&(ce=""+N.key),N)ie.call(N,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ne[ee]=N[ee]);var he=arguments.length-2;if(he===1)ne.children=O;else if(1<he){for(var be=Array(he),Ee=0;Ee<he;Ee++)be[Ee]=arguments[Ee+2];ne.children=be}if(p&&p.defaultProps)for(ee in he=p.defaultProps,he)ne[ee]===void 0&&(ne[ee]=he[ee]);return Z(p,ce,ne)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(p){return{$$typeof:m,render:p}},Se.isValidElement=le,Se.lazy=function(p){return{$$typeof:T,_payload:{_status:-1,_result:p},_init:se}},Se.memo=function(p,N){return{$$typeof:v,type:p,compare:N===void 0?null:N}},Se.startTransition=function(p){var N=$.T,O={};$.T=O;try{var ee=p(),ne=$.S;ne!==null&&ne(O,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(P,je)}catch(ce){je(ce)}finally{N!==null&&O.types!==null&&(N.types=O.types),$.T=N}},Se.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Se.use=function(p){return $.H.use(p)},Se.useActionState=function(p,N,O){return $.H.useActionState(p,N,O)},Se.useCallback=function(p,N){return $.H.useCallback(p,N)},Se.useContext=function(p){return $.H.useContext(p)},Se.useDebugValue=function(){},Se.useDeferredValue=function(p,N){return $.H.useDeferredValue(p,N)},Se.useEffect=function(p,N){return $.H.useEffect(p,N)},Se.useEffectEvent=function(p){return $.H.useEffectEvent(p)},Se.useId=function(){return $.H.useId()},Se.useImperativeHandle=function(p,N,O){return $.H.useImperativeHandle(p,N,O)},Se.useInsertionEffect=function(p,N){return $.H.useInsertionEffect(p,N)},Se.useLayoutEffect=function(p,N){return $.H.useLayoutEffect(p,N)},Se.useMemo=function(p,N){return $.H.useMemo(p,N)},Se.useOptimistic=function(p,N){return $.H.useOptimistic(p,N)},Se.useReducer=function(p,N,O){return $.H.useReducer(p,N,O)},Se.useRef=function(p){return $.H.useRef(p)},Se.useState=function(p){return $.H.useState(p)},Se.useSyncExternalStore=function(p,N,O){return $.H.useSyncExternalStore(p,N,O)},Se.useTransition=function(){return $.H.useTransition()},Se.version="19.2.0",Se}var tm;function tr(){return tm||(tm=1,Vo.exports=_g()),Vo.exports}var L=tr();const ct=wg(L);var Qo={exports:{}},ni={},Zo={exports:{}},Ko={};var lm;function Eg(){return lm||(lm=1,(function(o){function h(U,I){var se=U.length;U.push(I);e:for(;0<se;){var je=se-1>>>1,we=U[je];if(0<f(we,I))U[je]=I,U[se]=we,se=je;else break e}}function j(U){return U.length===0?null:U[0]}function d(U){if(U.length===0)return null;var I=U[0],se=U.pop();if(se!==I){U[0]=se;e:for(var je=0,we=U.length,p=we>>>1;je<p;){var N=2*(je+1)-1,O=U[N],ee=N+1,ne=U[ee];if(0>f(O,se))ee<we&&0>f(ne,O)?(U[je]=ne,U[ee]=se,je=ee):(U[je]=O,U[N]=se,je=N);else if(ee<we&&0>f(ne,se))U[je]=ne,U[ee]=se,je=ee;else break e}}return I}function f(U,I){var se=U.sortIndex-I.sortIndex;return se!==0?se:U.id-I.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;o.unstable_now=function(){return g.now()}}else{var w=Date,m=w.now();o.unstable_now=function(){return w.now()-m}}var b=[],v=[],T=1,x=null,y=3,C=!1,k=!1,M=!1,E=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function D(U){for(var I=j(v);I!==null;){if(I.callback===null)d(v);else if(I.startTime<=U)d(v),I.sortIndex=I.expirationTime,h(b,I);else break;I=j(v)}}function F(U){if(M=!1,D(U),!k)if(j(b)!==null)k=!0,P||(P=!0,me());else{var I=j(v);I!==null&&ae(F,I.startTime-U)}}var P=!1,$=-1,ie=5,Z=-1;function oe(){return E?!0:!(o.unstable_now()-Z<ie)}function le(){if(E=!1,P){var U=o.unstable_now();Z=U;var I=!0;try{e:{k=!1,M&&(M=!1,Y($),$=-1),C=!0;var se=y;try{t:{for(D(U),x=j(b);x!==null&&!(x.expirationTime>U&&oe());){var je=x.callback;if(typeof je=="function"){x.callback=null,y=x.priorityLevel;var we=je(x.expirationTime<=U);if(U=o.unstable_now(),typeof we=="function"){x.callback=we,D(U),I=!0;break t}x===j(b)&&d(b),D(U)}else d(b);x=j(b)}if(x!==null)I=!0;else{var p=j(v);p!==null&&ae(F,p.startTime-U),I=!1}}break e}finally{x=null,y=se,C=!1}I=void 0}}finally{I?me():P=!1}}}var me;if(typeof V=="function")me=function(){V(le)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,ue=Oe.port2;Oe.port1.onmessage=le,me=function(){ue.postMessage(null)}}else me=function(){q(le,0)};function ae(U,I){$=q(function(){U(o.unstable_now())},I)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(U){U.callback=null},o.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<U?Math.floor(1e3/U):5},o.unstable_getCurrentPriorityLevel=function(){return y},o.unstable_next=function(U){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var se=y;y=I;try{return U()}finally{y=se}},o.unstable_requestPaint=function(){E=!0},o.unstable_runWithPriority=function(U,I){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=y;y=U;try{return I()}finally{y=se}},o.unstable_scheduleCallback=function(U,I,se){var je=o.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?je+se:je):se=je,U){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=se+we,U={id:T++,callback:I,priorityLevel:U,startTime:se,expirationTime:we,sortIndex:-1},se>je?(U.sortIndex=se,h(v,U),j(b)===null&&U===j(v)&&(M?(Y($),$=-1):M=!0,ae(F,se-je))):(U.sortIndex=we,h(b,U),k||C||(k=!0,P||(P=!0,me()))),U},o.unstable_shouldYield=oe,o.unstable_wrapCallback=function(U){var I=y;return function(){var se=y;y=I;try{return U.apply(this,arguments)}finally{y=se}}}})(Ko)),Ko}var am;function Ag(){return am||(am=1,Zo.exports=Eg()),Zo.exports}var Jo={exports:{}},xt={};var nm;function zg(){if(nm)return xt;nm=1;var o=tr();function h(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function j(){}var d={d:{f:j,r:function(){throw Error(h(522))},D:j,C:j,L:j,m:j,X:j,S:j,M:j},p:0,findDOMNode:null},f=Symbol.for("react.portal");function g(b,v,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:x==null?null:""+x,children:b,containerInfo:v,implementation:T}}var w=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,xt.createPortal=function(b,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(h(299));return g(b,v,null,T)},xt.flushSync=function(b){var v=w.T,T=d.p;try{if(w.T=null,d.p=2,b)return b()}finally{w.T=v,d.p=T,d.d.f()}},xt.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,d.d.C(b,v))},xt.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},xt.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var T=v.as,x=m(T,v.crossOrigin),y=typeof v.integrity=="string"?v.integrity:void 0,C=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?d.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:C}):T==="script"&&d.d.X(b,{crossOrigin:x,integrity:y,fetchPriority:C,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},xt.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=m(v.as,v.crossOrigin);d.d.M(b,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&d.d.M(b)},xt.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,x=m(T,v.crossOrigin);d.d.L(b,T,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},xt.preloadModule=function(b,v){if(typeof b=="string")if(v){var T=m(v.as,v.crossOrigin);d.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else d.d.m(b)},xt.requestFormReset=function(b){d.d.r(b)},xt.unstable_batchedUpdates=function(b,v){return b(v)},xt.useFormState=function(b,v,T){return w.H.useFormState(b,v,T)},xt.useFormStatus=function(){return w.H.useHostTransitionStatus()},xt.version="19.2.0",xt}var im;function Cg(){if(im)return Jo.exports;im=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(h){console.error(h)}}return o(),Jo.exports=zg(),Jo.exports}var sm;function Mg(){if(sm)return ni;sm=1;var o=Ag(),h=tr(),j=Cg();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(g(e)!==e)throw Error(d(188))}function v(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,a=t;;){var i=l.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){l=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===l)return b(i),e;if(s===a)return b(i),t;s=s.sibling}throw Error(d(188))}if(l.return!==a.return)l=i,a=s;else{for(var c=!1,u=i.child;u;){if(u===l){c=!0,l=i,a=s;break}if(u===a){c=!0,a=i,l=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===l){c=!0,l=s,a=i;break}if(u===a){c=!0,a=s,l=i;break}u=u.sibling}if(!c)throw Error(d(189))}}if(l.alternate!==a)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),V=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case q:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case V:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var ae=Array.isArray,U=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=j.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},je=[],we=-1;function p(e){return{current:e}}function N(e){0>we||(e.current=je[we],je[we]=null,we--)}function O(e,t){we++,je[we]=e.current,e.current=t}var ee=p(null),ne=p(null),ce=p(null),he=p(null);function be(e,t){switch(O(ce,t),O(ne,e),O(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sf(t),e=jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(ee),O(ee,e)}function Ee(){N(ee),N(ne),N(ce)}function Ke(e){e.memoizedState!==null&&O(he,e);var t=ee.current,l=jf(t,e.type);t!==l&&(O(ne,e),O(ee,l))}function Wt(e){ne.current===e&&(N(ee),N(ne)),he.current===e&&(N(he),Pn._currentValue=se)}var ut,Pe;function Nt(e){if(ut===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);ut=t&&t[1]||"",Pe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+e+Pe}var Tl=!1;function Fl(e,t){if(!e||Tl)return"";Tl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var H=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){H=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){H=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),c=s[0],u=s[1];if(c&&u){var S=c.split(`
`),B=u.split(`
`);for(i=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;i<B.length&&!B[i].includes("DetermineComponentFrameRoot");)i++;if(a===S.length||i===B.length)for(a=S.length-1,i=B.length-1;1<=a&&0<=i&&S[a]!==B[i];)i--;for(;1<=a&&0<=i;a--,i--)if(S[a]!==B[i]){if(a!==1||i!==1)do if(a--,i--,0>i||S[a]!==B[i]){var Q=`
`+S[a].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=a&&0<=i);break}}}finally{Tl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Nt(l):""}function ya(e,t){switch(e.tag){case 26:case 27:case 5:return Nt(e.type);case 16:return Nt("Lazy");case 13:return e.child!==t&&t!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Fl(e.type,!1);case 11:return Fl(e.type.render,!1);case 1:return Fl(e.type,!0);case 31:return Nt("Activity");default:return""}}function rn(e){try{var t="",l=null;do t+=ya(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var tl=Object.prototype.hasOwnProperty,Ft=o.unstable_scheduleCallback,un=o.unstable_cancelCallback,va=o.unstable_shouldYield,Es=o.unstable_requestPaint,Tt=o.unstable_now,ci=o.unstable_getCurrentPriorityLevel,dn=o.unstable_ImmediatePriority,oi=o.unstable_UserBlockingPriority,pa=o.unstable_NormalPriority,As=o.unstable_LowPriority,ri=o.unstable_IdlePriority,zs=o.log,Cs=o.unstable_setDisableYieldValue,Il=null,bt=null;function ll(e){if(typeof zs=="function"&&Cs(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Il,e)}catch{}}var St=Math.clz32?Math.clz32:Os,Ms=Math.log,Ds=Math.LN2;function Os(e){return e>>>=0,e===0?32:31-(Ms(e)/Ds|0)|0}var xa=256,fn=262144,ba=4194304;function _l(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mn(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~s,a!==0?i=_l(a):(c&=u,c!==0?i=_l(c):l||(l=u&~e,l!==0&&(i=_l(l))))):(u=a&~s,u!==0?i=_l(u):c!==0?i=_l(c):l||(l=a&~e,l!==0&&(i=_l(l)))),i===0?0:t!==0&&t!==i&&(t&s)===0&&(s=i&-i,l=t&-t,s>=l||s===32&&(l&4194048)!==0)?t:i}function El(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ui(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var e=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),e}function X(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function K(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function te(e,t,l,a,i,s){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,S=e.expirationTimes,B=e.hiddenUpdates;for(l=c&~l;0<l;){var Q=31-St(l),W=1<<Q;u[Q]=0,S[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}l&=~W}a!==0&&ge(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(c&~t))}function ge(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-St(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function ye(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-St(l),i=1<<a;i&t|e[a]&t&&(e[a]|=t),l&=~i}}function xe(e,t){var l=t&-t;return l=(l&42)!==0?1:Te(l),(l&(e.suspendedLanes|t))!==0?0:l}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function re(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qe(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Qf(e.type))}function Re(e,t){var l=I.p;try{return I.p=e,t()}finally{I.p=l}}var Ce=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Ce,ot="__reactProps$"+Ce,jt="__reactContainer$"+Ce,mt="__reactEvents$"+Ce,ht="__reactListeners$"+Ce,sr="__reactHandles$"+Ce,cr="__reactResources$"+Ce,hn="__reactMarker$"+Ce;function ks(e){delete e[Ye],delete e[ot],delete e[mt],delete e[ht],delete e[sr]}function Sa(e){var t=e[Ye];if(t)return t;for(var l=e.parentNode;l;){if(t=l[jt]||l[Ye]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=zf(e);e!==null;){if(l=e[Ye])return l;e=zf(e)}return t}e=l,l=e.parentNode}return null}function ja(e){if(e=e[Ye]||e[jt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function wa(e){var t=e[cr];return t||(t=e[cr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[hn]=!0}var or=new Set,rr={};function Pl(e,t){Na(e,t),Na(e+"Capture",t)}function Na(e,t){for(rr[e]=t,e=0;e<t.length;e++)or.add(t[e])}var hm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ur={},dr={};function gm(e){return tl.call(dr,e)?!0:tl.call(ur,e)?!1:hm.test(e)?dr[e]=!0:(ur[e]=!0,!1)}function di(e,t,l){if(gm(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function fi(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function cl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ym(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){l=""+c,s.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){if(!e._valueTracker){var t=fr(e)?"checked":"value";e._valueTracker=ym(e,t,""+e[t])}}function mr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=fr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vm=/[\n"\\]/g;function Yt(e){return e.replace(vm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ls(e,t,l,a,i,s,c,u){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Bs(e,c,qt(t)):l!=null?Bs(e,c,qt(l)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+qt(u):e.removeAttribute("name")}function hr(e,t,l,a,i,s,c,u){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||l!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Rs(e);return}l=l!=null?""+qt(l):"",t=t!=null?""+qt(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Rs(e)}function Bs(e,t,l){t==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ta(e,t,l,a){if(e=e.options,t){t={};for(var i=0;i<l.length;i++)t["$"+l[i]]=!0;for(l=0;l<e.length;l++)i=t.hasOwnProperty("$"+e[l].value),e[l].selected!==i&&(e[l].selected=i),i&&a&&(e[l].defaultSelected=!0)}else{for(l=""+qt(l),t=null,i=0;i<e.length;i++){if(e[i].value===l){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gr(e,t,l){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+qt(l):""}function yr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(d(92));if(ae(a)){if(1<a.length)throw Error(d(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=qt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Rs(e)}function _a(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var pm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||pm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function pr(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&l[i]!==a&&vr(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&vr(e,s,t[s])}function Us(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(e){return bm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ol(){}var Hs=null;function qs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,Aa=null;function xr(e){var t=ja(e);if(t&&(e=t.stateNode)){var l=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ls(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var i=a[ot]||null;if(!i)throw Error(d(90));Ls(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&mr(a)}break e;case"textarea":gr(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ta(e,!!l.multiple,t,!1)}}}var Ys=!1;function br(e,t,l){if(Ys)return e(t,l);Ys=!0;try{var a=e(t);return a}finally{if(Ys=!1,(Ea!==null||Aa!==null)&&(ts(),Ea&&(t=Ea,e=Aa,Aa=Ea=null,xr(t),e)))for(t=0;t<e.length;t++)xr(e[t])}}function yn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ot]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(rl)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Gs=!1}var Al=null,Xs=null,gi=null;function Sr(){if(gi)return gi;var e,t=Xs,l=t.length,a,i="value"in Al?Al.value:Al.textContent,s=i.length;for(e=0;e<l&&t[e]===i[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===i[s-a];a++);return gi=i.slice(e,1<a?1-a:void 0)}function yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function jr(){return!1}function _t(e){function t(l,a,i,s,c){this._reactName=l,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vi:jr,this.isPropagationStopped=jr,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=_t(ea),pn=x({},ea,{view:0,detail:0}),Sm=_t(pn),Vs,Qs,xn,xi=x({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(Vs=e.screenX-xn.screenX,Qs=e.screenY-xn.screenY):Qs=Vs=0,xn=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Qs}}),wr=_t(xi),jm=x({},xi,{dataTransfer:0}),wm=_t(jm),Nm=x({},pn,{relatedTarget:0}),Zs=_t(Nm),Tm=x({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=_t(Tm),Em=x({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Am=_t(Em),zm=x({},ea,{data:0}),Nr=_t(zm),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dm[e])?!!t[e]:!1}function Ks(){return Om}var km=x({},pn,{key:function(e){if(e.key){var t=Cm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(e){return e.type==="keypress"?yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rm=_t(km),Lm=x({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=_t(Lm),Bm=x({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),Um=_t(Bm),Hm=x({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=_t(Hm),Ym=x({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gm=_t(Ym),Xm=x({},ea,{newState:0,oldState:0}),Vm=_t(Xm),Qm=[9,13,27,32],Js=rl&&"CompositionEvent"in window,bn=null;rl&&"documentMode"in document&&(bn=document.documentMode);var Zm=rl&&"TextEvent"in window&&!bn,_r=rl&&(!Js||bn&&8<bn&&11>=bn),Er=" ",Ar=!1;function zr(e,t){switch(e){case"keyup":return Qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function Km(e,t){switch(e){case"compositionend":return Cr(t);case"keypress":return t.which!==32?null:(Ar=!0,Er);case"textInput":return e=t.data,e===Er&&Ar?null:e;default:return null}}function Jm(e,t){if(za)return e==="compositionend"||!Js&&zr(e,t)?(e=Sr(),gi=Xs=Al=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _r&&t.locale!=="ko"?null:t.data;default:return null}}var $m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$m[e.type]:t==="textarea"}function Dr(e,t,l,a){Ea?Aa?Aa.push(a):Aa=[a]:Ea=a,t=os(t,"onChange"),0<t.length&&(l=new pi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Sn=null,jn=null;function Wm(e){gf(e,0)}function bi(e){var t=gn(e);if(mr(t))return e}function Or(e,t){if(e==="change")return t}var kr=!1;if(rl){var $s;if(rl){var Ws="oninput"in document;if(!Ws){var Rr=document.createElement("div");Rr.setAttribute("oninput","return;"),Ws=typeof Rr.oninput=="function"}$s=Ws}else $s=!1;kr=$s&&(!document.documentMode||9<document.documentMode)}function Lr(){Sn&&(Sn.detachEvent("onpropertychange",Br),jn=Sn=null)}function Br(e){if(e.propertyName==="value"&&bi(jn)){var t=[];Dr(t,jn,e,qs(e)),br(Wm,t)}}function Fm(e,t,l){e==="focusin"?(Lr(),Sn=t,jn=l,Sn.attachEvent("onpropertychange",Br)):e==="focusout"&&Lr()}function Im(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(jn)}function Pm(e,t){if(e==="click")return bi(t)}function eh(e,t){if(e==="input"||e==="change")return bi(t)}function th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:th;function wn(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var i=l[a];if(!tl.call(t,i)||!Dt(e[i],t[i]))return!1}return!0}function Ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hr(e,t){var l=Ur(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ur(l)}}function qr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mi(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=mi(e.document)}return t}function Fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lh=rl&&"documentMode"in document&&11>=document.documentMode,Ca=null,Is=null,Nn=null,Ps=!1;function Gr(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ps||Ca==null||Ca!==mi(a)||(a=Ca,"selectionStart"in a&&Fs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Nn&&wn(Nn,a)||(Nn=a,a=os(Is,"onSelect"),0<a.length&&(t=new pi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Ca)))}function ta(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Ma={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},ec={},Xr={};rl&&(Xr=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function la(e){if(ec[e])return ec[e];if(!Ma[e])return e;var t=Ma[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Xr)return ec[e]=t[l];return e}var Vr=la("animationend"),Qr=la("animationiteration"),Zr=la("animationstart"),ah=la("transitionrun"),nh=la("transitionstart"),ih=la("transitioncancel"),Kr=la("transitionend"),Jr=new Map,tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tc.push("scrollEnd");function It(e,t){Jr.set(e,t),Pl(t,[e])}var Si=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Da=0,lc=0;function ji(){for(var e=Da,t=lc=Da=0;t<e;){var l=Gt[t];Gt[t++]=null;var a=Gt[t];Gt[t++]=null;var i=Gt[t];Gt[t++]=null;var s=Gt[t];if(Gt[t++]=null,a!==null&&i!==null){var c=a.pending;c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i}s!==0&&$r(l,i,s)}}function wi(e,t,l,a){Gt[Da++]=e,Gt[Da++]=t,Gt[Da++]=l,Gt[Da++]=a,lc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ac(e,t,l,a){return wi(e,t,l,a),Ni(e)}function aa(e,t){return wi(e,null,null,t),Ni(e)}function $r(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var i=!1,s=e.return;s!==null;)s.childLanes|=l,a=s.alternate,a!==null&&(a.childLanes|=l),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-St(l),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=l|536870912),s):null}function Ni(e){if(50<Zn)throw Zn=0,mo=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Oa={};function sh(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,l,a){return new sh(e,t,l,a)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ul(e,t){var l=e.alternate;return l===null?(l=Ot(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Wr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ti(e,t,l,a,i,s){var c=0;if(a=e,typeof e=="function")nc(e)&&(c=1);else if(typeof e=="string")c=dg(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Ot(31,l,t,i),e.elementType=Z,e.lanes=s,e;case M:return na(l.children,i,s,t);case E:c=8,i|=24;break;case q:return e=Ot(12,l,t,i|2),e.elementType=q,e.lanes=s,e;case F:return e=Ot(13,l,t,i),e.elementType=F,e.lanes=s,e;case P:return e=Ot(19,l,t,i),e.elementType=P,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:c=10;break e;case Y:c=9;break e;case D:c=11;break e;case $:c=14;break e;case ie:c=16,a=null;break e}c=29,l=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Ot(c,l,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function na(e,t,l,a){return e=Ot(7,e,a,t),e.lanes=l,e}function ic(e,t,l){return e=Ot(6,e,null,t),e.lanes=l,e}function Fr(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function sc(e,t,l){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ir=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var l=Ir.get(e);return l!==void 0?l:(t={value:e,source:t,stack:rn(t)},Ir.set(e,t),t)}return{value:e,source:t,stack:rn(t)}}var ka=[],Ra=0,_i=null,Tn=0,Vt=[],Qt=0,zl=null,al=1,nl="";function dl(e,t){ka[Ra++]=Tn,ka[Ra++]=_i,_i=e,Tn=t}function Pr(e,t,l){Vt[Qt++]=al,Vt[Qt++]=nl,Vt[Qt++]=zl,zl=e;var a=al;e=nl;var i=32-St(a)-1;a&=~(1<<i),l+=1;var s=32-St(t)+i;if(30<s){var c=i-i%5;s=(a&(1<<c)-1).toString(32),a>>=c,i-=c,al=1<<32-St(t)+i|l<<i|a,nl=s+e}else al=1<<s|l<<i|a,nl=e}function cc(e){e.return!==null&&(dl(e,1),Pr(e,1,0))}function oc(e){for(;e===_i;)_i=ka[--Ra],ka[Ra]=null,Tn=ka[--Ra],ka[Ra]=null;for(;e===zl;)zl=Vt[--Qt],Vt[Qt]=null,nl=Vt[--Qt],Vt[Qt]=null,al=Vt[--Qt],Vt[Qt]=null}function eu(e,t){Vt[Qt++]=al,Vt[Qt++]=nl,Vt[Qt++]=zl,al=t.id,nl=t.overflow,zl=e}var gt=null,Je=null,ke=!1,Cl=null,Zt=!1,rc=Error(d(519));function Ml(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _n(Xt(t,e)),rc}function tu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Ye]=e,t[ot]=a,l){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(l=0;l<Jn.length;l++)ze(Jn[l],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),hr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),yr(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||xf(t.textContent,l)?(a.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),a.onScroll!=null&&ze("scroll",t),a.onScrollEnd!=null&&ze("scrollend",t),a.onClick!=null&&(t.onclick=ol),t=!0):t=!1,t||Ml(e,!0)}function lu(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:gt=gt.return}}function La(e){if(e!==gt)return!1;if(!ke)return lu(e),ke=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Ao(e.type,e.memoizedProps)),l=!l),l&&Je&&Ml(e),lu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Je=Af(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Je=Af(e)}else t===27?(t=Je,Ql(e.type)?(e=Oo,Oo=null,Je=e):Je=t):Je=gt?Jt(e.stateNode.nextSibling):null;return!0}function ia(){Je=gt=null,ke=!1}function uc(){var e=Cl;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Cl=null),e}function _n(e){Cl===null?Cl=[e]:Cl.push(e)}var dc=p(null),sa=null,fl=null;function Dl(e,t,l){O(dc,t._currentValue),t._currentValue=l}function ml(e){e._currentValue=dc.current,N(dc)}function fc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function mc(e,t,l,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var c=i.child;s=s.firstContext;e:for(;s!==null;){var u=s;s=i;for(var S=0;S<t.length;S++)if(u.context===t[S]){s.lanes|=l,u=s.alternate,u!==null&&(u.lanes|=l),fc(s.return,l,e),a||(c=null);break e}s=u.next}}else if(i.tag===18){if(c=i.return,c===null)throw Error(d(341));c.lanes|=l,s=c.alternate,s!==null&&(s.lanes|=l),fc(c,l,e),c=null}else c=i.child;if(c!==null)c.return=i;else for(c=i;c!==null;){if(c===e){c=null;break}if(i=c.sibling,i!==null){i.return=c.return,c=i;break}c=c.return}i=c}}function Ba(e,t,l,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if((i.flags&524288)!==0)s=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var c=i.alternate;if(c===null)throw Error(d(387));if(c=c.memoizedProps,c!==null){var u=i.type;Dt(i.pendingProps.value,c.value)||(e!==null?e.push(u):e=[u])}}else if(i===he.current){if(c=i.alternate,c===null)throw Error(d(387));c.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Pn):e=[Pn])}i=i.return}e!==null&&mc(t,e,l,a),t.flags|=262144}function Ei(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){sa=e,fl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return au(sa,e)}function Ai(e,t){return sa===null&&ca(e),au(e,t)}function au(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},fl===null){if(e===null)throw Error(d(308));fl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fl=fl.next=t;return l}var ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},oh=o.unstable_scheduleCallback,rh=o.unstable_NormalPriority,at={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new ch,data:new Map,refCount:0}}function En(e){e.refCount--,e.refCount===0&&oh(rh,function(){e.controller.abort()})}var An=null,gc=0,Ua=0,Ha=null;function uh(e,t){if(An===null){var l=An=[];gc=0,Ua=xo(),Ha={status:"pending",value:void 0,then:function(a){l.push(a)}}}return gc++,t.then(nu,nu),t}function nu(){if(--gc===0&&An!==null){Ha!==null&&(Ha.status="fulfilled");var e=An;An=null,Ua=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dh(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(i){l.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<l.length;i++)(0,l[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<l.length;i++)(0,l[i])(void 0)}),a}var iu=U.S;U.S=function(e,t){Gd=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uh(e,t),iu!==null&&iu(e,t)};var oa=p(null);function yc(){var e=oa.current;return e!==null?e:Ze.pooledCache}function zi(e,t){t===null?O(oa,oa.current):O(oa,t.pool)}function su(){var e=yc();return e===null?null:{parent:at._currentValue,pool:e}}var qa=Error(d(460)),vc=Error(d(474)),Ci=Error(d(542)),Mi={then:function(){}};function cu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ou(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(ol,ol),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uu(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uu(e),e}throw ua=t,qa}}function ra(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ua=l,qa):l}}var ua=null;function ru(){if(ua===null)throw Error(d(459));var e=ua;return ua=null,e}function uu(e){if(e===qa||e===Ci)throw Error(d(483))}var Ya=null,zn=0;function Di(e){var t=zn;return zn+=1,Ya===null&&(Ya=[]),ou(Ya,e,t)}function Cn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Oi(e,t){throw t.$$typeof===y?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function du(e){function t(A,_){if(e){var R=A.deletions;R===null?(A.deletions=[_],A.flags|=16):R.push(_)}}function l(A,_){if(!e)return null;for(;_!==null;)t(A,_),_=_.sibling;return null}function a(A){for(var _=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function i(A,_){return A=ul(A,_),A.index=0,A.sibling=null,A}function s(A,_,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<_?(A.flags|=67108866,_):R):(A.flags|=67108866,_)):(A.flags|=1048576,_)}function c(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function u(A,_,R,J){return _===null||_.tag!==6?(_=ic(R,A.mode,J),_.return=A,_):(_=i(_,R),_.return=A,_)}function S(A,_,R,J){var ve=R.type;return ve===M?Q(A,_,R.props.children,J,R.key):_!==null&&(_.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ie&&ra(ve)===_.type)?(_=i(_,R.props),Cn(_,R),_.return=A,_):(_=Ti(R.type,R.key,R.props,null,A.mode,J),Cn(_,R),_.return=A,_)}function B(A,_,R,J){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=sc(R,A.mode,J),_.return=A,_):(_=i(_,R.children||[]),_.return=A,_)}function Q(A,_,R,J,ve){return _===null||_.tag!==7?(_=na(R,A.mode,J,ve),_.return=A,_):(_=i(_,R),_.return=A,_)}function W(A,_,R){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=ic(""+_,A.mode,R),_.return=A,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case C:return R=Ti(_.type,_.key,_.props,null,A.mode,R),Cn(R,_),R.return=A,R;case k:return _=sc(_,A.mode,R),_.return=A,_;case ie:return _=ra(_),W(A,_,R)}if(ae(_)||me(_))return _=na(_,A.mode,R,null),_.return=A,_;if(typeof _.then=="function")return W(A,Di(_),R);if(_.$$typeof===V)return W(A,Ai(A,_),R);Oi(A,_)}return null}function H(A,_,R,J){var ve=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ve!==null?null:u(A,_,""+R,J);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return R.key===ve?S(A,_,R,J):null;case k:return R.key===ve?B(A,_,R,J):null;case ie:return R=ra(R),H(A,_,R,J)}if(ae(R)||me(R))return ve!==null?null:Q(A,_,R,J,null);if(typeof R.then=="function")return H(A,_,Di(R),J);if(R.$$typeof===V)return H(A,_,Ai(A,R),J);Oi(A,R)}return null}function G(A,_,R,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return A=A.get(R)||null,u(_,A,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return A=A.get(J.key===null?R:J.key)||null,S(_,A,J,ve);case k:return A=A.get(J.key===null?R:J.key)||null,B(_,A,J,ve);case ie:return J=ra(J),G(A,_,R,J,ve)}if(ae(J)||me(J))return A=A.get(R)||null,Q(_,A,J,ve,null);if(typeof J.then=="function")return G(A,_,R,Di(J),ve);if(J.$$typeof===V)return G(A,_,R,Ai(_,J),ve);Oi(_,J)}return null}function de(A,_,R,J){for(var ve=null,Le=null,fe=_,_e=_=0,De=null;fe!==null&&_e<R.length;_e++){fe.index>_e?(De=fe,fe=null):De=fe.sibling;var Be=H(A,fe,R[_e],J);if(Be===null){fe===null&&(fe=De);break}e&&fe&&Be.alternate===null&&t(A,fe),_=s(Be,_,_e),Le===null?ve=Be:Le.sibling=Be,Le=Be,fe=De}if(_e===R.length)return l(A,fe),ke&&dl(A,_e),ve;if(fe===null){for(;_e<R.length;_e++)fe=W(A,R[_e],J),fe!==null&&(_=s(fe,_,_e),Le===null?ve=fe:Le.sibling=fe,Le=fe);return ke&&dl(A,_e),ve}for(fe=a(fe);_e<R.length;_e++)De=G(fe,A,_e,R[_e],J),De!==null&&(e&&De.alternate!==null&&fe.delete(De.key===null?_e:De.key),_=s(De,_,_e),Le===null?ve=De:Le.sibling=De,Le=De);return e&&fe.forEach(function(Wl){return t(A,Wl)}),ke&&dl(A,_e),ve}function pe(A,_,R,J){if(R==null)throw Error(d(151));for(var ve=null,Le=null,fe=_,_e=_=0,De=null,Be=R.next();fe!==null&&!Be.done;_e++,Be=R.next()){fe.index>_e?(De=fe,fe=null):De=fe.sibling;var Wl=H(A,fe,Be.value,J);if(Wl===null){fe===null&&(fe=De);break}e&&fe&&Wl.alternate===null&&t(A,fe),_=s(Wl,_,_e),Le===null?ve=Wl:Le.sibling=Wl,Le=Wl,fe=De}if(Be.done)return l(A,fe),ke&&dl(A,_e),ve;if(fe===null){for(;!Be.done;_e++,Be=R.next())Be=W(A,Be.value,J),Be!==null&&(_=s(Be,_,_e),Le===null?ve=Be:Le.sibling=Be,Le=Be);return ke&&dl(A,_e),ve}for(fe=a(fe);!Be.done;_e++,Be=R.next())Be=G(fe,A,_e,Be.value,J),Be!==null&&(e&&Be.alternate!==null&&fe.delete(Be.key===null?_e:Be.key),_=s(Be,_,_e),Le===null?ve=Be:Le.sibling=Be,Le=Be);return e&&fe.forEach(function(jg){return t(A,jg)}),ke&&dl(A,_e),ve}function Ve(A,_,R,J){if(typeof R=="object"&&R!==null&&R.type===M&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case C:e:{for(var ve=R.key;_!==null;){if(_.key===ve){if(ve=R.type,ve===M){if(_.tag===7){l(A,_.sibling),J=i(_,R.props.children),J.return=A,A=J;break e}}else if(_.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ie&&ra(ve)===_.type){l(A,_.sibling),J=i(_,R.props),Cn(J,R),J.return=A,A=J;break e}l(A,_);break}else t(A,_);_=_.sibling}R.type===M?(J=na(R.props.children,A.mode,J,R.key),J.return=A,A=J):(J=Ti(R.type,R.key,R.props,null,A.mode,J),Cn(J,R),J.return=A,A=J)}return c(A);case k:e:{for(ve=R.key;_!==null;){if(_.key===ve)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){l(A,_.sibling),J=i(_,R.children||[]),J.return=A,A=J;break e}else{l(A,_);break}else t(A,_);_=_.sibling}J=sc(R,A.mode,J),J.return=A,A=J}return c(A);case ie:return R=ra(R),Ve(A,_,R,J)}if(ae(R))return de(A,_,R,J);if(me(R)){if(ve=me(R),typeof ve!="function")throw Error(d(150));return R=ve.call(R),pe(A,_,R,J)}if(typeof R.then=="function")return Ve(A,_,Di(R),J);if(R.$$typeof===V)return Ve(A,_,Ai(A,R),J);Oi(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,_!==null&&_.tag===6?(l(A,_.sibling),J=i(_,R),J.return=A,A=J):(l(A,_),J=ic(R,A.mode,J),J.return=A,A=J),c(A)):l(A,_)}return function(A,_,R,J){try{zn=0;var ve=Ve(A,_,R,J);return Ya=null,ve}catch(fe){if(fe===qa||fe===Ci)throw fe;var Le=Ot(29,fe,null,A.mode);return Le.lanes=J,Le.return=A,Le}finally{}}}var da=du(!0),fu=du(!1),Ol=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ue&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Ni(e),$r(e,null,l),t}return wi(e,a,t,l),Ni(e)}function Mn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ye(e,l)}}function bc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var i=null,s=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};s===null?i=s=c:s=s.next=c,l=l.next}while(l!==null);s===null?i=s=t:s=s.next=t}else i=s=t;l={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Sc=!1;function Dn(){if(Sc){var e=Ha;if(e!==null)throw e}}function On(e,t,l,a){Sc=!1;var i=e.updateQueue;Ol=!1;var s=i.firstBaseUpdate,c=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var S=u,B=S.next;S.next=null,c===null?s=B:c.next=B,c=S;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,u=Q.lastBaseUpdate,u!==c&&(u===null?Q.firstBaseUpdate=B:u.next=B,Q.lastBaseUpdate=S))}if(s!==null){var W=i.baseState;c=0,Q=B=S=null,u=s;do{var H=u.lane&-536870913,G=H!==u.lane;if(G?(Me&H)===H:(a&H)===H){H!==0&&H===Ua&&(Sc=!0),Q!==null&&(Q=Q.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var de=e,pe=u;H=t;var Ve=l;switch(pe.tag){case 1:if(de=pe.payload,typeof de=="function"){W=de.call(Ve,W,H);break e}W=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,H=typeof de=="function"?de.call(Ve,W,H):de,H==null)break e;W=x({},W,H);break e;case 2:Ol=!0}}H=u.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=i.callbacks,G===null?i.callbacks=[H]:G.push(H))}else G={lane:H,tag:u.tag,payload:u.payload,callback:u.callback,next:null},Q===null?(B=Q=G,S=W):Q=Q.next=G,c|=H;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;G=u,u=G.next,G.next=null,i.lastBaseUpdate=G,i.shared.pending=null}}while(!0);Q===null&&(S=W),i.baseState=S,i.firstBaseUpdate=B,i.lastBaseUpdate=Q,s===null&&(i.shared.lanes=0),ql|=c,e.lanes=c,e.memoizedState=W}}function mu(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function hu(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)mu(l[e],t)}var Ga=p(null),ki=p(0);function gu(e,t){e=jl,O(ki,e),O(Ga,t),jl=e|t.baseLanes}function jc(){O(ki,jl),O(Ga,Ga.current)}function wc(){jl=ki.current,N(Ga),N(ki)}var kt=p(null),Kt=null;function Ll(e){var t=e.alternate;O(et,et.current&1),O(kt,e),Kt===null&&(t===null||Ga.current!==null||t.memoizedState!==null)&&(Kt=e)}function Nc(e){O(et,et.current),O(kt,e),Kt===null&&(Kt=e)}function yu(e){e.tag===22?(O(et,et.current),O(kt,e),Kt===null&&(Kt=e)):Bl()}function Bl(){O(et,et.current),O(kt,kt.current)}function Rt(e){N(kt),Kt===e&&(Kt=null),N(et)}var et=p(0);function Ri(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Mo(l)||Do(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=0,Ne=null,Ge=null,nt=null,Li=!1,Xa=!1,fa=!1,Bi=0,kn=0,Va=null,fh=0;function Fe(){throw Error(d(321))}function Tc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Dt(e[l],t[l]))return!1;return!0}function _c(e,t,l,a,i,s){return hl=s,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Pu:Yc,fa=!1,s=l(a,i),fa=!1,Xa&&(s=pu(t,l,a,i)),vu(e),s}function vu(e){U.H=Bn;var t=Ge!==null&&Ge.next!==null;if(hl=0,nt=Ge=Ne=null,Li=!1,kn=0,Va=null,t)throw Error(d(300));e===null||it||(e=e.dependencies,e!==null&&Ei(e)&&(it=!0))}function pu(e,t,l,a){Ne=e;var i=0;do{if(Xa&&(Va=null),kn=0,Xa=!1,25<=i)throw Error(d(301));if(i+=1,nt=Ge=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}U.H=ed,s=t(l,a)}while(Xa);return s}function mh(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Rn(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(Ne.flags|=1024),t}function Ec(){var e=Bi!==0;return Bi=0,e}function Ac(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function zc(e){if(Li){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Li=!1}hl=0,nt=Ge=Ne=null,Xa=!1,kn=Bi=0,Va=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ne.memoizedState=nt=e:nt=nt.next=e,nt}function tt(){if(Ge===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=nt===null?Ne.memoizedState:nt.next;if(t!==null)nt=t,Ge=e;else{if(e===null)throw Ne.alternate===null?Error(d(467)):Error(d(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},nt===null?Ne.memoizedState=nt=e:nt=nt.next=e}return nt}function Ui(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rn(e){var t=kn;return kn+=1,Va===null&&(Va=[]),e=ou(Va,e,t),t=Ne,(nt===null?t.memoizedState:nt.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Pu:Yc),e}function Hi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Rn(e);if(e.$$typeof===V)return yt(e)}throw Error(d(438,String(e)))}function Cc(e){var t=null,l=Ne.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ne.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Ui(),Ne.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=oe;return t.index++,l}function gl(e,t){return typeof t=="function"?t(e):t}function qi(e){var t=tt();return Mc(t,Ge,e)}function Mc(e,t,l){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=l;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var c=i.next;i.next=s.next,s.next=c}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var u=c=null,S=null,B=t,Q=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Me&W)===W:(hl&W)===W){var H=B.revertLane;if(H===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ua&&(Q=!0);else if((hl&H)===H){B=B.next,H===Ua&&(Q=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(u=S=W,c=s):S=S.next=W,Ne.lanes|=H,ql|=H;W=B.action,fa&&l(s,W),s=B.hasEagerState?B.eagerState:l(s,W)}else H={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(u=S=H,c=s):S=S.next=H,Ne.lanes|=W,ql|=W;B=B.next}while(B!==null&&B!==t);if(S===null?c=s:S.next=u,!Dt(s,e.memoizedState)&&(it=!0,Q&&(l=Ha,l!==null)))throw l;e.memoizedState=s,e.baseState=c,e.baseQueue=S,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Dc(e){var t=tt(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var a=l.dispatch,i=l.pending,s=t.memoizedState;if(i!==null){l.pending=null;var c=i=i.next;do s=e(s,c.action),c=c.next;while(c!==i);Dt(s,t.memoizedState)||(it=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),l.lastRenderedState=s}return[s,a]}function xu(e,t,l){var a=Ne,i=tt(),s=ke;if(s){if(l===void 0)throw Error(d(407));l=l()}else l=t();var c=!Dt((Ge||i).memoizedState,l);if(c&&(i.memoizedState=l,it=!0),i=i.queue,Rc(ju.bind(null,a,i,e),[e]),i.getSnapshot!==t||c||nt!==null&&nt.memoizedState.tag&1){if(a.flags|=2048,Qa(9,{destroy:void 0},Su.bind(null,a,i,l,t),null),Ze===null)throw Error(d(349));s||(hl&127)!==0||bu(a,t,l)}return l}function bu(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ne.updateQueue,t===null?(t=Ui(),Ne.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Su(e,t,l,a){t.value=l,t.getSnapshot=a,wu(t)&&Nu(e)}function ju(e,t,l){return l(function(){wu(t)&&Nu(e)})}function wu(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Dt(e,l)}catch{return!0}}function Nu(e){var t=aa(e,2);t!==null&&Mt(t,e,2)}function Oc(e){var t=wt();if(typeof e=="function"){var l=e;if(e=l(),fa){ll(!0);try{l()}finally{ll(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t}function Tu(e,t,l,a){return e.baseState=l,Mc(e,Ge,typeof a=="function"?a:gl)}function hh(e,t,l,a,i){if(Xi(e))throw Error(d(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){s.listeners.push(c)}};U.T!==null?l(!0):s.isTransition=!1,a(s),l=t.pending,l===null?(s.next=t.pending=s,_u(t,s)):(s.next=l.next,t.pending=l.next=s)}}function _u(e,t){var l=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=U.T,c={};U.T=c;try{var u=l(i,a),S=U.S;S!==null&&S(c,u),Eu(e,t,u)}catch(B){kc(e,t,B)}finally{s!==null&&c.types!==null&&(s.types=c.types),U.T=s}}else try{s=l(i,a),Eu(e,t,s)}catch(B){kc(e,t,B)}}function Eu(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Au(e,t,a)},function(a){return kc(e,t,a)}):Au(e,t,l)}function Au(e,t,l){t.status="fulfilled",t.value=l,zu(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,_u(e,l)))}function kc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,zu(t),t=t.next;while(t!==a)}e.action=null}function zu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cu(e,t){return t}function Mu(e,t){if(ke){var l=Ze.formState;if(l!==null){e:{var a=Ne;if(ke){if(Je){t:{for(var i=Je,s=Zt;i.nodeType!==8;){if(!s){i=null;break t}if(i=Jt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Je=Jt(i.nextSibling),a=i.data==="F!";break e}}Ml(a)}a=!1}a&&(t=l[0])}}return l=wt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:t},l.queue=a,l=Wu.bind(null,Ne,a),a.dispatch=l,a=Oc(!1),s=qc.bind(null,Ne,!1,a.queue),a=wt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,l=hh.bind(null,Ne,i,s,l),i.dispatch=l,a.memoizedState=e,[t,l,!1]}function Du(e){var t=tt();return Ou(t,Ge,e)}function Ou(e,t,l){if(t=Mc(e,t,Cu)[0],e=qi(gl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Rn(t)}catch(c){throw c===qa?Ci:c}else a=t;t=tt();var i=t.queue,s=i.dispatch;return l!==t.memoizedState&&(Ne.flags|=2048,Qa(9,{destroy:void 0},gh.bind(null,i,l),null)),[a,s,e]}function gh(e,t){e.action=t}function ku(e){var t=tt(),l=Ge;if(l!==null)return Ou(t,l,e);tt(),t=t.memoizedState,l=tt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Qa(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=Ui(),Ne.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Ru(){return tt().memoizedState}function Yi(e,t,l,a){var i=wt();Ne.flags|=e,i.memoizedState=Qa(1|t,{destroy:void 0},l,a===void 0?null:a)}function Gi(e,t,l,a){var i=tt();a=a===void 0?null:a;var s=i.memoizedState.inst;Ge!==null&&a!==null&&Tc(a,Ge.memoizedState.deps)?i.memoizedState=Qa(t,s,l,a):(Ne.flags|=e,i.memoizedState=Qa(1|t,s,l,a))}function Lu(e,t){Yi(8390656,8,e,t)}function Rc(e,t){Gi(2048,8,e,t)}function yh(e){Ne.flags|=4;var t=Ne.updateQueue;if(t===null)t=Ui(),Ne.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Bu(e){var t=tt().memoizedState;return yh({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Uu(e,t){return Gi(4,2,e,t)}function Hu(e,t){return Gi(4,4,e,t)}function qu(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,l){l=l!=null?l.concat([e]):null,Gi(4,4,qu.bind(null,t,e),l)}function Lc(){}function Gu(e,t){var l=tt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Tc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Xu(e,t){var l=tt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Tc(t,a[1]))return a[0];if(a=e(),fa){ll(!0);try{e()}finally{ll(!1)}}return l.memoizedState=[a,t],a}function Bc(e,t,l){return l===void 0||(hl&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Vd(),Ne.lanes|=e,ql|=e,l)}function Vu(e,t,l,a){return Dt(l,t)?l:Ga.current!==null?(e=Bc(e,l,a),Dt(e,t)||(it=!0),e):(hl&42)===0||(hl&1073741824)!==0&&(Me&261930)===0?(it=!0,e.memoizedState=l):(e=Vd(),Ne.lanes|=e,ql|=e,t)}function Qu(e,t,l,a,i){var s=I.p;I.p=s!==0&&8>s?s:8;var c=U.T,u={};U.T=u,qc(e,!1,t,l);try{var S=i(),B=U.S;if(B!==null&&B(u,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Q=dh(S,a);Ln(e,t,Q,Ut(e))}else Ln(e,t,a,Ut(e))}catch(W){Ln(e,t,{then:function(){},status:"rejected",reason:W},Ut())}finally{I.p=s,c!==null&&u.types!==null&&(c.types=u.types),U.T=c}}function vh(){}function Uc(e,t,l,a){if(e.tag!==5)throw Error(d(476));var i=Zu(e).queue;Qu(e,i,t,se,l===null?vh:function(){return Ku(e),l(a)})}function Zu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:se},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ku(e){var t=Zu(e);t.next===null&&(t=e.alternate.memoizedState),Ln(e,t.next.queue,{},Ut())}function Hc(){return yt(Pn)}function Ju(){return tt().memoizedState}function $u(){return tt().memoizedState}function ph(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Ut();e=kl(l);var a=Rl(t,e,l);a!==null&&(Mt(a,t,l),Mn(a,t,l)),t={cache:hc()},e.payload=t;return}t=t.return}}function xh(e,t,l){var a=Ut();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xi(e)?Fu(t,l):(l=ac(e,t,l,a),l!==null&&(Mt(l,e,a),Iu(l,t,a)))}function Wu(e,t,l){var a=Ut();Ln(e,t,l,a)}function Ln(e,t,l,a){var i={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xi(e))Fu(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,u=s(c,l);if(i.hasEagerState=!0,i.eagerState=u,Dt(u,c))return wi(e,t,i,0),Ze===null&&ji(),!1}catch{}finally{}if(l=ac(e,t,i,a),l!==null)return Mt(l,e,a),Iu(l,t,a),!0}return!1}function qc(e,t,l,a){if(a={lane:2,revertLane:xo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xi(e)){if(t)throw Error(d(479))}else t=ac(e,l,a,2),t!==null&&Mt(t,e,2)}function Xi(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Fu(e,t){Xa=Li=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Iu(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ye(e,l)}}var Bn={readContext:yt,use:Hi,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Bn.useEffectEvent=Fe;var Pu={readContext:yt,use:Hi,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Lu,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Yi(4194308,4,qu.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){Yi(4,2,e,t)},useMemo:function(e,t){var l=wt();t=t===void 0?null:t;var a=e();if(fa){ll(!0);try{e()}finally{ll(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=wt();if(l!==void 0){var i=l(t);if(fa){ll(!0);try{l(t)}finally{ll(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=xh.bind(null,Ne,e),[a.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Oc(e);var t=e.queue,l=Wu.bind(null,Ne,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Lc,useDeferredValue:function(e,t){var l=wt();return Bc(l,e,t)},useTransition:function(){var e=Oc(!1);return e=Qu.bind(null,Ne,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ne,i=wt();if(ke){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),Ze===null)throw Error(d(349));(Me&127)!==0||bu(a,t,l)}i.memoizedState=l;var s={value:l,getSnapshot:t};return i.queue=s,Lu(ju.bind(null,a,s,e),[e]),a.flags|=2048,Qa(9,{destroy:void 0},Su.bind(null,a,s,l,t),null),l},useId:function(){var e=wt(),t=Ze.identifierPrefix;if(ke){var l=nl,a=al;l=(a&~(1<<32-St(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Bi++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=fh++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Hc,useFormState:Mu,useActionState:Mu,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=qc.bind(null,Ne,!0,l),l.dispatch=t,[e,t]},useMemoCache:Cc,useCacheRefresh:function(){return wt().memoizedState=ph.bind(null,Ne)},useEffectEvent:function(e){var t=wt(),l={impl:e};return t.memoizedState=l,function(){if((Ue&2)!==0)throw Error(d(440));return l.impl.apply(void 0,arguments)}}},Yc={readContext:yt,use:Hi,useCallback:Gu,useContext:yt,useEffect:Rc,useImperativeHandle:Yu,useInsertionEffect:Uu,useLayoutEffect:Hu,useMemo:Xu,useReducer:qi,useRef:Ru,useState:function(){return qi(gl)},useDebugValue:Lc,useDeferredValue:function(e,t){var l=tt();return Vu(l,Ge.memoizedState,e,t)},useTransition:function(){var e=qi(gl)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Rn(e),t]},useSyncExternalStore:xu,useId:Ju,useHostTransitionStatus:Hc,useFormState:Du,useActionState:Du,useOptimistic:function(e,t){var l=tt();return Tu(l,Ge,e,t)},useMemoCache:Cc,useCacheRefresh:$u};Yc.useEffectEvent=Bu;var ed={readContext:yt,use:Hi,useCallback:Gu,useContext:yt,useEffect:Rc,useImperativeHandle:Yu,useInsertionEffect:Uu,useLayoutEffect:Hu,useMemo:Xu,useReducer:Dc,useRef:Ru,useState:function(){return Dc(gl)},useDebugValue:Lc,useDeferredValue:function(e,t){var l=tt();return Ge===null?Bc(l,e,t):Vu(l,Ge.memoizedState,e,t)},useTransition:function(){var e=Dc(gl)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Rn(e),t]},useSyncExternalStore:xu,useId:Ju,useHostTransitionStatus:Hc,useFormState:ku,useActionState:ku,useOptimistic:function(e,t){var l=tt();return Ge!==null?Tu(l,Ge,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:$u};ed.useEffectEvent=Bu;function Gc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:x({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Xc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Ut(),i=kl(a);i.payload=t,l!=null&&(i.callback=l),t=Rl(e,i,a),t!==null&&(Mt(t,e,a),Mn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Ut(),i=kl(a);i.tag=1,i.payload=t,l!=null&&(i.callback=l),t=Rl(e,i,a),t!==null&&(Mt(t,e,a),Mn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Ut(),a=kl(l);a.tag=2,t!=null&&(a.callback=t),t=Rl(e,a,l),t!==null&&(Mt(t,e,l),Mn(t,e,l))}};function td(e,t,l,a,i,s,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,c):t.prototype&&t.prototype.isPureReactComponent?!wn(l,a)||!wn(i,s):!0}function ld(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Xc.enqueueReplaceState(t,t.state,null)}function ma(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=x({},l));for(var i in e)l[i]===void 0&&(l[i]=e[i])}return l}function ad(e){Si(e)}function nd(e){console.error(e)}function id(e){Si(e)}function Vi(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function sd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Vc(e,t,l){return l=kl(l),l.tag=3,l.payload={element:null},l.callback=function(){Vi(e,t)},l}function cd(e){return e=kl(e),e.tag=3,e}function od(e,t,l,a){var i=l.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){sd(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){sd(t,l,a),typeof i!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function bh(e,t,l,a,i){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ba(t,l,i,!0),l=kt.current,l!==null){switch(l.tag){case 31:case 13:return Kt===null?ls():l.alternate===null&&Ie===0&&(Ie=3),l.flags&=-257,l.flags|=65536,l.lanes=i,a===Mi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),yo(e,a,i)),!1;case 22:return l.flags|=65536,a===Mi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),yo(e,a,i)),!1}throw Error(d(435,l.tag))}return yo(e,a,i),ls(),!1}if(ke)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==rc&&(e=Error(d(422),{cause:a}),_n(Xt(e,l)))):(a!==rc&&(t=Error(d(423),{cause:a}),_n(Xt(t,l))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Xt(a,l),i=Vc(e.stateNode,a,i),bc(e,i),Ie!==4&&(Ie=2)),!1;var s=Error(d(520),{cause:a});if(s=Xt(s,l),Qn===null?Qn=[s]:Qn.push(s),Ie!==4&&(Ie=2),t===null)return!0;a=Xt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=i&-i,l.lanes|=e,e=Vc(l.stateNode,a,e),bc(l,e),!1;case 1:if(t=l.type,s=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Yl===null||!Yl.has(s))))return l.flags|=65536,i&=-i,l.lanes|=i,i=cd(i),od(i,e,l,a),bc(l,i),!1}l=l.return}while(l!==null);return!1}var Qc=Error(d(461)),it=!1;function vt(e,t,l,a){t.child=e===null?fu(t,null,l,a):da(t,e.child,l,a)}function rd(e,t,l,a,i){l=l.render;var s=t.ref;if("ref"in a){var c={};for(var u in a)u!=="ref"&&(c[u]=a[u])}else c=a;return ca(t),a=_c(e,t,l,c,s,i),u=Ec(),e!==null&&!it?(Ac(e,t,i),yl(e,t,i)):(ke&&u&&cc(t),t.flags|=1,vt(e,t,a,i),t.child)}function ud(e,t,l,a,i){if(e===null){var s=l.type;return typeof s=="function"&&!nc(s)&&s.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=s,dd(e,t,s,a,i)):(e=Ti(l.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Pc(e,i)){var c=s.memoizedProps;if(l=l.compare,l=l!==null?l:wn,l(c,a)&&e.ref===t.ref)return yl(e,t,i)}return t.flags|=1,e=ul(s,a),e.ref=t.ref,e.return=t,t.child=e}function dd(e,t,l,a,i){if(e!==null){var s=e.memoizedProps;if(wn(s,a)&&e.ref===t.ref)if(it=!1,t.pendingProps=a=s,Pc(e,i))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,yl(e,t,i)}return Zc(e,t,l,a,i)}function fd(e,t,l,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|l:l,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return md(e,t,s,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zi(t,s!==null?s.cachePool:null),s!==null?gu(t,s):jc(),yu(t);else return a=t.lanes=536870912,md(e,t,s!==null?s.baseLanes|l:l,l,a)}else s!==null?(zi(t,s.cachePool),gu(t,s),Bl(),t.memoizedState=null):(e!==null&&zi(t,null),jc(),Bl());return vt(e,t,i,l),t.child}function Un(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function md(e,t,l,a,i){var s=yc();return s=s===null?null:{parent:at._currentValue,pool:s},t.memoizedState={baseLanes:l,cachePool:s},e!==null&&zi(t,null),jc(),yu(t),e!==null&&Ba(e,t,a,!0),t.childLanes=i,null}function Qi(e,t){return t=Ki({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hd(e,t,l){return da(t,e.child,null,l),e=Qi(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function Sh(e,t,l){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(a.mode==="hidden")return e=Qi(t,a),t.lanes=536870912,Un(null,e);if(Nc(t),(e=Je)?(e=Ef(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:al,overflow:nl}:null,retryLane:536870912,hydrationErrors:null},l=Fr(e),l.return=t,t.child=l,gt=t,Je=null)):e=null,e===null)throw Ml(t);return t.lanes=536870912,null}return Qi(t,a)}var s=e.memoizedState;if(s!==null){var c=s.dehydrated;if(Nc(t),i)if(t.flags&256)t.flags&=-257,t=hd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(it||Ba(e,t,l,!1),i=(l&e.childLanes)!==0,it||i){if(a=Ze,a!==null&&(c=xe(a,l),c!==0&&c!==s.retryLane))throw s.retryLane=c,aa(e,c),Mt(a,e,c),Qc;ls(),t=hd(e,t,l)}else e=s.treeContext,Je=Jt(c.nextSibling),gt=t,ke=!0,Cl=null,Zt=!1,e!==null&&eu(t,e),t=Qi(t,a),t.flags|=4096;return t}return e=ul(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zi(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Zc(e,t,l,a,i){return ca(t),l=_c(e,t,l,a,void 0,i),a=Ec(),e!==null&&!it?(Ac(e,t,i),yl(e,t,i)):(ke&&a&&cc(t),t.flags|=1,vt(e,t,l,i),t.child)}function gd(e,t,l,a,i,s){return ca(t),t.updateQueue=null,l=pu(t,a,l,i),vu(e),a=Ec(),e!==null&&!it?(Ac(e,t,s),yl(e,t,s)):(ke&&a&&cc(t),t.flags|=1,vt(e,t,l,s),t.child)}function yd(e,t,l,a,i){if(ca(t),t.stateNode===null){var s=Oa,c=l.contextType;typeof c=="object"&&c!==null&&(s=yt(c)),s=new l(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},pc(t),c=l.contextType,s.context=typeof c=="object"&&c!==null?yt(c):Oa,s.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(Gc(t,l,c,a),s.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(c=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),c!==s.state&&Xc.enqueueReplaceState(s,s.state,null),On(t,a,s,i),Dn(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var u=t.memoizedProps,S=ma(l,u);s.props=S;var B=s.context,Q=l.contextType;c=Oa,typeof Q=="object"&&Q!==null&&(c=yt(Q));var W=l.getDerivedStateFromProps;Q=typeof W=="function"||typeof s.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,Q||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u||B!==c)&&ld(t,s,a,c),Ol=!1;var H=t.memoizedState;s.state=H,On(t,a,s,i),Dn(),B=t.memoizedState,u||H!==B||Ol?(typeof W=="function"&&(Gc(t,l,W,a),B=t.memoizedState),(S=Ol||td(t,l,S,a,H,B,c))?(Q||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=B),s.props=a,s.state=B,s.context=c,a=S):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,xc(e,t),c=t.memoizedProps,Q=ma(l,c),s.props=Q,W=t.pendingProps,H=s.context,B=l.contextType,S=Oa,typeof B=="object"&&B!==null&&(S=yt(B)),u=l.getDerivedStateFromProps,(B=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==W||H!==S)&&ld(t,s,a,S),Ol=!1,H=t.memoizedState,s.state=H,On(t,a,s,i),Dn();var G=t.memoizedState;c!==W||H!==G||Ol||e!==null&&e.dependencies!==null&&Ei(e.dependencies)?(typeof u=="function"&&(Gc(t,l,u,a),G=t.memoizedState),(Q=Ol||td(t,l,Q,a,H,G,S)||e!==null&&e.dependencies!==null&&Ei(e.dependencies))?(B||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,G,S),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,G,S)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=G),s.props=a,s.state=G,s.context=S,a=Q):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Zi(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=da(t,e.child,null,i),t.child=da(t,null,l,i)):vt(e,t,l,i),t.memoizedState=s.state,e=t.child):e=yl(e,t,i),e}function vd(e,t,l,a){return ia(),t.flags|=256,vt(e,t,l,a),t.child}var Kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(e){return{baseLanes:e,cachePool:su()}}function $c(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Bt),e}function pd(e,t,l){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),c&&(i=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(i?Ll(t):Bl(),(e=Je)?(e=Ef(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:al,overflow:nl}:null,retryLane:536870912,hydrationErrors:null},l=Fr(e),l.return=t,t.child=l,gt=t,Je=null)):e=null,e===null)throw Ml(t);return Do(e)?t.lanes=32:t.lanes=536870912,null}var u=a.children;return a=a.fallback,i?(Bl(),i=t.mode,u=Ki({mode:"hidden",children:u},i),a=na(a,i,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,a=t.child,a.memoizedState=Jc(l),a.childLanes=$c(e,c,l),t.memoizedState=Kc,Un(null,a)):(Ll(t),Wc(t,u))}var S=e.memoizedState;if(S!==null&&(u=S.dehydrated,u!==null)){if(s)t.flags&256?(Ll(t),t.flags&=-257,t=Fc(e,t,l)):t.memoizedState!==null?(Bl(),t.child=e.child,t.flags|=128,t=null):(Bl(),u=a.fallback,i=t.mode,a=Ki({mode:"visible",children:a.children},i),u=na(u,i,l,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,da(t,e.child,null,l),a=t.child,a.memoizedState=Jc(l),a.childLanes=$c(e,c,l),t.memoizedState=Kc,t=Un(null,a));else if(Ll(t),Do(u)){if(c=u.nextSibling&&u.nextSibling.dataset,c)var B=c.dgst;c=B,a=Error(d(419)),a.stack="",a.digest=c,_n({value:a,source:null,stack:null}),t=Fc(e,t,l)}else if(it||Ba(e,t,l,!1),c=(l&e.childLanes)!==0,it||c){if(c=Ze,c!==null&&(a=xe(c,l),a!==0&&a!==S.retryLane))throw S.retryLane=a,aa(e,a),Mt(c,e,a),Qc;Mo(u)||ls(),t=Fc(e,t,l)}else Mo(u)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Je=Jt(u.nextSibling),gt=t,ke=!0,Cl=null,Zt=!1,e!==null&&eu(t,e),t=Wc(t,a.children),t.flags|=4096);return t}return i?(Bl(),u=a.fallback,i=t.mode,S=e.child,B=S.sibling,a=ul(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,B!==null?u=ul(B,u):(u=na(u,i,l,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,Un(null,a),a=t.child,u=e.child.memoizedState,u===null?u=Jc(l):(i=u.cachePool,i!==null?(S=at._currentValue,i=i.parent!==S?{parent:S,pool:S}:i):i=su(),u={baseLanes:u.baseLanes|l,cachePool:i}),a.memoizedState=u,a.childLanes=$c(e,c,l),t.memoizedState=Kc,Un(e.child,a)):(Ll(t),l=e.child,e=l.sibling,l=ul(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function Wc(e,t){return t=Ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ki(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function Fc(e,t,l){return da(t,e.child,null,l),e=Wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),fc(e.return,t,l)}function Ic(e,t,l,a,i,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:i,treeForkCount:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=l,c.tailMode=i,c.treeForkCount=s)}function bd(e,t,l){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var c=et.current,u=(c&2)!==0;if(u?(c=c&1|2,t.flags|=128):c&=1,O(et,c),vt(e,t,a,l),a=ke?Tn:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xd(e,l,t);else if(e.tag===19)xd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(l=t.child,i=null;l!==null;)e=l.alternate,e!==null&&Ri(e)===null&&(i=l),l=l.sibling;l=i,l===null?(i=t.child,t.child=null):(i=l.sibling,l.sibling=null),Ic(t,!1,i,l,s,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ri(e)===null){t.child=i;break}e=i.sibling,i.sibling=l,l=i,i=e}Ic(t,!0,l,null,s,a);break;case"together":Ic(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function yl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ba(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=ul(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=ul(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Pc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ei(e)))}function jh(e,t,l){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),Dl(t,at,e.memoizedState.cache),ia();break;case 27:case 5:Ke(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:Dl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Nc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ll(t),t.flags|=128,null):(l&t.child.childLanes)!==0?pd(e,t,l):(Ll(t),e=yl(e,t,l),e!==null?e.sibling:null);Ll(t);break;case 19:var i=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ba(e,t,l,!1),a=(l&t.childLanes)!==0),i){if(a)return bd(e,t,l);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),O(et,et.current),a)break;return null;case 22:return t.lanes=0,fd(e,t,l,t.pendingProps);case 24:Dl(t,at,e.memoizedState.cache)}return yl(e,t,l)}function Sd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Pc(e,l)&&(t.flags&128)===0)return it=!1,jh(e,t,l);it=(e.flags&131072)!==0}else it=!1,ke&&(t.flags&1048576)!==0&&Pr(t,Tn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")nc(e)?(a=ma(e,a),t.tag=1,t=yd(null,t,e,a,l)):(t.tag=0,t=Zc(null,t,e,a,l));else{if(e!=null){var i=e.$$typeof;if(i===D){t.tag=11,t=rd(null,t,e,a,l);break e}else if(i===$){t.tag=14,t=ud(null,t,e,a,l);break e}}throw t=ue(e)||e,Error(d(306,t,""))}}return t;case 0:return Zc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,i=ma(a,t.pendingProps),yd(e,t,a,i,l);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,xc(e,t),On(t,a,null,l);var c=t.memoizedState;if(a=c.cache,Dl(t,at,a),a!==s.cache&&mc(t,[at],l,!0),Dn(),a=c.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=vd(e,t,a,l);break e}else if(a!==i){i=Xt(Error(d(424)),t),_n(i),t=vd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=Jt(e.firstChild),gt=t,ke=!0,Cl=null,Zt=!0,l=fu(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ia(),a===i){t=yl(e,t,l);break e}vt(e,t,a,l)}t=t.child}return t;case 26:return Zi(e,t),e===null?(l=Of(t.type,null,t.pendingProps,null))?t.memoizedState=l:ke||(l=t.type,e=t.pendingProps,a=rs(ce.current).createElement(l),a[Ye]=t,a[ot]=e,pt(a,l,e),dt(a),t.stateNode=a):t.memoizedState=Of(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ke(t),e===null&&ke&&(a=t.stateNode=Cf(t.type,t.pendingProps,ce.current),gt=t,Zt=!0,i=Je,Ql(t.type)?(Oo=i,Je=Jt(a.firstChild)):Je=i),vt(e,t,t.pendingProps.children,l),Zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((i=a=Je)&&(a=Ih(a,t.type,t.pendingProps,Zt),a!==null?(t.stateNode=a,gt=t,Je=Jt(a.firstChild),Zt=!1,i=!0):i=!1),i||Ml(t)),Ke(t),i=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,a=s.children,Ao(i,s)?a=null:c!==null&&Ao(i,c)&&(t.flags|=32),t.memoizedState!==null&&(i=_c(e,t,mh,null,null,l),Pn._currentValue=i),Zi(e,t),vt(e,t,a,l),t.child;case 6:return e===null&&ke&&((e=l=Je)&&(l=Ph(l,t.pendingProps,Zt),l!==null?(t.stateNode=l,gt=t,Je=null,e=!0):e=!1),e||Ml(t)),null;case 13:return pd(e,t,l);case 4:return be(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=da(t,null,a,l):vt(e,t,a,l),t.child;case 11:return rd(e,t,t.type,t.pendingProps,l);case 7:return vt(e,t,t.pendingProps,l),t.child;case 8:return vt(e,t,t.pendingProps.children,l),t.child;case 12:return vt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Dl(t,t.type,a.value),vt(e,t,a.children,l),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,ca(t),i=yt(i),a=a(i),t.flags|=1,vt(e,t,a,l),t.child;case 14:return ud(e,t,t.type,t.pendingProps,l);case 15:return dd(e,t,t.type,t.pendingProps,l);case 19:return bd(e,t,l);case 31:return Sh(e,t,l);case 22:return fd(e,t,l,t.pendingProps);case 24:return ca(t),a=yt(at),e===null?(i=yc(),i===null&&(i=Ze,s=hc(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=l),i=s),t.memoizedState={parent:a,cache:i},pc(t),Dl(t,at,i)):((e.lanes&l)!==0&&(xc(e,t),On(t,null,null,l),Dn()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Dl(t,at,a)):(a=s.cache,Dl(t,at,a),a!==i.cache&&mc(t,[at],l,!0))),vt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function vl(e){e.flags|=4}function eo(e,t,l,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Jd())e.flags|=8192;else throw ua=Mi,vc}else e.flags&=-16777217}function jd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Uf(t))if(Jd())e.flags|=8192;else throw ua=Mi,vc}function Ji(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?z():536870912,e.lanes|=t,$a|=t)}function Hn(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var i=e.child;i!==null;)l|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)l|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function wh(e,t,l){var a=t.pendingProps;switch(oc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ml(at),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(La(t)?vl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,uc())),$e(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(vl(t),s!==null?($e(t),jd(t,s)):($e(t),eo(t,i,null,a,l))):s?s!==e.memoizedState?(vl(t),$e(t),jd(t,s)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&vl(t),$e(t),eo(t,i,e,a,l)),null;case 27:if(Wt(t),l=ce.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&vl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return $e(t),null}e=ee.current,La(t)?tu(t):(e=Cf(i,a,l),t.stateNode=e,vl(t))}return $e(t),null;case 5:if(Wt(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&vl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return $e(t),null}if(s=ee.current,La(t))tu(t);else{var c=rs(ce.current);switch(s){case 1:s=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=c.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?c.createElement(i,{is:a.is}):c.createElement(i)}}s[Ye]=t,s[ot]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=s;e:switch(pt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&vl(t)}}return $e(t),eo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&vl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=ce.current,La(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,i=gt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ye]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||xf(e.nodeValue,l)),e||Ml(t,!0)}else e=rs(e).createTextNode(a),e[Ye]=t,t.stateNode=e}return $e(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=La(t),l!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Ye]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else l=uc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(d(558))}return $e(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=La(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Ye]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else i=uc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ji(t,t.updateQueue),$e(t),null);case 4:return Ee(),e===null&&wo(t.stateNode.containerInfo),$e(t),null;case 10:return ml(t.type),$e(t),null;case 19:if(N(et),a=t.memoizedState,a===null)return $e(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)Hn(a,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Ri(e),s!==null){for(t.flags|=128,Hn(a,!1),e=s.updateQueue,t.updateQueue=e,Ji(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Wr(l,e),l=l.sibling;return O(et,et.current&1|2),ke&&dl(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Tt()>Pi&&(t.flags|=128,i=!0,Hn(a,!1),t.lanes=4194304)}else{if(!i)if(e=Ri(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ji(t,e),Hn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ke)return $e(t),null}else 2*Tt()-a.renderingStartTime>Pi&&l!==536870912&&(t.flags|=128,i=!0,Hn(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tt(),e.sibling=null,l=et.current,O(et,i?l&1|2:l&1),ke&&dl(t,a.treeForkCount),e):($e(t),null);case 22:case 23:return Rt(t),wc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),l=t.updateQueue,l!==null&&Ji(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&N(oa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ml(at),$e(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Nh(e,t){switch(oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(at),Ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wt(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(d(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return N(et),null;case 4:return Ee(),null;case 10:return ml(t.type),null;case 22:case 23:return Rt(t),wc(),e!==null&&N(oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ml(at),null;case 25:return null;default:return null}}function wd(e,t){switch(oc(t),t.tag){case 3:ml(at),Ee();break;case 26:case 27:case 5:Wt(t);break;case 4:Ee();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:N(et);break;case 10:ml(t.type);break;case 22:case 23:Rt(t),wc(),e!==null&&N(oa);break;case 24:ml(at)}}function qn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var i=a.next;l=i;do{if((l.tag&e)===e){a=void 0;var s=l.create,c=l.inst;a=s(),c.destroy=a}l=l.next}while(l!==i)}}catch(u){qe(t,t.return,u)}}function Ul(e,t,l){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var c=a.inst,u=c.destroy;if(u!==void 0){c.destroy=void 0,i=t;var S=l,B=u;try{B()}catch(Q){qe(i,S,Q)}}}a=a.next}while(a!==s)}}catch(Q){qe(t,t.return,Q)}}function Nd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{hu(t,l)}catch(a){qe(e,e.return,a)}}}function Td(e,t,l){l.props=ma(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){qe(e,t,a)}}function Yn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(i){qe(e,t,i)}}function il(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(i){qe(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(i){qe(e,t,i)}else l.current=null}function _d(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(i){qe(e,e.return,i)}}function to(e,t,l){try{var a=e.stateNode;Zh(a,e.type,l,t),a[ot]=t}catch(i){qe(e,e.return,i)}}function Ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function lo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ao(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=ol));else if(a!==4&&(a===27&&Ql(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(ao(e,t,l),e=e.sibling;e!==null;)ao(e,t,l),e=e.sibling}function $i(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Ql(e.type)&&(l=e.stateNode),e=e.child,e!==null))for($i(e,t,l),e=e.sibling;e!==null;)$i(e,t,l),e=e.sibling}function Ad(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pt(t,a,l),t[Ye]=e,t[ot]=l}catch(s){qe(e,e.return,s)}}var pl=!1,st=!1,no=!1,zd=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Th(e,t){if(e=e.containerInfo,_o=ys,e=Yr(e),Fs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{l.nodeType,s.nodeType}catch{l=null;break e}var c=0,u=-1,S=-1,B=0,Q=0,W=e,H=null;t:for(;;){for(var G;W!==l||i!==0&&W.nodeType!==3||(u=c+i),W!==s||a!==0&&W.nodeType!==3||(S=c+a),W.nodeType===3&&(c+=W.nodeValue.length),(G=W.firstChild)!==null;)H=W,W=G;for(;;){if(W===e)break t;if(H===l&&++B===i&&(u=c),H===s&&++Q===a&&(S=c),(G=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=G}l=u===-1||S===-1?null:{start:u,end:S}}else l=null}l=l||{start:0,end:0}}else l=null;for(Eo={focusedElem:e,selectionRange:l},ys=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)i=e[l],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,l=t,i=s.memoizedProps,s=s.memoizedState,a=l.stateNode;try{var de=ma(l.type,i);e=a.getSnapshotBeforeUpdate(de,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(pe){qe(l,l.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Co(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Co(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function Cd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:bl(e,l),a&4&&qn(5,l);break;case 1:if(bl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){qe(l,l.return,c)}else{var i=ma(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){qe(l,l.return,c)}}a&64&&Nd(l),a&512&&Yn(l,l.return);break;case 3:if(bl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{hu(e,t)}catch(c){qe(l,l.return,c)}}break;case 27:t===null&&a&4&&Ad(l);case 26:case 5:bl(e,l),t===null&&a&4&&_d(l),a&512&&Yn(l,l.return);break;case 12:bl(e,l);break;case 31:bl(e,l),a&4&&Od(e,l);break;case 13:bl(e,l),a&4&&kd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=kh.bind(null,l),eg(e,l))));break;case 22:if(a=l.memoizedState!==null||pl,!a){t=t!==null&&t.memoizedState!==null||st,i=pl;var s=st;pl=a,(st=t)&&!s?Sl(e,l,(l.subtreeFlags&8772)!==0):bl(e,l),pl=i,st=s}break;case 30:break;default:bl(e,l)}}function Md(e){var t=e.alternate;t!==null&&(e.alternate=null,Md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ks(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Et=!1;function xl(e,t,l){for(l=l.child;l!==null;)Dd(e,t,l),l=l.sibling}function Dd(e,t,l){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Il,l)}catch{}switch(l.tag){case 26:st||il(l,t),xl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:st||il(l,t);var a=We,i=Et;Ql(l.type)&&(We=l.stateNode,Et=!1),xl(e,t,l),Wn(l.stateNode),We=a,Et=i;break;case 5:st||il(l,t);case 6:if(a=We,i=Et,We=null,xl(e,t,l),We=a,Et=i,We!==null)if(Et)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(l.stateNode)}catch(s){qe(l,t,s)}else try{We.removeChild(l.stateNode)}catch(s){qe(l,t,s)}break;case 18:We!==null&&(Et?(e=We,Tf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),an(e)):Tf(We,l.stateNode));break;case 4:a=We,i=Et,We=l.stateNode.containerInfo,Et=!0,xl(e,t,l),We=a,Et=i;break;case 0:case 11:case 14:case 15:Ul(2,l,t),st||Ul(4,l,t),xl(e,t,l);break;case 1:st||(il(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Td(l,t,a)),xl(e,t,l);break;case 21:xl(e,t,l);break;case 22:st=(a=st)||l.memoizedState!==null,xl(e,t,l),st=a;break;default:xl(e,t,l)}}function Od(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{an(e)}catch(l){qe(t,t.return,l)}}}function kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{an(e)}catch(l){qe(t,t.return,l)}}function _h(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zd),t;default:throw Error(d(435,e.tag))}}function Wi(e,t){var l=_h(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var i=Rh.bind(null,e,a);a.then(i,i)}})}function At(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var i=l[a],s=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 27:if(Ql(u.type)){We=u.stateNode,Et=!1;break e}break;case 5:We=u.stateNode,Et=!1;break e;case 3:case 4:We=u.stateNode.containerInfo,Et=!0;break e}u=u.return}if(We===null)throw Error(d(160));Dd(s,c,i),We=null,Et=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rd(t,e),t=t.sibling}var Pt=null;function Rd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),zt(e),a&4&&(Ul(3,e,e.return),qn(3,e),Ul(5,e,e.return));break;case 1:At(t,e),zt(e),a&512&&(st||l===null||il(l,l.return)),a&64&&pl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var i=Pt;if(At(t,e),zt(e),a&512&&(st||l===null||il(l,l.return)),a&4){var s=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[hn]||s[Ye]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),pt(s,a,l),s[Ye]=e,dt(s),a=s;break e;case"link":var c=Lf("link","href",i).get(a+(l.href||""));if(c){for(var u=0;u<c.length;u++)if(s=c[u],s.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&s.getAttribute("rel")===(l.rel==null?null:l.rel)&&s.getAttribute("title")===(l.title==null?null:l.title)&&s.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(u,1);break t}}s=i.createElement(a),pt(s,a,l),i.head.appendChild(s);break;case"meta":if(c=Lf("meta","content",i).get(a+(l.content||""))){for(u=0;u<c.length;u++)if(s=c[u],s.getAttribute("content")===(l.content==null?null:""+l.content)&&s.getAttribute("name")===(l.name==null?null:l.name)&&s.getAttribute("property")===(l.property==null?null:l.property)&&s.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&s.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(u,1);break t}}s=i.createElement(a),pt(s,a,l),i.head.appendChild(s);break;default:throw Error(d(468,a))}s[Ye]=e,dt(s),a=s}e.stateNode=a}else Bf(i,e.type,e.stateNode);else e.stateNode=Rf(i,a,e.memoizedProps);else s!==a?(s===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):s.count--,a===null?Bf(i,e.type,e.stateNode):Rf(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&to(e,e.memoizedProps,l.memoizedProps)}break;case 27:At(t,e),zt(e),a&512&&(st||l===null||il(l,l.return)),l!==null&&a&4&&to(e,e.memoizedProps,l.memoizedProps);break;case 5:if(At(t,e),zt(e),a&512&&(st||l===null||il(l,l.return)),e.flags&32){i=e.stateNode;try{_a(i,"")}catch(de){qe(e,e.return,de)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,to(e,i,l!==null?l.memoizedProps:i)),a&1024&&(no=!0);break;case 6:if(At(t,e),zt(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(de){qe(e,e.return,de)}}break;case 3:if(fs=null,i=Pt,Pt=us(t.containerInfo),At(t,e),Pt=i,zt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{an(t.containerInfo)}catch(de){qe(e,e.return,de)}no&&(no=!1,Ld(e));break;case 4:a=Pt,Pt=us(e.stateNode.containerInfo),At(t,e),zt(e),Pt=a;break;case 12:At(t,e),zt(e);break;case 31:At(t,e),zt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Wi(e,a)));break;case 13:At(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ii=Tt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Wi(e,a)));break;case 22:i=e.memoizedState!==null;var S=l!==null&&l.memoizedState!==null,B=pl,Q=st;if(pl=B||i,st=Q||S,At(t,e),st=Q,pl=B,zt(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(l===null||S||pl||st||ha(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){S=l=t;try{if(s=S.stateNode,i)c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{u=S.stateNode;var W=S.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;u.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){qe(S,S.return,de)}}}else if(t.tag===6){if(l===null){S=t;try{S.stateNode.nodeValue=i?"":S.memoizedProps}catch(de){qe(S,S.return,de)}}}else if(t.tag===18){if(l===null){S=t;try{var G=S.stateNode;i?_f(G,!0):_f(S.stateNode,!1)}catch(de){qe(S,S.return,de)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Wi(e,l))));break;case 19:At(t,e),zt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Wi(e,a)));break;case 30:break;case 21:break;default:At(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Ed(a)){l=a;break}a=a.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var i=l.stateNode,s=lo(e);$i(e,s,i);break;case 5:var c=l.stateNode;l.flags&32&&(_a(c,""),l.flags&=-33);var u=lo(e);$i(e,u,c);break;case 3:case 4:var S=l.stateNode.containerInfo,B=lo(e);ao(e,B,S);break;default:throw Error(d(161))}}catch(Q){qe(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ld(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ld(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cd(e,t.alternate,t),t=t.sibling}function ha(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ul(4,t,t.return),ha(t);break;case 1:il(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Td(t,t.return,l),ha(t);break;case 27:Wn(t.stateNode);case 26:case 5:il(t,t.return),ha(t);break;case 22:t.memoizedState===null&&ha(t);break;case 30:ha(t);break;default:ha(t)}e=e.sibling}}function Sl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,c=s.flags;switch(s.tag){case 0:case 11:case 15:Sl(i,s,l),qn(4,s);break;case 1:if(Sl(i,s,l),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(B){qe(a,a.return,B)}if(a=s,i=a.updateQueue,i!==null){var u=a.stateNode;try{var S=i.shared.hiddenCallbacks;if(S!==null)for(i.shared.hiddenCallbacks=null,i=0;i<S.length;i++)mu(S[i],u)}catch(B){qe(a,a.return,B)}}l&&c&64&&Nd(s),Yn(s,s.return);break;case 27:Ad(s);case 26:case 5:Sl(i,s,l),l&&a===null&&c&4&&_d(s),Yn(s,s.return);break;case 12:Sl(i,s,l);break;case 31:Sl(i,s,l),l&&c&4&&Od(i,s);break;case 13:Sl(i,s,l),l&&c&4&&kd(i,s);break;case 22:s.memoizedState===null&&Sl(i,s,l),Yn(s,s.return);break;case 30:break;default:Sl(i,s,l)}t=t.sibling}}function io(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&En(l))}function so(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&En(e))}function el(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bd(e,t,l,a),t=t.sibling}function Bd(e,t,l,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:el(e,t,l,a),i&2048&&qn(9,t);break;case 1:el(e,t,l,a);break;case 3:el(e,t,l,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&En(e)));break;case 12:if(i&2048){el(e,t,l,a),e=t.stateNode;try{var s=t.memoizedProps,c=s.id,u=s.onPostCommit;typeof u=="function"&&u(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){qe(t,t.return,S)}}else el(e,t,l,a);break;case 31:el(e,t,l,a);break;case 13:el(e,t,l,a);break;case 23:break;case 22:s=t.stateNode,c=t.alternate,t.memoizedState!==null?s._visibility&2?el(e,t,l,a):Gn(e,t):s._visibility&2?el(e,t,l,a):(s._visibility|=2,Za(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&io(c,t);break;case 24:el(e,t,l,a),i&2048&&so(t.alternate,t);break;default:el(e,t,l,a)}}function Za(e,t,l,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,c=t,u=l,S=a,B=c.flags;switch(c.tag){case 0:case 11:case 15:Za(s,c,u,S,i),qn(8,c);break;case 23:break;case 22:var Q=c.stateNode;c.memoizedState!==null?Q._visibility&2?Za(s,c,u,S,i):Gn(s,c):(Q._visibility|=2,Za(s,c,u,S,i)),i&&B&2048&&io(c.alternate,c);break;case 24:Za(s,c,u,S,i),i&&B&2048&&so(c.alternate,c);break;default:Za(s,c,u,S,i)}t=t.sibling}}function Gn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,i=a.flags;switch(a.tag){case 22:Gn(l,a),i&2048&&io(a.alternate,a);break;case 24:Gn(l,a),i&2048&&so(a.alternate,a);break;default:Gn(l,a)}t=t.sibling}}var Xn=8192;function Ka(e,t,l){if(e.subtreeFlags&Xn)for(e=e.child;e!==null;)Ud(e,t,l),e=e.sibling}function Ud(e,t,l){switch(e.tag){case 26:Ka(e,t,l),e.flags&Xn&&e.memoizedState!==null&&fg(l,Pt,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,l);break;case 3:case 4:var a=Pt;Pt=us(e.stateNode.containerInfo),Ka(e,t,l),Pt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Xn,Xn=16777216,Ka(e,t,l),Xn=a):Ka(e,t,l));break;default:Ka(e,t,l)}}function Hd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];ft=a,Yd(a,e)}Hd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qd(e),e=e.sibling}function qd(e){switch(e.tag){case 0:case 11:case 15:Vn(e),e.flags&2048&&Ul(9,e,e.return);break;case 3:Vn(e);break;case 12:Vn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fi(e)):Vn(e);break;default:Vn(e)}}function Fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];ft=a,Yd(a,e)}Hd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ul(8,t,t.return),Fi(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Fi(t));break;default:Fi(t)}e=e.sibling}}function Yd(e,t){for(;ft!==null;){var l=ft;switch(l.tag){case 0:case 11:case 15:Ul(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:En(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,ft=a;else e:for(l=e;ft!==null;){a=ft;var i=a.sibling,s=a.return;if(Md(a),a===l){ft=null;break e}if(i!==null){i.return=s,ft=i;break e}ft=s}}}var Eh={getCacheForType:function(e){var t=yt(at),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return yt(at).controller.signal}},Ah=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ze=null,Ae=null,Me=0,He=0,Lt=null,Hl=!1,Ja=!1,co=!1,jl=0,Ie=0,ql=0,ga=0,oo=0,Bt=0,$a=0,Qn=null,Ct=null,ro=!1,Ii=0,Gd=0,Pi=1/0,es=null,Yl=null,rt=0,Gl=null,Wa=null,wl=0,uo=0,fo=null,Xd=null,Zn=0,mo=null;function Ut(){return(Ue&2)!==0&&Me!==0?Me&-Me:U.T!==null?xo():Qe()}function Vd(){if(Bt===0)if((Me&536870912)===0||ke){var e=fn;fn<<=1,(fn&3932160)===0&&(fn=262144),Bt=e}else Bt=536870912;return e=kt.current,e!==null&&(e.flags|=32),Bt}function Mt(e,t,l){(e===Ze&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Xl(e,Me,Bt,!1)),K(e,l),((Ue&2)===0||e!==Ze)&&(e===Ze&&((Ue&2)===0&&(ga|=l),Ie===4&&Xl(e,Me,Bt,!1)),sl(e))}function Qd(e,t,l){if((Ue&6)!==0)throw Error(d(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||El(e,t),i=a?Mh(e,t):go(e,t,!0),s=a;do{if(i===0){Ja&&!a&&Xl(e,t,0,!1);break}else{if(l=e.current.alternate,s&&!zh(l)){i=go(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var u=e;i=Qn;var S=u.current.memoizedState.isDehydrated;if(S&&(Fa(u,c).flags|=256),c=go(u,c,!1),c!==2){if(co&&!S){u.errorRecoveryDisabledLanes|=s,ga|=s,i=4;break e}s=Ct,Ct=i,s!==null&&(Ct===null?Ct=s:Ct.push.apply(Ct,s))}i=c}if(s=!1,i!==2)continue}}if(i===1){Fa(e,0),Xl(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Xl(a,t,Bt,!Hl);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=Ii+300-Tt(),10<i)){if(Xl(a,t,Bt,!Hl),mn(a,0,!0)!==0)break e;wl=t,a.timeoutHandle=wf(Zd.bind(null,a,l,Ct,es,ro,t,Bt,ga,$a,Hl,s,"Throttled",-0,0),i);break e}Zd(a,l,Ct,es,ro,t,Bt,ga,$a,Hl,s,null,-0,0)}}break}while(!0);sl(e)}function Zd(e,t,l,a,i,s,c,u,S,B,Q,W,H,G){if(e.timeoutHandle=-1,W=t.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ol},Ud(t,s,W);var de=(s&62914560)===s?Ii-Tt():(s&4194048)===s?Gd-Tt():0;if(de=mg(W,de),de!==null){wl=s,e.cancelPendingCommit=de(ef.bind(null,e,t,s,l,a,i,c,u,S,Q,W,null,H,G)),Xl(e,s,c,!B);return}}ef(e,t,s,l,a,i,c,u,S)}function zh(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var i=l[a],s=i.getSnapshot;i=i.value;try{if(!Dt(s(),i))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,l,a){t&=~oo,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-St(i),c=1<<s;a[s]=-1,i&=~c}l!==0&&ge(e,l,t)}function ts(){return(Ue&6)===0?(Kn(0),!1):!0}function ho(){if(Ae!==null){if(He===0)var e=Ae.return;else e=Ae,fl=sa=null,zc(e),Ya=null,zn=0,e=Ae;for(;e!==null;)wd(e.alternate,e),e=e.return;Ae=null}}function Fa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,$h(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),wl=0,ho(),Ze=e,Ae=l=ul(e.current,null),Me=t,He=0,Lt=null,Hl=!1,Ja=El(e,t),co=!1,$a=Bt=oo=ga=ql=Ie=0,Ct=Qn=null,ro=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-St(a),s=1<<i;t|=e[i],a&=~s}return jl=t,ji(),l}function Kd(e,t){Ne=null,U.H=Bn,t===qa||t===Ci?(t=ru(),He=3):t===vc?(t=ru(),He=4):He=t===Qc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Lt=t,Ae===null&&(Ie=1,Vi(e,Xt(t,e.current)))}function Jd(){var e=kt.current;return e===null?!0:(Me&4194048)===Me?Kt===null:(Me&62914560)===Me||(Me&536870912)!==0?e===Kt:!1}function $d(){var e=U.H;return U.H=Bn,e===null?Bn:e}function Wd(){var e=U.A;return U.A=Eh,e}function ls(){Ie=4,Hl||(Me&4194048)!==Me&&kt.current!==null||(Ja=!0),(ql&134217727)===0&&(ga&134217727)===0||Ze===null||Xl(Ze,Me,Bt,!1)}function go(e,t,l){var a=Ue;Ue|=2;var i=$d(),s=Wd();(Ze!==e||Me!==t)&&(es=null,Fa(e,t)),t=!1;var c=Ie;e:do try{if(He!==0&&Ae!==null){var u=Ae,S=Lt;switch(He){case 8:ho(),c=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var B=He;if(He=0,Lt=null,Ia(e,u,S,B),l&&Ja){c=0;break e}break;default:B=He,He=0,Lt=null,Ia(e,u,S,B)}}Ch(),c=Ie;break}catch(Q){Kd(e,Q)}while(!0);return t&&e.shellSuspendCounter++,fl=sa=null,Ue=a,U.H=i,U.A=s,Ae===null&&(Ze=null,Me=0,ji()),c}function Ch(){for(;Ae!==null;)Fd(Ae)}function Mh(e,t){var l=Ue;Ue|=2;var a=$d(),i=Wd();Ze!==e||Me!==t?(es=null,Pi=Tt()+500,Fa(e,t)):Ja=El(e,t);e:do try{if(He!==0&&Ae!==null){t=Ae;var s=Lt;t:switch(He){case 1:He=0,Lt=null,Ia(e,t,s,1);break;case 2:case 9:if(cu(s)){He=0,Lt=null,Id(t);break}t=function(){He!==2&&He!==9||Ze!==e||(He=7),sl(e)},s.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:cu(s)?(He=0,Lt=null,Id(t)):(He=0,Lt=null,Ia(e,t,s,7));break;case 5:var c=null;switch(Ae.tag){case 26:c=Ae.memoizedState;case 5:case 27:var u=Ae;if(c?Uf(c):u.stateNode.complete){He=0,Lt=null;var S=u.sibling;if(S!==null)Ae=S;else{var B=u.return;B!==null?(Ae=B,as(B)):Ae=null}break t}}He=0,Lt=null,Ia(e,t,s,5);break;case 6:He=0,Lt=null,Ia(e,t,s,6);break;case 8:ho(),Ie=6;break e;default:throw Error(d(462))}}Dh();break}catch(Q){Kd(e,Q)}while(!0);return fl=sa=null,U.H=a,U.A=i,Ue=l,Ae!==null?0:(Ze=null,Me=0,ji(),Ie)}function Dh(){for(;Ae!==null&&!va();)Fd(Ae)}function Fd(e){var t=Sd(e.alternate,e,jl);e.memoizedProps=e.pendingProps,t===null?as(e):Ae=t}function Id(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=gd(l,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=gd(l,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:zc(t);default:wd(l,t),t=Ae=Wr(t,jl),t=Sd(l,t,jl)}e.memoizedProps=e.pendingProps,t===null?as(e):Ae=t}function Ia(e,t,l,a){fl=sa=null,zc(t),Ya=null,zn=0;var i=t.return;try{if(bh(e,i,t,l,Me)){Ie=1,Vi(e,Xt(l,e.current)),Ae=null;return}}catch(s){if(i!==null)throw Ae=i,s;Ie=1,Vi(e,Xt(l,e.current)),Ae=null;return}t.flags&32768?(ke||a===1?e=!0:Ja||(Me&536870912)!==0?e=!1:(Hl=e=!0,(a===2||a===9||a===3||a===6)&&(a=kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Pd(t,e)):as(t)}function as(e){var t=e;do{if((t.flags&32768)!==0){Pd(t,Hl);return}e=t.return;var l=wh(t.alternate,t,jl);if(l!==null){Ae=l;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Ie===0&&(Ie=5)}function Pd(e,t){do{var l=Nh(e.alternate,e);if(l!==null){l.flags&=32767,Ae=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=l}while(e!==null);Ie=6,Ae=null}function ef(e,t,l,a,i,s,c,u,S){e.cancelPendingCommit=null;do ns();while(rt!==0);if((Ue&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(s=t.lanes|t.childLanes,s|=lc,te(e,l,s,c,u,S),e===Ze&&(Ae=Ze=null,Me=0),Wa=t,Gl=e,wl=l,uo=s,fo=i,Xd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lh(pa,function(){return sf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null,i=I.p,I.p=2,c=Ue,Ue|=4;try{Th(e,t,l)}finally{Ue=c,I.p=i,U.T=a}}rt=1,tf(),lf(),af()}}function tf(){if(rt===1){rt=0;var e=Gl,t=Wa,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var a=I.p;I.p=2;var i=Ue;Ue|=4;try{Rd(t,e);var s=Eo,c=Yr(e.containerInfo),u=s.focusedElem,S=s.selectionRange;if(c!==u&&u&&u.ownerDocument&&qr(u.ownerDocument.documentElement,u)){if(S!==null&&Fs(u)){var B=S.start,Q=S.end;if(Q===void 0&&(Q=B),"selectionStart"in u)u.selectionStart=B,u.selectionEnd=Math.min(Q,u.value.length);else{var W=u.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var G=H.getSelection(),de=u.textContent.length,pe=Math.min(S.start,de),Ve=S.end===void 0?pe:Math.min(S.end,de);!G.extend&&pe>Ve&&(c=Ve,Ve=pe,pe=c);var A=Hr(u,pe),_=Hr(u,Ve);if(A&&_&&(G.rangeCount!==1||G.anchorNode!==A.node||G.anchorOffset!==A.offset||G.focusNode!==_.node||G.focusOffset!==_.offset)){var R=W.createRange();R.setStart(A.node,A.offset),G.removeAllRanges(),pe>Ve?(G.addRange(R),G.extend(_.node,_.offset)):(R.setEnd(_.node,_.offset),G.addRange(R))}}}}for(W=[],G=u;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<W.length;u++){var J=W[u];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ys=!!_o,Eo=_o=null}finally{Ue=i,I.p=a,U.T=l}}e.current=t,rt=2}}function lf(){if(rt===2){rt=0;var e=Gl,t=Wa,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var a=I.p;I.p=2;var i=Ue;Ue|=4;try{Cd(e,t.alternate,t)}finally{Ue=i,I.p=a,U.T=l}}rt=3}}function af(){if(rt===4||rt===3){rt=0,Es();var e=Gl,t=Wa,l=wl,a=Xd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,Wa=Gl=null,nf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Yl=null),re(l),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Il,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=U.T,i=I.p,I.p=2,U.T=null;try{for(var s=e.onRecoverableError,c=0;c<a.length;c++){var u=a[c];s(u.value,{componentStack:u.stack})}}finally{U.T=t,I.p=i}}(wl&3)!==0&&ns(),sl(e),i=e.pendingLanes,(l&261930)!==0&&(i&42)!==0?e===mo?Zn++:(Zn=0,mo=e):Zn=0,Kn(0)}}function nf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,En(t)))}function ns(){return tf(),lf(),af(),sf()}function sf(){if(rt!==5)return!1;var e=Gl,t=uo;uo=0;var l=re(wl),a=U.T,i=I.p;try{I.p=32>l?32:l,U.T=null,l=fo,fo=null;var s=Gl,c=wl;if(rt=0,Wa=Gl=null,wl=0,(Ue&6)!==0)throw Error(d(331));var u=Ue;if(Ue|=4,qd(s.current),Bd(s,s.current,c,l),Ue=u,Kn(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Il,s)}catch{}return!0}finally{I.p=i,U.T=a,nf(e,t)}}function cf(e,t,l){t=Xt(l,t),t=Vc(e.stateNode,t,2),e=Rl(e,t,2),e!==null&&(K(e,2),sl(e))}function qe(e,t,l){if(e.tag===3)cf(e,e,l);else for(;t!==null;){if(t.tag===3){cf(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yl===null||!Yl.has(a))){e=Xt(l,e),l=cd(2),a=Rl(t,l,2),a!==null&&(od(l,a,t,e),K(a,2),sl(a));break}}t=t.return}}function yo(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Ah;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(l)||(co=!0,i.add(l),e=Oh.bind(null,e,t,l),t.then(e,e))}function Oh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ze===e&&(Me&l)===l&&(Ie===4||Ie===3&&(Me&62914560)===Me&&300>Tt()-Ii?(Ue&2)===0&&Fa(e,0):oo|=l,$a===Me&&($a=0)),sl(e)}function of(e,t){t===0&&(t=z()),e=aa(e,t),e!==null&&(K(e,t),sl(e))}function kh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),of(e,l)}function Rh(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(l=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),of(e,l)}function Lh(e,t){return Ft(e,t)}var is=null,Pa=null,vo=!1,ss=!1,po=!1,Vl=0;function sl(e){e!==Pa&&e.next===null&&(Pa===null?is=Pa=e:Pa=Pa.next=e),ss=!0,vo||(vo=!0,Uh())}function Kn(e,t){if(!po&&ss){po=!0;do for(var l=!1,a=is;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var c=a.suspendedLanes,u=a.pingedLanes;s=(1<<31-St(42|e)+1)-1,s&=i&~(c&~u),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(l=!0,ff(a,s))}else s=Me,s=mn(a,a===Ze?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||El(a,s)||(l=!0,ff(a,s));a=a.next}while(l);po=!1}}function Bh(){rf()}function rf(){ss=vo=!1;var e=0;Vl!==0&&Jh()&&(e=Vl);for(var t=Tt(),l=null,a=is;a!==null;){var i=a.next,s=uf(a,t);s===0?(a.next=null,l===null?is=i:l.next=i,i===null&&(Pa=l)):(l=a,(e!==0||(s&3)!==0)&&(ss=!0)),a=i}rt!==0&&rt!==5||Kn(e),Vl!==0&&(Vl=0)}function uf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var c=31-St(s),u=1<<c,S=i[c];S===-1?((u&l)===0||(u&a)!==0)&&(i[c]=ui(u,t)):S<=t&&(e.expiredLanes|=u),s&=~u}if(t=Ze,l=Me,l=mn(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&un(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||El(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&un(a),re(l)){case 2:case 8:l=oi;break;case 32:l=pa;break;case 268435456:l=ri;break;default:l=pa}return a=df.bind(null,e),l=Ft(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&un(a),e.callbackPriority=2,e.callbackNode=null,2}function df(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ns()&&e.callbackNode!==l)return null;var a=Me;return a=mn(e,e===Ze?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Qd(e,a,t),uf(e,Tt()),e.callbackNode!=null&&e.callbackNode===l?df.bind(null,e):null)}function ff(e,t){if(ns())return null;Qd(e,t,!0)}function Uh(){Wh(function(){(Ue&6)!==0?Ft(dn,Bh):rf()})}function xo(){if(Vl===0){var e=Ua;e===0&&(e=xa,xa<<=1,(xa&261888)===0&&(xa=256)),Vl=e}return Vl}function mf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hi(""+e)}function hf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Hh(e,t,l,a,i){if(t==="submit"&&l&&l.stateNode===i){var s=mf((i[ot]||null).action),c=a.submitter;c&&(t=(t=c[ot]||null)?mf(t.formAction):c.getAttribute("formAction"),t!==null&&(s=t,c=null));var u=new pi("action","action",null,a,i);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Vl!==0){var S=c?hf(i,c):new FormData(i);Uc(l,{pending:!0,data:S,method:i.method,action:s},null,S)}}else typeof s=="function"&&(u.preventDefault(),S=c?hf(i,c):new FormData(i),Uc(l,{pending:!0,data:S,method:i.method,action:s},s,S))},currentTarget:i}]})}}for(var bo=0;bo<tc.length;bo++){var So=tc[bo],qh=So.toLowerCase(),Yh=So[0].toUpperCase()+So.slice(1);It(qh,"on"+Yh)}It(Vr,"onAnimationEnd"),It(Qr,"onAnimationIteration"),It(Zr,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(ah,"onTransitionRun"),It(nh,"onTransitionStart"),It(ih,"onTransitionCancel"),It(Kr,"onTransitionEnd"),Na("onMouseEnter",["mouseout","mouseover"]),Na("onMouseLeave",["mouseout","mouseover"]),Na("onPointerEnter",["pointerout","pointerover"]),Na("onPointerLeave",["pointerout","pointerover"]),Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jn));function gf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var c=a.length-1;0<=c;c--){var u=a[c],S=u.instance,B=u.currentTarget;if(u=u.listener,S!==s&&i.isPropagationStopped())break e;s=u,i.currentTarget=B;try{s(i)}catch(Q){Si(Q)}i.currentTarget=null,s=S}else for(c=0;c<a.length;c++){if(u=a[c],S=u.instance,B=u.currentTarget,u=u.listener,S!==s&&i.isPropagationStopped())break e;s=u,i.currentTarget=B;try{s(i)}catch(Q){Si(Q)}i.currentTarget=null,s=S}}}}function ze(e,t){var l=t[mt];l===void 0&&(l=t[mt]=new Set);var a=e+"__bubble";l.has(a)||(yf(t,e,2,!1),l.add(a))}function jo(e,t,l){var a=0;t&&(a|=4),yf(l,e,a,t)}var cs="_reactListening"+Math.random().toString(36).slice(2);function wo(e){if(!e[cs]){e[cs]=!0,or.forEach(function(l){l!=="selectionchange"&&(Gh.has(l)||jo(l,!1,e),jo(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cs]||(t[cs]=!0,jo("selectionchange",!1,t))}}function yf(e,t,l,a){switch(Qf(t)){case 2:var i=yg;break;case 8:i=vg;break;default:i=Uo}l=i.bind(null,t,l,e),i=void 0,!Gs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,l,{capture:!0,passive:i}):e.addEventListener(t,l,!0):i!==void 0?e.addEventListener(t,l,{passive:i}):e.addEventListener(t,l,!1)}function No(e,t,l,a,i){var s=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var u=a.stateNode.containerInfo;if(u===i)break;if(c===4)for(c=a.return;c!==null;){var S=c.tag;if((S===3||S===4)&&c.stateNode.containerInfo===i)return;c=c.return}for(;u!==null;){if(c=Sa(u),c===null)return;if(S=c.tag,S===5||S===6||S===26||S===27){a=s=c;continue e}u=u.parentNode}}a=a.return}br(function(){var B=s,Q=qs(l),W=[];e:{var H=Jr.get(e);if(H!==void 0){var G=pi,de=e;switch(e){case"keypress":if(yi(l)===0)break e;case"keydown":case"keyup":G=Rm;break;case"focusin":de="focus",G=Zs;break;case"focusout":de="blur",G=Zs;break;case"beforeblur":case"afterblur":G=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Um;break;case Vr:case Qr:case Zr:G=_m;break;case Kr:G=qm;break;case"scroll":case"scrollend":G=Sm;break;case"wheel":G=Gm;break;case"copy":case"cut":case"paste":G=Am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Tr;break;case"toggle":case"beforetoggle":G=Vm}var pe=(t&4)!==0,Ve=!pe&&(e==="scroll"||e==="scrollend"),A=pe?H!==null?H+"Capture":null:H;pe=[];for(var _=B,R;_!==null;){var J=_;if(R=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||R===null||A===null||(J=yn(_,A),J!=null&&pe.push($n(_,J,R))),Ve)break;_=_.return}0<pe.length&&(H=new G(H,de,null,l,Q),W.push({event:H,listeners:pe}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&l!==Hs&&(de=l.relatedTarget||l.fromElement)&&(Sa(de)||de[jt]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(de=l.relatedTarget||l.toElement,G=B,de=de?Sa(de):null,de!==null&&(Ve=g(de),pe=de.tag,de!==Ve||pe!==5&&pe!==27&&pe!==6)&&(de=null)):(G=null,de=B),G!==de)){if(pe=wr,J="onMouseLeave",A="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Tr,J="onPointerLeave",A="onPointerEnter",_="pointer"),Ve=G==null?H:gn(G),R=de==null?H:gn(de),H=new pe(J,_+"leave",G,l,Q),H.target=Ve,H.relatedTarget=R,J=null,Sa(Q)===B&&(pe=new pe(A,_+"enter",de,l,Q),pe.target=R,pe.relatedTarget=Ve,J=pe),Ve=J,G&&de)t:{for(pe=Xh,A=G,_=de,R=0,J=A;J;J=pe(J))R++;J=0;for(var ve=_;ve;ve=pe(ve))J++;for(;0<R-J;)A=pe(A),R--;for(;0<J-R;)_=pe(_),J--;for(;R--;){if(A===_||_!==null&&A===_.alternate){pe=A;break t}A=pe(A),_=pe(_)}pe=null}else pe=null;G!==null&&vf(W,H,G,pe,!1),de!==null&&Ve!==null&&vf(W,Ve,de,pe,!0)}}e:{if(H=B?gn(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var Le=Or;else if(Mr(H))if(kr)Le=eh;else{Le=Im;var fe=Fm}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Us(B.elementType)&&(Le=Or):Le=Pm;if(Le&&(Le=Le(e,B))){Dr(W,Le,l,Q);break e}fe&&fe(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Bs(H,"number",H.value)}switch(fe=B?gn(B):window,e){case"focusin":(Mr(fe)||fe.contentEditable==="true")&&(Ca=fe,Is=B,Nn=null);break;case"focusout":Nn=Is=Ca=null;break;case"mousedown":Ps=!0;break;case"contextmenu":case"mouseup":case"dragend":Ps=!1,Gr(W,l,Q);break;case"selectionchange":if(lh)break;case"keydown":case"keyup":Gr(W,l,Q)}var _e;if(Js)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else za?zr(e,l)&&(De="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(_r&&l.locale!=="ko"&&(za||De!=="onCompositionStart"?De==="onCompositionEnd"&&za&&(_e=Sr()):(Al=Q,Xs="value"in Al?Al.value:Al.textContent,za=!0)),fe=os(B,De),0<fe.length&&(De=new Nr(De,e,null,l,Q),W.push({event:De,listeners:fe}),_e?De.data=_e:(_e=Cr(l),_e!==null&&(De.data=_e)))),(_e=Zm?Km(e,l):Jm(e,l))&&(De=os(B,"onBeforeInput"),0<De.length&&(fe=new Nr("onBeforeInput","beforeinput",null,l,Q),W.push({event:fe,listeners:De}),fe.data=_e)),Hh(W,e,B,l,Q)}gf(W,t)})}function $n(e,t,l){return{instance:e,listener:t,currentTarget:l}}function os(e,t){for(var l=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=yn(e,l),i!=null&&a.unshift($n(e,i,s)),i=yn(e,t),i!=null&&a.push($n(e,i,s))),e.tag===3)return a;e=e.return}return[]}function Xh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vf(e,t,l,a,i){for(var s=t._reactName,c=[];l!==null&&l!==a;){var u=l,S=u.alternate,B=u.stateNode;if(u=u.tag,S!==null&&S===a)break;u!==5&&u!==26&&u!==27||B===null||(S=B,i?(B=yn(l,s),B!=null&&c.unshift($n(l,B,S))):i||(B=yn(l,s),B!=null&&c.push($n(l,B,S)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var Vh=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function pf(e){return(typeof e=="string"?e:""+e).replace(Vh,`
`).replace(Qh,"")}function xf(e,t){return t=pf(t),pf(e)===t}function Xe(e,t,l,a,i,s){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||_a(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&_a(e,""+a);break;case"className":fi(e,"class",a);break;case"tabIndex":fi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(e,l,a);break;case"style":pr(e,a,s);break;case"data":if(t!=="object"){fi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=hi(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(l==="formAction"?(t!=="input"&&Xe(e,t,"name",i.name,i,null),Xe(e,t,"formEncType",i.formEncType,i,null),Xe(e,t,"formMethod",i.formMethod,i,null),Xe(e,t,"formTarget",i.formTarget,i,null)):(Xe(e,t,"encType",i.encType,i,null),Xe(e,t,"method",i.method,i,null),Xe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=hi(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=ol);break;case"onScroll":a!=null&&ze("scroll",e);break;case"onScrollEnd":a!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=hi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":ze("beforetoggle",e),ze("toggle",e),di(e,"popover",a);break;case"xlinkActuate":cl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":cl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":cl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":cl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":cl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":cl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":cl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":cl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":cl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":di(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xm.get(l)||l,di(e,l,a))}}function To(e,t,l,a,i,s){switch(l){case"style":pr(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof a=="string"?_a(e,a):(typeof a=="number"||typeof a=="bigint")&&_a(e,""+a);break;case"onScroll":a!=null&&ze("scroll",e);break;case"onScrollEnd":a!=null&&ze("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(i=l.endsWith("Capture"),t=l.slice(2,i?l.length-7:void 0),s=e[ot]||null,s=s!=null?s[l]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,i);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):di(e,l,a)}}}function pt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var a=!1,i=!1,s;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];if(c!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Xe(e,t,s,c,l,null)}}i&&Xe(e,t,"srcSet",l.srcSet,l,null),a&&Xe(e,t,"src",l.src,l,null);return;case"input":ze("invalid",e);var u=s=c=i=null,S=null,B=null;for(a in l)if(l.hasOwnProperty(a)){var Q=l[a];if(Q!=null)switch(a){case"name":i=Q;break;case"type":c=Q;break;case"checked":S=Q;break;case"defaultChecked":B=Q;break;case"value":s=Q;break;case"defaultValue":u=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(d(137,t));break;default:Xe(e,t,a,Q,l,null)}}hr(e,s,u,S,B,c,i,!1);return;case"select":ze("invalid",e),a=c=s=null;for(i in l)if(l.hasOwnProperty(i)&&(u=l[i],u!=null))switch(i){case"value":s=u;break;case"defaultValue":c=u;break;case"multiple":a=u;default:Xe(e,t,i,u,l,null)}t=s,l=c,e.multiple=!!a,t!=null?Ta(e,!!a,t,!1):l!=null&&Ta(e,!!a,l,!0);return;case"textarea":ze("invalid",e),s=i=a=null;for(c in l)if(l.hasOwnProperty(c)&&(u=l[c],u!=null))switch(c){case"value":a=u;break;case"defaultValue":i=u;break;case"children":s=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:Xe(e,t,c,u,l,null)}yr(e,a,i,s);return;case"option":for(S in l)if(l.hasOwnProperty(S)&&(a=l[S],a!=null))switch(S){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Xe(e,t,S,a,l,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(a=0;a<Jn.length;a++)ze(Jn[a],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in l)if(l.hasOwnProperty(B)&&(a=l[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Xe(e,t,B,a,l,null)}return;default:if(Us(t)){for(Q in l)l.hasOwnProperty(Q)&&(a=l[Q],a!==void 0&&To(e,t,Q,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&Xe(e,t,u,a,l,null))}function Zh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,c=null,u=null,S=null,B=null,Q=null;for(G in l){var W=l[G];if(l.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":S=W;default:a.hasOwnProperty(G)||Xe(e,t,G,null,a,W)}}for(var H in a){var G=a[H];if(W=l[H],a.hasOwnProperty(H)&&(G!=null||W!=null))switch(H){case"type":s=G;break;case"name":i=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":c=G;break;case"defaultValue":u=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(d(137,t));break;default:G!==W&&Xe(e,t,H,G,a,W)}}Ls(e,c,u,S,B,Q,s,i);return;case"select":G=c=u=H=null;for(s in l)if(S=l[s],l.hasOwnProperty(s)&&S!=null)switch(s){case"value":break;case"multiple":G=S;default:a.hasOwnProperty(s)||Xe(e,t,s,null,a,S)}for(i in a)if(s=a[i],S=l[i],a.hasOwnProperty(i)&&(s!=null||S!=null))switch(i){case"value":H=s;break;case"defaultValue":u=s;break;case"multiple":c=s;default:s!==S&&Xe(e,t,i,s,a,S)}t=u,l=c,a=G,H!=null?Ta(e,!!l,H,!1):!!a!=!!l&&(t!=null?Ta(e,!!l,t,!0):Ta(e,!!l,l?[]:"",!1));return;case"textarea":G=H=null;for(u in l)if(i=l[u],l.hasOwnProperty(u)&&i!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Xe(e,t,u,null,a,i)}for(c in a)if(i=a[c],s=l[c],a.hasOwnProperty(c)&&(i!=null||s!=null))switch(c){case"value":H=i;break;case"defaultValue":G=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==s&&Xe(e,t,c,i,a,s)}gr(e,H,G);return;case"option":for(var de in l)if(H=l[de],l.hasOwnProperty(de)&&H!=null&&!a.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Xe(e,t,de,null,a,H)}for(S in a)if(H=a[S],G=l[S],a.hasOwnProperty(S)&&H!==G&&(H!=null||G!=null))switch(S){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(e,t,S,H,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)H=l[pe],l.hasOwnProperty(pe)&&H!=null&&!a.hasOwnProperty(pe)&&Xe(e,t,pe,null,a,H);for(B in a)if(H=a[B],G=l[B],a.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(d(137,t));break;default:Xe(e,t,B,H,a,G)}return;default:if(Us(t)){for(var Ve in l)H=l[Ve],l.hasOwnProperty(Ve)&&H!==void 0&&!a.hasOwnProperty(Ve)&&To(e,t,Ve,void 0,a,H);for(Q in a)H=a[Q],G=l[Q],!a.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||To(e,t,Q,H,a,G);return}}for(var A in l)H=l[A],l.hasOwnProperty(A)&&H!=null&&!a.hasOwnProperty(A)&&Xe(e,t,A,null,a,H);for(W in a)H=a[W],G=l[W],!a.hasOwnProperty(W)||H===G||H==null&&G==null||Xe(e,t,W,H,a,G)}function bf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var i=l[a],s=i.transferSize,c=i.initiatorType,u=i.duration;if(s&&u&&bf(c)){for(c=0,u=i.responseEnd,a+=1;a<l.length;a++){var S=l[a],B=S.startTime;if(B>u)break;var Q=S.transferSize,W=S.initiatorType;Q&&bf(W)&&(S=S.responseEnd,c+=Q*(S<u?1:(u-B)/(S-B)))}if(--a,t+=8*(s+c)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _o=null,Eo=null;function rs(e){return e.nodeType===9?e:e.ownerDocument}function Sf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zo=null;function Jh(){var e=window.event;return e&&e.type==="popstate"?e===zo?!1:(zo=e,!0):(zo=null,!1)}var wf=typeof setTimeout=="function"?setTimeout:void 0,$h=typeof clearTimeout=="function"?clearTimeout:void 0,Nf=typeof Promise=="function"?Promise:void 0,Wh=typeof queueMicrotask=="function"?queueMicrotask:typeof Nf<"u"?function(e){return Nf.resolve(null).then(e).catch(Fh)}:wf;function Fh(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function Tf(e,t){var l=t,a=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(i),an(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Wn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Wn(l);for(var s=l.firstChild;s;){var c=s.nextSibling,u=s.nodeName;s[hn]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&s.rel.toLowerCase()==="stylesheet"||l.removeChild(s),s=c}}else l==="body"&&Wn(e.ownerDocument.body);l=i}while(l);an(t)}function _f(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Co(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Co(l),ks(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ih(e,t,l,a){for(;e.nodeType===1;){var i=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[hn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Ph(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Jt(e.nextSibling),e===null))return null;return e}function Ef(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function Mo(e){return e.data==="$?"||e.data==="$~"}function Do(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eg(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Oo=null;function Af(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Jt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Cf(e,t,l){switch(t=rs(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Wn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ks(e)}var $t=new Map,Mf=new Set;function us(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nl=I.d;I.d={f:tg,r:lg,D:ag,C:ng,L:ig,m:sg,X:og,S:cg,M:rg};function tg(){var e=Nl.f(),t=ts();return e||t}function lg(e){var t=ja(e);t!==null&&t.tag===5&&t.type==="form"?Ku(t):Nl.r(e)}var en=typeof document>"u"?null:document;function Df(e,t,l){var a=en;if(a&&typeof t=="string"&&t){var i=Yt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof l=="string"&&(i+='[crossorigin="'+l+'"]'),Mf.has(i)||(Mf.add(i),e={rel:e,crossOrigin:l,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),pt(t,"link",e),dt(t),a.head.appendChild(t)))}}function ag(e){Nl.D(e),Df("dns-prefetch",e,null)}function ng(e,t){Nl.C(e,t),Df("preconnect",e,t)}function ig(e,t,l){Nl.L(e,t,l);var a=en;if(a&&e&&t){var i='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(i+='[imagesrcset="'+Yt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(i+='[imagesizes="'+Yt(l.imageSizes)+'"]')):i+='[href="'+Yt(e)+'"]';var s=i;switch(t){case"style":s=tn(e);break;case"script":s=ln(e)}$t.has(s)||(e=x({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),$t.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Fn(s))||t==="script"&&a.querySelector(In(s))||(t=a.createElement("link"),pt(t,"link",e),dt(t),a.head.appendChild(t)))}}function sg(e,t){Nl.m(e,t);var l=en;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Yt(a)+'"][href="'+Yt(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ln(e)}if(!$t.has(s)&&(e=x({rel:"modulepreload",href:e},t),$t.set(s,e),l.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(In(s)))return}a=l.createElement("link"),pt(a,"link",e),dt(a),l.head.appendChild(a)}}}function cg(e,t,l){Nl.S(e,t,l);var a=en;if(a&&e){var i=wa(a).hoistableStyles,s=tn(e);t=t||"default";var c=i.get(s);if(!c){var u={loading:0,preload:null};if(c=a.querySelector(Fn(s)))u.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},l),(l=$t.get(s))&&ko(e,l);var S=c=a.createElement("link");dt(S),pt(S,"link",e),S._p=new Promise(function(B,Q){S.onload=B,S.onerror=Q}),S.addEventListener("load",function(){u.loading|=1}),S.addEventListener("error",function(){u.loading|=2}),u.loading|=4,ds(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:u},i.set(s,c)}}}function og(e,t){Nl.X(e,t);var l=en;if(l&&e){var a=wa(l).hoistableScripts,i=ln(e),s=a.get(i);s||(s=l.querySelector(In(i)),s||(e=x({src:e,async:!0},t),(t=$t.get(i))&&Ro(e,t),s=l.createElement("script"),dt(s),pt(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function rg(e,t){Nl.M(e,t);var l=en;if(l&&e){var a=wa(l).hoistableScripts,i=ln(e),s=a.get(i);s||(s=l.querySelector(In(i)),s||(e=x({src:e,async:!0,type:"module"},t),(t=$t.get(i))&&Ro(e,t),s=l.createElement("script"),dt(s),pt(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Of(e,t,l,a){var i=(i=ce.current)?us(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=tn(l.href),l=wa(i).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=tn(l.href);var s=wa(i).hoistableStyles,c=s.get(e);if(c||(i=i.ownerDocument||i,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,c),(s=i.querySelector(Fn(e)))&&!s._p&&(c.instance=s,c.state.loading=5),$t.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$t.set(e,l),s||ug(i,e,l,c.state))),t&&a===null)throw Error(d(528,""));return c}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ln(l),l=wa(i).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function tn(e){return'href="'+Yt(e)+'"'}function Fn(e){return'link[rel="stylesheet"]['+e+"]"}function kf(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function ug(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),pt(t,"link",l),dt(t),e.head.appendChild(t))}function ln(e){return'[src="'+Yt(e)+'"]'}function In(e){return"script[async]"+e}function Rf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Yt(l.href)+'"]');if(a)return t.instance=a,dt(a),a;var i=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),dt(a),pt(a,"style",i),ds(a,l.precedence,e),t.instance=a;case"stylesheet":i=tn(l.href);var s=e.querySelector(Fn(i));if(s)return t.state.loading|=4,t.instance=s,dt(s),s;a=kf(l),(i=$t.get(i))&&ko(a,i),s=(e.ownerDocument||e).createElement("link"),dt(s);var c=s;return c._p=new Promise(function(u,S){c.onload=u,c.onerror=S}),pt(s,"link",a),t.state.loading|=4,ds(s,l.precedence,e),t.instance=s;case"script":return s=ln(l.src),(i=e.querySelector(In(s)))?(t.instance=i,dt(i),i):(a=l,(i=$t.get(s))&&(a=x({},l),Ro(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),dt(i),pt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ds(a,l.precedence,e));return t.instance}function ds(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,c=0;c<a.length;c++){var u=a[c];if(u.dataset.precedence===t)s=u;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function ko(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ro(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fs=null;function Lf(e,t,l){if(fs===null){var a=new Map,i=fs=new Map;i.set(l,a)}else i=fs,a=i.get(l),a||(a=new Map,i.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),i=0;i<l.length;i++){var s=l[i];if(!(s[hn]||s[Ye]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var c=s.getAttribute(t)||"";c=e+c;var u=a.get(c);u?u.push(s):a.set(c,[s])}}return a}function Bf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function dg(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Uf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fg(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var i=tn(a.href),s=t.querySelector(Fn(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ms.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=s,dt(s);return}s=t.ownerDocument||t,a=kf(a),(i=$t.get(i))&&ko(a,i),s=s.createElement("link"),dt(s);var c=s;c._p=new Promise(function(u,S){c.onload=u,c.onerror=S}),pt(s,"link",a),l.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ms.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Lo=0;function mg(e,t){return e.stylesheets&&e.count===0&&gs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Lo===0&&(Lo=62500*Kh());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Lo?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function ms(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hs=null;function gs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hs=new Map,t.forEach(hg,e),hs=null,ms.call(e))}function hg(e,t){if(!(t.state.loading&4)){var l=hs.get(e);if(l)var a=l.get(null);else{l=new Map,hs.set(e,l);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var c=i[s];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}i=t.instance,c=i.getAttribute("data-precedence"),s=l.get(c)||a,s===a&&l.set(null,i),l.set(c,i),this.count++,a=ms.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Pn={$$typeof:V,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function gg(e,t,l,a,i,s,c,u,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=X(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X(0),this.hiddenUpdates=X(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Hf(e,t,l,a,i,s,c,u,S,B,Q,W){return e=new gg(e,t,l,c,S,B,Q,W,u),t=1,s===!0&&(t|=24),s=Ot(3,null,null,t),e.current=s,s.stateNode=e,t=hc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:l,cache:t},pc(s),e}function qf(e){return e?(e=Oa,e):Oa}function Yf(e,t,l,a,i,s){i=qf(i),a.context===null?a.context=i:a.pendingContext=i,a=kl(t),a.payload={element:l},s=s===void 0?null:s,s!==null&&(a.callback=s),l=Rl(e,a,t),l!==null&&(Mt(l,e,t),Mn(l,e,t))}function Gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Bo(e,t){Gf(e,t),(e=e.alternate)&&Gf(e,t)}function Xf(e){if(e.tag===13||e.tag===31){var t=aa(e,67108864);t!==null&&Mt(t,e,67108864),Bo(e,67108864)}}function Vf(e){if(e.tag===13||e.tag===31){var t=Ut();t=Te(t);var l=aa(e,t);l!==null&&Mt(l,e,t),Bo(e,t)}}var ys=!0;function yg(e,t,l,a){var i=U.T;U.T=null;var s=I.p;try{I.p=2,Uo(e,t,l,a)}finally{I.p=s,U.T=i}}function vg(e,t,l,a){var i=U.T;U.T=null;var s=I.p;try{I.p=8,Uo(e,t,l,a)}finally{I.p=s,U.T=i}}function Uo(e,t,l,a){if(ys){var i=Ho(a);if(i===null)No(e,t,a,vs,l),Zf(e,a);else if(xg(i,e,t,l,a))a.stopPropagation();else if(Zf(e,a),t&4&&-1<pg.indexOf(e)){for(;i!==null;){var s=ja(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var c=_l(s.pendingLanes);if(c!==0){var u=s;for(u.pendingLanes|=2,u.entangledLanes|=2;c;){var S=1<<31-St(c);u.entanglements[1]|=S,c&=~S}sl(s),(Ue&6)===0&&(Pi=Tt()+500,Kn(0))}}break;case 31:case 13:u=aa(s,2),u!==null&&Mt(u,s,2),ts(),Bo(s,2)}if(s=Ho(a),s===null&&No(e,t,a,vs,l),s===i)break;i=s}i!==null&&a.stopPropagation()}else No(e,t,a,null,l)}}function Ho(e){return e=qs(e),qo(e)}var vs=null;function qo(e){if(vs=null,e=Sa(e),e!==null){var t=g(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=w(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vs=e,null}function Qf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case dn:return 2;case oi:return 8;case pa:case As:return 32;case ri:return 268435456;default:return 32}default:return 32}}var Yo=!1,Zl=null,Kl=null,Jl=null,ei=new Map,ti=new Map,$l=[],pg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zf(e,t){switch(e){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(t.pointerId)}}function li(e,t,l,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ja(t),t!==null&&Xf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xg(e,t,l,a,i){switch(t){case"focusin":return Zl=li(Zl,e,t,l,a,i),!0;case"dragenter":return Kl=li(Kl,e,t,l,a,i),!0;case"mouseover":return Jl=li(Jl,e,t,l,a,i),!0;case"pointerover":var s=i.pointerId;return ei.set(s,li(ei.get(s)||null,e,t,l,a,i)),!0;case"gotpointercapture":return s=i.pointerId,ti.set(s,li(ti.get(s)||null,e,t,l,a,i)),!0}return!1}function Kf(e){var t=Sa(e.target);if(t!==null){var l=g(t);if(l!==null){if(t=l.tag,t===13){if(t=w(l),t!==null){e.blockedOn=t,Re(e.priority,function(){Vf(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,Re(e.priority,function(){Vf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ho(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Hs=a,l.target.dispatchEvent(a),Hs=null}else return t=ja(l),t!==null&&Xf(t),e.blockedOn=l,!1;t.shift()}return!0}function Jf(e,t,l){ps(e)&&l.delete(t)}function bg(){Yo=!1,Zl!==null&&ps(Zl)&&(Zl=null),Kl!==null&&ps(Kl)&&(Kl=null),Jl!==null&&ps(Jl)&&(Jl=null),ei.forEach(Jf),ti.forEach(Jf)}function xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Yo||(Yo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bg)))}var bs=null;function $f(e){bs!==e&&(bs=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){bs===e&&(bs=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(qo(a||l)===null)continue;break}var s=ja(l);s!==null&&(e.splice(t,3),t-=3,Uc(s,{pending:!0,data:i,method:l.method,action:a},a,i))}}))}function an(e){function t(S){return xs(S,e)}Zl!==null&&xs(Zl,e),Kl!==null&&xs(Kl,e),Jl!==null&&xs(Jl,e),ei.forEach(t),ti.forEach(t);for(var l=0;l<$l.length;l++){var a=$l[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<$l.length&&(l=$l[0],l.blockedOn===null);)Kf(l),l.blockedOn===null&&$l.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var i=l[a],s=l[a+1],c=i[ot]||null;if(typeof s=="function")c||$f(l);else if(c){var u=null;if(s&&s.hasAttribute("formAction")){if(i=s,c=s[ot]||null)u=c.formAction;else if(qo(i)!==null)continue}else u=c.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),$f(l)}}}function Wf(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(c){return i=c})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Go(e){this._internalRoot=e}Ss.prototype.render=Go.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,a=Ut();Yf(l,a,e,t,null,null)},Ss.prototype.unmount=Go.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yf(e.current,2,null,e,null,null),ts(),t[jt]=null}};function Ss(e){this._internalRoot=e}Ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qe();e={blockedOn:null,target:e,priority:t};for(var l=0;l<$l.length&&t!==0&&t<$l[l].priority;l++);$l.splice(l,0,e),l===0&&Kf(e)}};var Ff=h.version;if(Ff!=="19.2.0")throw Error(d(527,Ff,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=v(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Sg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Il=js.inject(Sg),bt=js}catch{}}return ni.createRoot=function(e,t){if(!f(e))throw Error(d(299));var l=!1,a="",i=ad,s=nd,c=id;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Hf(e,1,!1,null,null,l,a,null,i,s,c,Wf),e[jt]=t.current,wo(e),new Go(t)},ni.hydrateRoot=function(e,t,l){if(!f(e))throw Error(d(299));var a=!1,i="",s=ad,c=nd,u=id,S=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(i=l.identifierPrefix),l.onUncaughtError!==void 0&&(s=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(S=l.formState)),t=Hf(e,1,!0,t,l??null,a,i,S,s,c,u,Wf),t.context=qf(null),l=t.current,a=Ut(),a=Te(a),i=kl(a),i.callback=null,Rl(l,i,a),l=a,t.current.lanes=l,K(t,l),sl(t),e[jt]=t.current,wo(e),new Ss(t)},ni.version="19.2.0",ni}var cm;function Dg(){if(cm)return Qo.exports;cm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(h){console.error(h)}}return o(),Qo.exports=Mg(),Qo.exports}var Og=Dg();const om=({onBack:o,label:h=" Back"})=>n.jsx("button",{onClick:o,className:"toolbar-btn",style:{display:"inline-flex",alignItems:"center",gap:8},children:h}),lt={alpaca_config:{name:"Alpaca Data",icon:"key",color:"color-config",inputs:[],outputs:["symbol","timeframe","days"],config:[{key:"symbol",label:"Symbol",type:"text",value:"SPY"},{key:"timeframe",label:"Timeframe",type:"select",options:["1Min","5Min","15Min","1Hour","1Day"],value:"1Hour"},{key:"days",label:"Days",type:"number",value:7},{key:"keyId",label:"Alpaca Key ID",type:"text",value:""},{key:"secretKey",label:"Alpaca Secret Key",type:"text",value:""}]},input:{name:"Price Input",icon:"inbox",color:"color-input",inputs:["symbol","timeframe","days"],outputs:["prices","volumes"],config:[{key:"symbol",label:"Symbol",type:"text",value:"SPY"},{key:"timeframe",label:"Timeframe",type:"select",options:["1Min","5Min","15Min","1Hour","1Day"],value:"1Hour"},{key:"days",label:"Days",type:"number",value:7}]},price_history:{name:"Price History",icon:"chart",color:"color-input",inputs:["symbol","timeframe","days"],outputs:["prices"],config:[]},volume_history:{name:"Volume History",icon:"chart",color:"color-volume",inputs:["symbol","timeframe","days"],outputs:["volumes"],config:[]},rsi:{name:"RSI",icon:"bolt",color:"color-indicator",inputs:["prices"],outputs:["rsi"],config:[{key:"period",label:"Period",type:"number",value:14},{key:"source",label:"Source",type:"select",options:["current","close","open","high","low","hl2","hlc3","ohlc4"],value:"close"},{key:"overbought",label:"Overbought Level",type:"number",value:70},{key:"oversold",label:"Oversold Level",type:"number",value:30}]},ema:{name:"EMA",icon:"bolt",color:"color-indicator",inputs:["prices"],outputs:["ema"],config:[{key:"period",label:"Period",type:"number",value:20},{key:"source",label:"Source",type:"select",options:["current","close","open","high","low","hl2","hlc3","ohlc4"],value:"close"},{key:"output",label:"Output",type:"select",options:["value","signal"],value:"value"}]},macd:{name:"MACD",icon:"bolt",color:"color-indicator",inputs:["prices"],outputs:["macd"],config:[{key:"fast",label:"Fast EMA",type:"number",value:12},{key:"slow",label:"Slow EMA",type:"number",value:26},{key:"signal",label:"Signal",type:"number",value:9},{key:"source",label:"Source",type:"select",options:["current","close","open","high","low","hl2","hlc3","ohlc4"],value:"close"},{key:"output",label:"Output",type:"select",options:["macd","signal","histogram"],value:"macd"}]},atr:{name:"ATR",icon:"bolt",color:"color-indicator",inputs:["prices"],outputs:["atr"],config:[{key:"period",label:"Period",type:"number",value:14},{key:"source",label:"Source",type:"select",options:["current","close","open","high","low","hl2","hlc3","ohlc4"],value:"close"}]},obv:{name:"OBV",icon:"drop",color:"color-volume",inputs:["prices","volumes"],outputs:["obv"],config:[]},bollinger:{name:"Bollinger Bands",icon:"chart-up",color:"color-indicator",inputs:["prices"],outputs:["upper","lower","middle"],config:[{key:"period",label:"Period",type:"number",value:20},{key:"num_std",label:"Std Dev",type:"number",value:2},{key:"source",label:"Source",type:"select",options:["current","close","open","high","low","hl2","hlc3","ohlc4"],value:"close"},{key:"output",label:"Output",type:"select",options:["upper","lower","middle","signal"],value:"upper"}]},stochastic:{name:"Stochastic",icon:"bolt",color:"color-indicator",inputs:["prices"],outputs:["stoch"],config:[{key:"period",label:"Period",type:"number",value:14},{key:"smooth_k",label:"Smooth K",type:"number",value:3},{key:"smooth_d",label:"Smooth D",type:"number",value:3},{key:"source",label:"Source",type:"select",options:["close","open","high","low","hl2","hlc3","ohlc4"],value:"close"},{key:"overbought",label:"Overbought Level",type:"number",value:80},{key:"oversold",label:"Oversold Level",type:"number",value:20}]},vwap:{name:"VWAP",icon:"bolt",color:"color-indicator",inputs:["prices","volumes"],outputs:["vwap"],config:[{key:"output",label:"Output",type:"select",options:["value","signal"],value:"value"}]},volume_spike:{name:"Volume Spike",icon:"chart-up",color:"color-volume",inputs:["volumes"],outputs:["spike"],config:[{key:"period",label:"Period",type:"number",value:20},{key:"multiplier",label:"Multiplier",type:"number",value:1.5}]},and:{name:"AND Gate",icon:"plus",color:"color-logic",inputs:["a","b"],outputs:["result"],config:[]},or:{name:"OR Gate",icon:"plus",color:"color-logic",inputs:["a","b"],outputs:["result"],config:[]},not:{name:"NOT Gate",icon:"plus",color:"color-logic",inputs:["a"],outputs:["result"],config:[]},compare:{name:"Compare",icon:"search",color:"color-logic",inputs:["a","b"],outputs:["result"],config:[{key:"operator",label:"Operator",type:"select",options:[">","<","=",">=","<="],value:">"}]},ai_agent:{name:"AI Agent",icon:"ai",color:"color-output",inputs:["analyse"],outputs:["signal"],config:[{key:"script",label:"Base Script",type:"textarea",value:""}]},output:{name:"Output",icon:"target",color:"color-output",inputs:["signal"],outputs:[],config:[]},note:{name:"Text Note",icon:"note",color:"color-note",inputs:[],outputs:[],config:[{key:"content",label:"Note",type:"textarea",value:""}]}},Ht=({name:o,className:h="",alt:j="",size:d=18,style:f={}})=>{if(!o)return null;const g=`/icons/${o}.svg`;return n.jsx("img",{src:g,alt:j||o,className:h,style:{width:d,height:d,objectFit:"contain",...f},onError:w=>{w.target.style.display="inline-block",w.target.onerror=null}})},cn={Templates:{desc:"Starter strategy presets",icon:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[n.jsx("path",{d:"M6 2h7l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M13 2v6h6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("rect",{x:"8",y:"10",width:"3",height:"2",stroke:"currentColor",strokeWidth:"1"}),n.jsx("rect",{x:"12",y:"10",width:"3",height:"2",stroke:"currentColor",strokeWidth:"1"}),n.jsx("rect",{x:"8",y:"13",width:"3",height:"2",stroke:"currentColor",strokeWidth:"1"})]})},Configuration:{desc:"Set global strategy parameters",icon:n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:n.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 1 1 2.28 16.9l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09c.67 0 1.24-.4 1.51-1a1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 6.9 2.28l.06.06c.5.5 1.17.77 1.82.33.41-.26.95-.33 1.51-.33H12a2 2 0 1 1 4 0h.09c.56 0 1.1.07 1.51.33.65.44 1.32.17 1.82-.33l.06-.06A2 2 0 1 1 21.72 7.1l-.06.06c-.26.67-.33 1.24-.33 1.82V9a2 2 0 1 1 0 4h-.09c-.67 0-1.24.4-1.51 1z",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"})})},Indicators:{desc:"Add and configure technical indicators",icon:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),n.jsx("path",{d:"M6 15l4-6 3 4 5-8",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})},Logic:{desc:"Define conditions, triggers, and rule logic",icon:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[n.jsx("path",{d:"M12 3v6",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 9c0 3-4 3-4 6v3",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 9c0 3 4 3 4 6v3",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})},"AI & Output":{desc:"Use AI prediction blocks and set outputs",icon:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[n.jsx("rect",{x:"4",y:"7",width:"16",height:"9",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),n.jsx("path",{d:"M9 11h.01M15 11h.01",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 4v3",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Utility:{desc:"Timers, alerts, clean-up tools, helpers",icon:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[n.jsx("rect",{x:"3",y:"7",width:"18",height:"11",rx:"2",stroke:"currentColor",strokeWidth:"1.2"}),n.jsx("path",{d:"M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},rm={"template-golden-cross":"Templates","template-rsi-volume":"Templates",alpaca_config:"Configuration",input:"Configuration",price_history:"Configuration",volume_history:"Configuration",rsi:"Indicators",ema:"Indicators",macd:"Indicators",atr:"Indicators",obv:"Indicators",bollinger:"Indicators",stochastic:"Indicators",vwap:"Indicators",volume_spike:"Indicators",and:"Logic",or:"Logic",not:"Logic",compare:"Logic",ai_agent:"AI & Output",output:"AI & Output",note:"Utility"},kg=[{category:"Templates",items:[{type:"template-golden-cross",name:"Golden Cross",desc:"50/200 SMA crossover",icon:"puzzle"},{type:"template-rsi-volume",name:"RSI + Volume Spike",desc:"Oversold with volume confirmation",icon:"puzzle"}]},{category:"Configuration",items:[{...lt.input,type:"input"},{...lt.price_history,type:"price_history"},{...lt.volume_history,type:"volume_history"}]},{category:"Indicators",items:[{...lt.rsi,type:"rsi"},{...lt.ema,type:"ema"},{...lt.macd,type:"macd"},{...lt.atr,type:"atr"},{...lt.obv,type:"obv"},{...lt.bollinger,type:"bollinger"},{...lt.stochastic,type:"stochastic"},{...lt.vwap,type:"vwap"},{...lt.volume_spike,type:"volume_spike"}]},{category:"Logic",items:[{...lt.and,type:"and"},{...lt.or,type:"or"},{...lt.not,type:"not"},{...lt.compare,type:"compare"}]},{category:"AI & Output",items:[{...lt.ai_agent,type:"ai_agent"},{...lt.output,type:"output"},{...lt.signal,type:"signal"}]},{category:"Utility",items:[{...lt.note,type:"note"}]}],Rg=()=>{const[o,h]=L.useState({}),[j,d]=L.useState({}),f=w=>{h(m=>({...m,[w]:!m[w]}))},g=(w,m)=>{d(b=>({...b,[w]:m}))};return n.jsxs("div",{className:"sidebar",children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[n.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",style:{stopColor:"#2962ff",stopOpacity:1}}),n.jsx("stop",{offset:"100%",style:{stopColor:"#5e8cff",stopOpacity:1}})]})}),n.jsx("path",{d:"M4 8 L16 8 L16 12 L4 12 Z",fill:"url(#logoGradient)",opacity:"0.9"}),n.jsx("path",{d:"M4 14 L28 14 L28 18 L4 18 Z",fill:"url(#logoGradient)"}),n.jsx("path",{d:"M4 20 L22 20 L22 24 L4 24 Z",fill:"url(#logoGradient)",opacity:"0.8"}),n.jsx("circle",{cx:"26",cy:"10",r:"2",fill:"#5e8cff"}),n.jsx("circle",{cx:"24",cy:"22",r:"2",fill:"#2962ff"})]}),n.jsx("h2",{style:{fontSize:16,fontWeight:700,color:"#f8f9fa",margin:0},children:"FLOWTRADE"})]}),n.jsx("p",{children:"Drag blocks to canvas to build your strategy"})]}),kg.map(w=>n.jsxs("div",{className:`block-category${o[w.category]?" collapsed":""}`,children:[n.jsx("div",{className:"category-title",onClick:()=>f(w.category),title:cn[w.category]?.desc||"","aria-label":cn[w.category]?.desc||"",children:n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{color:"var(--text-secondary)"},children:cn[w.category]?.icon||null}),n.jsx("span",{children:w.category})]})}),n.jsxs("div",{className:"category-blocks",children:[n.jsx("input",{type:"text",className:"category-search",placeholder:`Search ${w.category.toLowerCase()}...`,value:j[w.category]||"",onChange:m=>g(w.category,m.target.value)}),w.items.filter(m=>!j[w.category]||m.name.toLowerCase().includes(j[w.category].toLowerCase())||m.desc&&m.desc.toLowerCase().includes(j[w.category].toLowerCase())).map(m=>n.jsxs("div",{className:"block-item",draggable:"true","data-block-type":m.type,onDragStart:b=>b.dataTransfer.setData("blockType",m.type),children:[n.jsx("div",{className:`block-icon ${m.color||""}`,children:m.icon?n.jsx(Ht,{name:m.icon,size:14}):cn[w.category]?.icon||null}),n.jsxs("div",{className:"block-info",children:[n.jsx("div",{className:"block-name",children:m.name}),n.jsx("div",{className:"block-desc",children:m.desc})]})]},m.type))]})]},w.category))]})},Lg=({onSave:o,onLoad:h,onExport:j,onImport:d,onClear:f,onOrganize:g,onRun:w,onSample:m,onToggleMonitor:b,onRunToggle:v,onBacktest:T,liveRunning:x,extraBefore:y=null,onNew:C=null})=>{const k=(M,E)=>()=>{if(E)return E();const q=document.getElementById(M);q?q.click():(M==="organizeBtn"&&window.organizeWorkflow&&window.organizeWorkflow(),M==="runBtn"&&window.runWorkflow&&window.runWorkflow())};return n.jsxs("div",{className:"toolbar",children:[y,C&&n.jsx("button",{className:"toolbar-btn",id:"newBtn",onClick:C,title:"Start new workflow (clear canvas)",children:"New"}),n.jsx("button",{className:"toolbar-btn",id:"organizeBtn",onClick:k("organizeBtn",g),title:"Auto-arrange blocks",children:"Organize"}),n.jsx("button",{className:"toolbar-btn",id:"clearBtn",onClick:k("clearBtn",f),children:"Clear"}),n.jsx("button",{className:"toolbar-btn",id:"saveBtn",onClick:k("saveBtn",o),title:"Save workflow",children:"Save"}),n.jsx("button",{className:"toolbar-btn",id:"loadBtn",onClick:k("loadBtn",h),title:"Load workflow",children:"Load"}),n.jsx("button",{className:"toolbar-btn",id:"importBtn",onClick:k("importBtn",d),title:"Load workflow from file",children:"Import"}),n.jsx("button",{className:"toolbar-btn",id:"loadSampleBtn",onClick:k("loadSampleBtn",m),title:"Load a demo workflow",children:"Load Sample"}),n.jsx("button",{className:"toolbar-btn",id:"exportBtn",onClick:k("exportBtn",j),children:"Export"}),n.jsx("button",{className:"toolbar-btn",id:"backTestingBtn",onClick:k("backTestingBtn",T),title:"Back Testing",children:"Back Testing"}),n.jsx("button",{className:"toolbar-btn",id:"monitorBtn",onClick:k("monitorBtn",b),title:"Open Monitor",children:"Monitor"}),n.jsx("div",{className:"toolbar-run",children:n.jsxs("label",{id:"runBtn",className:`run-switch ${x?"on":"off"}`,title:"Toggle continuous run",children:[n.jsx("input",{"aria-label":"Run Strategy",type:"checkbox",checked:!!x,onChange:()=>{v?v():k("runBtn",w)()}}),n.jsx("span",{className:"slider"})]})})]})},Bg=({node:o,onUpdatePosition:h,onDelete:j,onStartConnection:d,onEndConnection:f,onOpenSettings:g})=>{const w=L.useRef(null),[m,b]=L.useState(!1);L.useEffect(()=>{const y=w.current;y&&(y.style.left=`${o.x}px`,y.style.top=`${o.y}px`)},[o.x,o.y]),L.useEffect(()=>{let y=null,C=null;const k={current:null},M={x:null,y:null},E=q=>{k.current||(k.current=window.requestAnimationFrame(()=>{k.current=null,M.x!==null&&M.y!==null&&h(q,M.x,M.y)}))};return m&&(y=q=>{try{q.preventDefault()}catch{}const Y=typeof q.pageX<"u"?q.pageX:q.touches&&q.touches[0]&&q.touches[0].pageX||0,V=typeof q.pageY<"u"?q.pageY:q.touches&&q.touches[0]&&q.touches[0].pageY||0,D=Y-v.current.x,F=V-v.current.y;M.x=D,M.y=F,E(o.id)},C=q=>{b(!1),k.current&&(window.cancelAnimationFrame(k.current),k.current=null),document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",C),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C)},document.addEventListener("pointermove",y,{passive:!1}),document.addEventListener("pointerup",C),document.addEventListener("mousemove",y,{passive:!1}),document.addEventListener("mouseup",C)),()=>{y&&(document.removeEventListener("pointermove",y),document.removeEventListener("mousemove",y)),C&&(document.removeEventListener("pointerup",C),document.removeEventListener("mouseup",C)),k.current&&(window.cancelAnimationFrame(k.current),k.current=null)}},[m]);const v=L.useRef({x:0,y:0});L.useRef(null),L.useRef({x:null,y:null});const T=y=>{if(y.pointerType==="mouse"&&y.button!==0||y.target.closest("button"))return;try{y.preventDefault()}catch{}try{y.target.setPointerCapture&&y.target.setPointerCapture(y.pointerId)}catch{}const C=o.x,k=o.y,M=typeof y.pageX<"u"?y.pageX:y.touches&&y.touches[0]&&y.touches[0].pageX||0,E=typeof y.pageY<"u"?y.pageY:y.touches&&y.touches[0]&&y.touches[0].pageY||0;v.current={x:M-C,y:E-k},b(!0)},x=o.execStatus==="executing"?"executing":o.execStatus==="passed"?"node-passed":o.execStatus==="failed"?"node-failed":o.execStatus==="skipped"?"node-skipped":"";return n.jsxs("div",{className:`node${o.selected?" selected":""}${x?" "+x:""}${m?" dragging":""}`,id:`node-${o.id}`,ref:w,style:{left:o.x,top:o.y,position:"absolute",userSelect:m?"none":"auto"},children:[n.jsxs("div",{className:"node-header",onPointerDown:T,style:{cursor:"grab",userSelect:"none"},children:[n.jsx("div",{className:`node-icon ${o.def?.color||""}`,children:o.def?.icon?n.jsx(Ht,{name:o.def.icon,size:18}):cn[rm[o.type]]&&cn[rm[o.type]].icon||""}),n.jsx("div",{className:"node-title",children:o.def?.name||o.type}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:6},children:[o.def&&Array.isArray(o.def.config)&&o.def.config.length>0&&n.jsxs("button",{type:"button",className:"node-settings",onMouseDown:y=>{y.stopPropagation(),y.preventDefault()},onClick:y=>{y.stopPropagation(),g&&g(o)},title:"Settings",children:[" ",n.jsx(Ht,{name:"plus",size:14})," "]}),n.jsx("button",{type:"button",className:"node-delete",onMouseDown:y=>{y.stopPropagation(),y.preventDefault()},onClick:y=>{y.stopPropagation(),j(o.id)},children:""})]})]}),n.jsxs("div",{className:"node-body",children:[n.jsx("div",{className:"node-inputs",children:o.def?.inputs?.map(y=>n.jsxs("div",{className:"node-port input","data-port":y,"data-node-id":o.id,"data-port-type":"input",children:[n.jsx("span",{className:"port-dot","data-port":y,"data-node-id":o.id,"data-port-type":"input",onMouseUp:C=>{C.stopPropagation(),f&&f(o.id,y,"input")}}),n.jsx("span",{children:y})]},y))}),n.jsx("div",{className:"node-outputs",children:o.def?.outputs?.map(y=>n.jsxs("div",{className:"node-port output","data-port":y,"data-node-id":o.id,"data-port-type":"output",children:[n.jsx("span",{children:y}),n.jsx("span",{className:"port-dot","data-port":y,"data-node-id":o.id,"data-port-type":"output",onClick:C=>{C.stopPropagation(),d&&d(o.id,y,"output")}})]},y))})]})]})},Ug=({svgRef:o,connections:h=[],connecting:j=null,selectedId:d=null,onSelect:f=()=>{},onDelete:g=()=>{},nodes:w=[],canvasScale:m=1,canvasOffset:b={x:0,y:0}})=>{const[v,T]=L.useState([]);L.useEffect(()=>{let y=!0,C=null;const k=()=>{const Y=o?.current;if(!Y)return[];const V=Y.getBoundingClientRect(),D=P=>{if(!P)return null;const $=P.getBoundingClientRect();return{x:$.left+$.width/2-V.left,y:$.top+$.height/2-V.top}},F=[];if(h.forEach(P=>{const $=document.querySelector(`.port-dot[data-node-id="${P.from.nodeId}"][data-port="${P.from.port}"][data-port-type="output"]`),ie=document.querySelector(`.port-dot[data-node-id="${P.to.nodeId}"][data-port="${P.to.port}"][data-port-type="input"]`),Z=D($),oe=D(ie);if(!Z||!oe)return;const le=Math.max(40,Math.abs(oe.x-Z.x)*.5),me=`M ${Z.x} ${Z.y} C ${Z.x+le} ${Z.y} ${oe.x-le} ${oe.y} ${oe.x} ${oe.y}`,Oe={x:(Z.x+oe.x)/2,y:(Z.y+oe.y)/2};F.push({id:P.id,d:me,mid:Oe})}),j&&Y){const P=document.querySelector(`.port-dot[data-node-id="${j.from.nodeId}"][data-port="${j.from.port}"][data-port-type="output"]`),$=D(P),ie=Y.getBoundingClientRect();if($&&typeof j.x=="number"&&typeof j.y=="number"){const Z={x:j.x-ie.left,y:j.y-ie.top},oe=Math.max(40,Math.abs(Z.x-$.x)*.5),le=`M ${$.x} ${$.y} C ${$.x+oe} ${$.y} ${Z.x-oe} ${Z.y} ${Z.x} ${Z.y}`,me={x:($.x+Z.x)/2,y:($.y+Z.y)/2};F.push({id:"__temp__",d:le,mid:me})}}return F},M=()=>{C||(C=window.requestAnimationFrame(()=>{if(C=null,!!y)try{const Y=k();T(Y)}catch{}}))};M();let E=null;try{const Y=document.querySelector(".canvas");Y&&typeof MutationObserver<"u"&&(E=new MutationObserver(M),E.observe(Y,{attributes:!0,childList:!0,subtree:!0}))}catch{}const q=()=>M();return window.addEventListener("resize",q),()=>{y=!1,C&&window.cancelAnimationFrame(C),window.removeEventListener("resize",q);try{E&&E.disconnect()}catch{}}},[h,j,o,JSON.stringify(w||[]),m,b.x,b.y]);const x=n.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"8",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:n.jsx("path",{d:"M0,0 L10,3.5 L0,7",fill:"#60a5fa"})});return n.jsxs("g",{className:"connection-layer",children:[n.jsx("defs",{children:x}),v.map(y=>n.jsxs("g",{children:[n.jsx("path",{d:y.d,stroke:"#6e7380",strokeWidth:12,fill:"none",opacity:0,style:{cursor:"pointer"},onClick:()=>f(y.id)}),n.jsx("path",{d:y.d,className:y.id==="__temp__"?"temp-connection connection-wire":"connection-wire",stroke:y.id===d?"#60a5fa":"#6e7380",strokeWidth:y.id===d?3.2:2.2,fill:"none",markerEnd:"url(#arrowhead)",style:{pointerEvents:"auto",cursor:"pointer",opacity:y.id==="__temp__"?.5:.8,filter:y.id===d?"drop-shadow(0 0 6px #60a5fa)":y.id==="__temp__"?"drop-shadow(0 0 6px #787b86)":"none",strokeDasharray:y.id==="__temp__"?"6 4":void 0,animation:y.id==="__temp__"?"dashmove 1s linear infinite":void 0,transition:"stroke 0.18s, filter 0.18s"},onMouseEnter:C=>{y.id!=="__temp__"&&(C.target.style.stroke="#2962ff"),y.id!=="__temp__"&&(C.target.style.opacity=1),y.id!=="__temp__"&&(C.target.style.strokeWidth=3)},onMouseLeave:C=>{y.id!=="__temp__"&&(C.target.style.stroke=y.id===d?"#60a5fa":"#6e7380"),y.id!=="__temp__"&&(C.target.style.opacity=.8),y.id!=="__temp__"&&(C.target.style.strokeWidth=y.id===d?3.2:2.2)},onClick:()=>f(y.id)}),y.id===d&&n.jsxs("g",{children:[n.jsx("circle",{cx:y.mid.x,cy:y.mid.y,r:12,fill:"#1f2937",stroke:"#374151"}),n.jsx("text",{x:y.mid.x,y:y.mid.y+5,textAnchor:"middle",fontSize:"16",fill:"#f8fafc",style:{cursor:"pointer"},onClick:()=>g(y.id),children:""})]})]},y.id))]})},Hg=(o,h)=>{if(!o||!h||h.length<2)return;const j=o.getContext("2d"),d=o.clientWidth,f=o.clientHeight;o.width=d,o.height=f,j.clearRect(0,0,d,f),j.strokeStyle="#60a5fa",j.lineWidth=2,j.beginPath();const g=h.map(v=>typeof v.v<"u"?v.v:v.value||v.y||0);if(!g.length)return;const w=Math.min(...g),b=Math.max(...g)-w||1;g.forEach((v,T)=>{const x=T/(g.length-1||1)*d,y=f-(v-w)/b*f;T===0?j.moveTo(x,y):j.lineTo(x,y)}),j.stroke()},qg=({series:o=[],width:h=120,height:j=26,color:d="#60a5fa"})=>{const f=L.useRef(null);return L.useEffect(()=>{const g=f.current;if(!g||!o||o.length===0)return;g.width=h,g.height=j;const w=g.getContext("2d");w.clearRect(0,0,h,j);const m=Math.min(...o),v=Math.max(...o)-m||1;w.strokeStyle=d,w.lineWidth=1.2,w.beginPath(),o.forEach((T,x)=>{const y=x/(o.length-1||1)*h,C=j-(T-m)/v*j;x===0?w.moveTo(y,C):w.lineTo(y,C)}),w.stroke()},[o,h,j,d]),n.jsx("canvas",{ref:f,style:{width:h,height:j}})},Yg=({data:o={},open:h=!0,onClose:j=()=>{},onRerun:d=()=>{},onDownload:f=()=>{}})=>{const g=L.useRef(null),[w,m]=L.useState(new Set),[b,v]=L.useState(new Set),[T,x]=L.useState(()=>{try{const D=localStorage.getItem("resultsPanelWidth");return D?Number(D):420}catch{return 420}}),y=L.useRef(!1),C=L.useRef(null),k=L.useRef(T),M=L.useRef(null);if(L.useEffect(()=>{o?.equityCurve&&g.current&&Hg(g.current,o.equityCurve)},[o]),L.useEffect(()=>{try{localStorage.setItem("resultsPanelWidth",String(T))}catch{}},[T]),L.useEffect(()=>{const D=P=>{if(!y.current)return;const $=P.touches&&P.touches[0]?P.touches[0].clientX:P.clientX,ie=Math.max(300,Math.min(window.innerWidth-80,window.innerWidth-$));k.current=ie,M.current||(M.current=window.requestAnimationFrame(()=>{M.current=null;try{C.current&&(C.current.style.width=`${k.current}px`)}catch{}})),P.cancelable&&P.preventDefault()},F=()=>{y.current&&(y.current=!1,document.body.style.cursor="",document.body.style.userSelect="",M.current&&(window.cancelAnimationFrame(M.current),M.current=null),x(k.current))};return window.addEventListener("mousemove",D),window.addEventListener("mouseup",F),window.addEventListener("touchmove",D,{passive:!1}),window.addEventListener("touchend",F),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",F),window.removeEventListener("touchmove",D),window.removeEventListener("touchend",F),M.current&&(window.cancelAnimationFrame(M.current),M.current=null)}},[]),!h)return null;const E=D=>{m(F=>{const P=new Set(F);return P.has(D)?P.delete(D):P.add(D),P})},q=D=>{v(F=>{const P=new Set(F);return P.has(D)?P.delete(D):P.add(D),P})},Y=[{label:"Final Signal",value:o?.finalSignal||"--",color:"#2962ff",bold:!0},{label:"Confidence",value:o?.confidence!==null&&o?.confidence!==void 0?(o.confidence*100).toFixed(1)+"%":"--"},...o?.latest_data?Object.entries(o.latest_data).map(([D,F])=>{let P=D.replace(/_/g," ").replace(/\b\w/g,ie=>ie.toUpperCase()),$=F;return typeof F=="number"&&(D.toLowerCase().includes("price")||D==="open"||D==="high"||D==="low"||D==="close"?$="$"+F.toFixed(2):D.toLowerCase().includes("volume")?$=F.toLocaleString():$=F.toFixed(2)),{label:P,value:$}}):[]],V=D=>{D.preventDefault(),y.current=!0;try{C.current&&C.current.classList.add("dragging")}catch{}document.body.style.cursor="col-resize",document.body.style.userSelect="none"};return n.jsxs("div",{ref:C,className:"output-panel open",id:"outputPanel",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",minHeight:"100vh",background:"#1e222d",boxShadow:"-4px 0 24px rgba(0,0,0,0.3)",width:T},children:[n.jsx("div",{className:"output-panel-resize-handle",id:"resizeHandle",onMouseDown:V,onTouchStart:V}),n.jsxs("div",{className:"output-header",style:{width:"100%",maxWidth:600,margin:"0 auto",padding:"0 0 12px 0"},children:[n.jsxs("div",{className:"output-header-top",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[n.jsxs("div",{className:"output-header-title-group",style:{textAlign:"center"},children:[n.jsx("h3",{id:"outputHeaderTitle",style:{fontSize:22,fontWeight:700,color:"#f8f9fa",marginBottom:2},children:o?.summary?.strategyName||"Strategy Results"}),n.jsxs("div",{className:"output-header-meta",style:{display:"flex",justifyContent:"center",gap:16,marginBottom:4},children:[n.jsx("span",{id:"outputTimestamp",style:{color:"#787b86",fontSize:13},children:new Date().toLocaleTimeString()}),n.jsx("span",{id:"outputHeaderBadge",className:`output-status-badge ${o?.summary?.status||"completed"}`,children:o?.summary?.status||""})]})]}),n.jsxs("div",{className:"output-header-actions",style:{display:"flex",gap:12,justifyContent:"center",marginTop:8},children:[n.jsx("button",{className:"output-action-btn",id:"rerunBtn",onClick:d,children:" Re-run"}),n.jsx("button",{className:"output-action-btn",id:"downloadBtn",onClick:f,children:" Download"}),n.jsxs("button",{className:"output-action-btn",id:"exportChartBtn",onClick:()=>{try{const D=g.current;if(!D)return;const F=D.toDataURL("image/png"),P=document.createElement("a");P.href=F,P.download=`equity-chart-${Date.now()}.png`,P.click()}catch(D){console.warn(D)}},children:[n.jsx(Ht,{name:"bolt",size:14,style:{marginRight:6}}),"Export Chart"]}),n.jsx("button",{className:"output-close",id:"closeOutput",onClick:j,children:""})]})]}),n.jsx("div",{style:{display:"flex",gap:32,margin:"24px auto 12px auto",flexWrap:"wrap",justifyContent:"center",borderBottom:"1px solid #232634",paddingBottom:12,width:"100%"},children:Y.map((D,F)=>n.jsxs("div",{style:{minWidth:90,textAlign:"center"},children:[n.jsx("div",{className:"output-label",style:{color:"#787b86",fontSize:12},children:D.label}),n.jsx("div",{className:"output-value",style:{fontWeight:D.bold?700:500,fontSize:D.bold?20:15,color:D.color||"#d1d4dc",marginTop:2},children:D.value})]},F))})]}),Array.isArray(o?.trades)&&n.jsxs("div",{className:"output-section",children:[n.jsxs("div",{className:"output-section-header",onClick:()=>E("trades"),children:[n.jsxs("div",{className:"output-section-title",children:[n.jsx(Ht,{name:"puzzle",size:16,style:{marginRight:8}}),"Trades"]}),n.jsx("div",{className:`output-section-toggle ${w.has("trades")?"collapsed":""}`,children:""})]}),n.jsx("div",{className:"output-section-body",style:{display:w.has("trades")?"none":void 0},children:n.jsxs("div",{style:{overflowX:"auto"},children:[n.jsxs("table",{className:"results-table trades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Time"}),n.jsx("th",{children:"Side"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Size"}),n.jsx("th",{children:"Profit"})]})}),n.jsx("tbody",{children:o.trades.map((D,F)=>n.jsxs("tr",{className:"trade-row",children:[n.jsx("td",{className:"trade-time",children:D.time?new Date(D.time).toLocaleString():"--"}),n.jsx("td",{className:"trade-side",children:D.side||"--"}),n.jsx("td",{className:"trade-price",children:D.price?"$"+Number(D.price).toFixed(2):"--"}),n.jsx("td",{className:"trade-size",children:D.size||"--"}),n.jsx("td",{className:"trade-profit",style:{color:typeof D.pnl<"u"?D.pnl>=0?"#089981":"#f23645":"#787b86"},children:typeof D.pnl<"u"?(D.pnl>=0?"+":"")+Number(D.pnl).toFixed(2):"--"})]},F))})]}),o.trades&&o.trades.length>0&&n.jsx("button",{className:"download-csv-btn",style:{marginTop:"10px",float:"right",background:"#232634",color:"#d1d4dc",border:"none",borderRadius:"4px",padding:"6px 14px",fontSize:"11px",cursor:"pointer"},onClick:()=>{const F=[["Time","Side","Price","Size","Profit"],...o.trades.map(Z=>[Z.time?new Date(Z.time).toLocaleString():"",Z.side||"",Z.price||"",Z.size||"",typeof Z.pnl<"u"?Z.pnl:""])].map(Z=>Z.map(oe=>`"${String(oe).replace(/"/g,'""')}`).join(",")).join(`
`),P=new Blob([F],{type:"text/csv"}),$=URL.createObjectURL(P),ie=document.createElement("a");ie.href=$,ie.download="trades.csv",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL($)},children:"Download CSV"})]})})]}),n.jsxs("div",{className:"output-content",id:"outputContent",children:[n.jsxs("div",{className:"output-section",children:[n.jsxs("div",{className:"output-section-header",onClick:()=>E("ai"),children:[n.jsxs("div",{className:"output-section-title",children:[n.jsx(Ht,{name:"ai",size:16,style:{marginRight:8}}),"AI Summary"]}),n.jsx("div",{className:`output-section-toggle ${w.has("ai")?"collapsed":""}`,children:""})]}),n.jsx("div",{className:"output-section-body",style:{display:w.has("ai")?"none":void 0},children:n.jsx("div",{className:"ai-summary-box",children:o?.aiAnalysis||"No AI analysis available."})})]}),n.jsxs("div",{className:"output-section",children:[n.jsxs("div",{className:"output-section-header",onClick:()=>E("blocks"),children:[n.jsxs("div",{className:"output-section-title",children:[n.jsx(Ht,{name:"puzzle",size:16,style:{marginRight:8}}),"Block Execution Details"]}),n.jsx("div",{className:`output-section-toggle ${w.has("blocks")?"collapsed":""}`,children:""})]}),n.jsx("div",{className:"output-section-body",style:{display:w.has("blocks")?"none":void 0},children:(o?.blocks||[]).map((D,F)=>{const P=b.has(D.id),$=D.status||"skipped";return n.jsxs("div",{className:`block-details ${$}`,children:[n.jsxs("div",{className:"block-header",onClick:()=>q(D.id),children:[n.jsxs("span",{className:"block-title",children:["Block ",F+1,": ",D.name||D.block_type]}),n.jsx("span",{className:"block-type",children:D.type||D.block_type||""}),n.jsxs("span",{className:"block-time",children:[(D.execution_time_ms||0).toFixed(1),"ms"]}),n.jsx("button",{className:"block-expand",children:P?"":""})]}),n.jsx("div",{className:"block-message",children:D.message}),n.jsxs("div",{className:"block-params",children:[n.jsx("strong",{children:"Params"}),n.jsx("pre",{children:JSON.stringify(D.params||D.inputs||{},null,2)})]}),n.jsxs("div",{className:"block-logs",children:[n.jsx("strong",{children:"Logs"}),n.jsx("div",{children:D.logs&&D.logs.join(`
`)||D.output||"No logs available"})]}),D.price_series&&n.jsxs("div",{className:"block-sparkline",children:[n.jsx("strong",{children:"Price Sparkline"}),n.jsx(qg,{series:D.price_series,width:200,height:36})]})]},F)})})]}),n.jsxs("div",{className:"output-section",children:[n.jsxs("div",{className:"output-section-header",onClick:()=>E("signals"),children:[n.jsxs("div",{className:"output-section-title",children:[n.jsx(Ht,{name:"bolt",size:16,style:{marginRight:8}}),"Last Signals"]}),n.jsx("div",{className:`output-section-toggle ${w.has("signals")?"collapsed":""}`,children:""})]}),n.jsx("div",{className:"output-section-body",style:{display:w.has("signals")?"none":void 0},children:n.jsx("table",{className:"signals-table",children:n.jsx("tbody",{children:(o?.signals||[]).map((D,F)=>n.jsxs("tr",{children:[n.jsx("td",{children:D.time}),n.jsx("td",{children:D.signal}),n.jsx("td",{children:D.price})]},F))})})})]}),n.jsxs("div",{className:"output-section",children:[n.jsxs("div",{className:"output-section-header",onClick:()=>E("performance"),children:[n.jsxs("div",{className:"output-section-title",children:[n.jsx(Ht,{name:"bolt",size:16,style:{marginRight:8}}),"Strategy Performance"]}),n.jsx("div",{className:`output-section-toggle ${w.has("performance")?"collapsed":""}`,children:""})]}),n.jsx("div",{className:"output-section-body",style:{display:w.has("performance")?"none":void 0},children:n.jsx("canvas",{ref:g,style:{width:"100%",height:200}})})]}),n.jsxs("div",{className:"output-section",children:[n.jsxs("div",{className:"output-section-header",onClick:()=>E("market"),children:[n.jsxs("div",{className:"output-section-title",children:[n.jsx(Ht,{name:"bolt",size:16,style:{marginRight:8}}),"Market Data"]}),n.jsx("div",{className:`output-section-toggle ${w.has("market")?"collapsed":""}`,children:""})]}),n.jsxs("div",{className:"output-section-body",style:{display:w.has("market")?"none":void 0},children:[n.jsx("div",{className:"output-label",children:"Final Signal"}),n.jsx("div",{className:"output-value",style:{fontWeight:700,fontSize:18,color:"#2962ff"},children:o?.finalSignal||"--"}),n.jsx("div",{className:"output-label",children:"Confidence"}),n.jsx("div",{className:"output-value",children:o?.confidence!==null&&o?.confidence!==void 0?(o.confidence*100).toFixed(1)+"%":"--"}),o?.latest_data&&n.jsx(n.Fragment,{children:Object.entries(o.latest_data).map(([D,F],P)=>{let $=D.replace(/_/g," ").replace(/\b\w/g,Z=>Z.toUpperCase()),ie=F;return typeof F=="number"&&(D.toLowerCase().includes("price")||D==="open"||D==="high"||D==="low"||D==="close"?ie="$"+F.toFixed(2):D.toLowerCase().includes("volume")?ie=F.toLocaleString():ie=F.toFixed(2)),n.jsxs(ct.Fragment,{children:[n.jsx("div",{className:"output-label",children:$}),n.jsx("div",{className:"output-value",children:ie})]},P)})})]})]}),n.jsxs("div",{className:"output-section",children:[n.jsxs("div",{className:"output-section-header",onClick:()=>E("raw"),children:[n.jsx("div",{className:"output-section-title",children:" Raw Response"}),n.jsx("div",{className:`output-section-toggle ${w.has("raw")?"collapsed":""}`,children:""})]}),n.jsx("div",{className:"output-section-body",style:{display:w.has("raw")?"none":void 0},children:n.jsx("div",{style:{maxHeight:240,overflow:"auto",background:"#0b0f14",padding:12,borderRadius:6,border:"1px solid #1f2937"},children:n.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",color:"#cbd5e1",fontSize:12},children:JSON.stringify(o||{},null,2)})})})]})]})]})},Gg=({node:o,open:h,onClose:j,onSave:d})=>{const[f,g]=L.useState({});if(L.useEffect(()=>{o&&g(o.configValues||{})},[o]),!h||!o)return null;const w=(b,v)=>g(T=>({...T,[b]:v})),m=()=>{d&&d({...o,configValues:f}),j&&j()};return n.jsxs("div",{style:{position:"fixed",top:0,right:0,width:320,height:"100%",background:"#1e222d",borderLeft:"1px solid #2a2e39",boxShadow:"-2px 0 8px rgba(0,0,0,0.3)",zIndex:6e3,pointerEvents:"auto",display:"flex",flexDirection:"column",fontFamily:"Inter, sans-serif",transition:"transform .2s",transform:h?"translateX(0)":"translateX(100%)"},children:[n.jsxs("div",{style:{padding:"10px 14px",display:"flex",alignItems:"center",gap:8,borderBottom:"1px solid #2a2e39",background:"#131722"},children:[n.jsxs("div",{style:{fontWeight:600,color:"#f8f9fa",fontSize:12,letterSpacing:"-0.1px"},children:["Properties  ",o.def?.name||o.type]}),n.jsx("button",{onClick:j,style:{marginLeft:"auto",background:"transparent",border:"1px solid #2a2e39",color:"#787b86",cursor:"pointer",padding:"4px 10px",borderRadius:4,fontSize:11,transition:"all 0.15s"},children:"Close"})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:14},children:[n.jsx("div",{style:{marginBottom:8},children:n.jsx("small",{style:{color:"#9ca3af"},children:"Edit configuration values for this node."})}),(!o.def.config||o.def.config.length===0)&&n.jsx("div",{style:{color:"#9ca3af"},children:"No configurable parameters."}),o.def.config&&o.def.config.map(b=>n.jsxs("div",{style:{marginBottom:14},children:[n.jsx("label",{style:{display:"block",color:"#cbd5e1",fontSize:11,marginBottom:4},children:b.label||b.key}),b.type==="select"?n.jsx("select",{value:f[b.key]??b.value,onChange:v=>w(b.key,v.target.value),style:{width:"100%",padding:"4px 6px",borderRadius:4,border:"1px solid #2a2e39",background:"#131722",color:"#e5e7eb",fontSize:11},children:b.options.map(v=>n.jsx("option",{value:v,children:v},v))}):b.type==="textarea"?n.jsx("textarea",{value:f[b.key]??b.value,onChange:v=>w(b.key,v.target.value),style:{width:"100%",minHeight:60,padding:"4px 6px",borderRadius:4,border:"1px solid #2a2e39",background:"#131722",color:"#e5e7eb",fontSize:11}}):n.jsx("input",{type:b.type,value:f[b.key]??b.value,onChange:v=>w(b.key,v.target.value),style:{width:"100%",padding:"4px 6px",borderRadius:4,border:"1px solid #2a2e39",background:"#131722",color:"#e5e7eb",fontSize:11}})]},b.key))]}),n.jsxs("div",{style:{padding:"10px 14px",borderTop:"1px solid #2a2e39",display:"flex",gap:8,alignItems:"center",background:"#131722"},children:[n.jsx("button",{onClick:m,style:{marginLeft:"auto",background:"#2962ff",border:"1px solid #2962ff",color:"#fff",cursor:"pointer",padding:"6px 16px",borderRadius:4,fontSize:12,fontWeight:600,transition:"all 0.15s"},children:"Save Changes"}),n.jsx("button",{onClick:j,style:{background:"transparent",border:"1px solid #2a2e39",color:"#787b86",cursor:"pointer",padding:"6px 16px",borderRadius:4,fontSize:12,fontWeight:500,transition:"all 0.15s"},children:"Discard"})]})]})},on=({data:o=[],height:h=140,stroke:j="#5e8cff",fill:d=!0,grid:f=!0,highlightNew:g=!0,showXAxis:w=!1,overlays:m=[]})=>{const b=L.useRef(null),v=L.useRef(null),T=L.useRef(null),[x,y]=L.useState(0),[C,k]=L.useState(null),M=L.useRef(null),E=L.useRef([]);L.useEffect(()=>{const F=b.current;if(!F)return;M.current;let P;try{const p=F.parentElement;p&&typeof ResizeObserver<"u"&&(P=new ResizeObserver(()=>{try{const N=F.getBoundingClientRect()}catch{}}),P.observe(p))}catch{}const $=window.devicePixelRatio||1,ie=F.getBoundingClientRect();F.width=ie.width*$,F.height=h*$;const Z=F.getContext("2d");Z.scale($,$),Z.clearRect(0,0,ie.width,h);const oe=p=>{if(p==null)return NaN;if(typeof p=="number")return p;try{let N=String(p).trim();return N=N.replace(/\$/g,"").replace(/,/g,""),parseFloat(N)}catch{return NaN}},le=(o||[]).map((p,N)=>{if(p==null)return{t:null,v:NaN};if(typeof p=="number"||typeof p=="string")return{t:null,v:oe(p)};const O=p.t??p.time??p.timestamp??p.tms??null,ee=p.v??p.value??p.y??p.close??p.price??null,ne=O!=null?typeof O=="number"?O:Date.parse(String(O)):null;return{t:Number.isFinite(ne)?ne:null,v:oe(ee)}}).filter(p=>Number.isFinite(p.v)),me=le.map(p=>p.v);if(me.length===0){if(Z.fillStyle="rgba(255,255,255,0.02)",Z.fillRect(0,0,ie.width,h),P)try{P.disconnect()}catch{}E.current=[];return}const Oe=Math.max(...me),ue=Math.min(...me),ae=Math.max(1e-6,Oe-ue),U=ie.width,I=h;if(f){Z.strokeStyle="rgba(255,255,255,0.03)",Z.lineWidth=1;const p=3;for(let N=0;N<=p;N++){const O=I/p*N;Z.beginPath(),Z.moveTo(0,O+.5),Z.lineTo(U,O+.5),Z.stroke()}}Z.beginPath();let se=[];const je=le.some(p=>p.t!==null);if(je){const N=le.map(ce=>Number.isFinite(ce.t)?ce.t:NaN).filter(ce=>Number.isFinite(ce)),O=N.length?Math.min(...N):0,ee=N.length?Math.max(...N):O+1,ne=Math.max(1,ee-O);se=le.map((ce,he)=>{const be=Number.isFinite(ce.t)?ce.t:O+he/Math.max(1,le.length-1)*ne,Ee=(be-O)/ne*U,Ke=I-(ce.v-ue)/ae*I;return{x:Ee,y:Ke,v:ce.v,t:be}})}else{const p=U/Math.max(1,me.length-1);se=me.map((N,O)=>({x:O*p,y:I-(N-ue)/ae*I,v:N}))}if(E.current=se,se.forEach((p,N)=>{N===0?Z.moveTo(p.x,p.y):Z.lineTo(p.x,p.y)}),Z.strokeStyle=j,Z.lineWidth=2,Z.lineJoin="round",Z.lineCap="round",Z.stroke(),d){se.length&&(Z.lineTo(U,I),Z.lineTo(0,I),Z.closePath());const p=Z.createLinearGradient(0,0,0,I),N=(O,ee=.18)=>{if(!O)return`rgba(94,140,255,${ee})`;if(O.startsWith("rgb")){const Ke=O.match(/\d+,?\s*\d+,?\s*\d+/);if(Ke)return`rgba(${Ke[0]},${ee})`}const ne=O.replace("#",""),ce=parseInt(ne.length===3?ne.split("").map(Ke=>Ke+Ke).join(""):ne,16),he=ce>>16&255,be=ce>>8&255,Ee=ce&255;return`rgba(${he},${be},${Ee},${ee})`};p.addColorStop(0,N(j,.18)),p.addColorStop(1,N(j,.02));try{Z.fillStyle=p,Z.fill()}catch{}}const we=se[se.length-1];we&&(Z.beginPath(),Z.fillStyle="#ffffff",Z.globalAlpha=.95,Z.arc(we.x,we.y,3,0,Math.PI*2),Z.fill(),Z.globalAlpha=1);try{Array.isArray(m)&&m.length&&m.forEach(p=>{const N=p.series||[];if(!N||N.length===0)return;Z.beginPath();let O=!0;N.forEach(ee=>{const ne=ee.t||null;let ce=0;if(je){const be=Number.isFinite(ne)?ne:null,Ee=be!=null?be-(le[0].t||le[0].t||0):null,Ke=Math.min(...le.map(Nt=>Nt.t||0)),Wt=Math.max(...le.map(Nt=>Nt.t||0)),ut=Math.max(1,Wt-Ke);ce=((Number.isFinite(ee.t)?ee.t:Ke)-Ke)/ut*U}else{const be=Math.floor(N.indexOf(ee)/Math.max(1,N.length-1)*(se.length-1));ce=se[Math.max(0,Math.min(se.length-1,be))].x}const he=I-(ee.v-ue)/ae*I;O?(Z.moveTo(ce,he),O=!1):Z.lineTo(ce,he)}),Z.strokeStyle=p.stroke||"#ff8a00",Z.lineWidth=1.6,Z.setLineDash([]),Z.stroke()})}catch{}if(g){const p=me[me.length-1],N=v.current;if(N==null||N!==p){v.current=p,y(1);const O=performance.now(),ee=480;T.current&&cancelAnimationFrame(T.current);const ne=ce=>{const he=Math.min(1,(ce-O)/ee);y(1-he),he<1?T.current=requestAnimationFrame(ne):(T.current=null,y(0))};T.current=requestAnimationFrame(ne)}}if(x>0&&se.length){const p=se[se.length-1];Z.beginPath();const N=6+(1-x)*18,O=.22*x;Z.fillStyle=`rgba(94,140,255,${O})`,Z.arc(p.x,p.y,N,0,Math.PI*2),Z.fill()}if(P)try{P.disconnect()}catch{}},[o,h,j,d,f,x,g,C]),L.useEffect(()=>()=>{T.current&&cancelAnimationFrame(T.current)},[]),L.useEffect(()=>{const F=b.current,P=M.current;if(!F||!P)return;let $=null;const ie=oe=>{try{$=F.getBoundingClientRect();const le=oe.clientX-$.left,me=oe.clientY-$.top,Oe=E.current||[];if(!Oe.length){k(null);return}let ue=null;for(let ae=0;ae<Oe.length;ae++){const U=Oe[ae],I=Math.abs(U.x-le);(!ue||I<ue.dx)&&(ue={p:U,dx:I})}ue&&ue.p?k({clientX:Math.max(0,Math.min($.width,ue.p.x)),clientY:Math.max(0,Math.min($.height,ue.p.y)),p:ue.p}):k(null)}catch{}},Z=()=>k(null);return P.addEventListener("pointermove",ie),P.addEventListener("pointerleave",Z),()=>{P.removeEventListener("pointermove",ie),P.removeEventListener("pointerleave",Z)}},[b,M]);const q=E.current||[],Y=q.length&&q.some(F=>F.t!=null);let V=null;if(C&&C.p){const F=C.p,P=Math.min(Math.max(6,C.clientX+12),M.current?M.current.getBoundingClientRect().width-140:400),$=Math.max(6,C.clientY-36),ie=F.t?new Date(F.t).toLocaleString():"",Z=Number.isFinite(F.v)?F.v.toFixed(2):String(F.v),oe={position:"absolute",left:`${P}px`,top:`${$}px`,pointerEvents:"none",background:"rgba(0,0,0,0.75)",color:"#fff",padding:"6px 8px",borderRadius:6,fontSize:12,zIndex:20,minWidth:120};V=n.jsxs("div",{style:oe,children:[ie,"  ",Z]})}let D=null;if(w&&Y){const F=q[0],P=q[Math.floor(q.length/2)],$=q[q.length-1],ie=Z=>{if(!Z)return null;const oe=Z&&Z.t?new Date(Z.t).toLocaleString():"",le={position:"absolute",left:`${Math.max(6,Z.x)}px`,top:`${h+6}px`,transform:"translateX(-50%)",color:"rgba(255,255,255,0.75)",fontSize:11,pointerEvents:"none"};return n.jsx("div",{style:le,children:oe},(Z.t||"")+"-"+Math.round(Z.x||0))};D=n.jsxs(n.Fragment,{children:[ie(F),ie(P),ie($)]})}return n.jsxs("div",{ref:M,style:{position:"relative",width:"100%",height:h},children:[n.jsx("canvas",{ref:b,style:{width:"100%",height:h}}),V,D]})},mm=({priceBars:o=[],signals:h=[],verticalBias:j=.12})=>{const d=L.useRef(null),[f,g]=L.useState(180);L.useEffect(()=>{const m=d.current;if(!m)return;const b=typeof ResizeObserver<"u"?new ResizeObserver(()=>{try{g(Math.max(80,Math.round(m.getBoundingClientRect().height)))}catch{}}):null;try{g(Math.max(80,Math.round(m.getBoundingClientRect().height)))}catch{}return b&&b.observe(m),()=>{try{b&&b.disconnect()}catch{}}},[]);const w=(o||[]).map(m=>{const b=m.time||m.timestamp||m.t||null,v=b!=null?typeof b=="number"?b:Date.parse(String(b)):null;return{t:Number.isFinite(v)?v:null,v:m.close!=null?Number(m.close):NaN}}).filter(m=>Number.isFinite(m.v));return n.jsx("div",{ref:d,className:"sr-chart-wrapper",style:{height:"100%",width:"100%",overflow:"hidden"},children:n.jsx(on,{data:w,height:f,stroke:"#5e8cff",fill:!0,showXAxis:!1})})},nn="http://127.0.0.1:5000",Xg=({open:o,onClose:h})=>{const[j,d]=L.useState("SPY"),[f,g]=L.useState("1Hour"),[w,m]=L.useState(90),[b,v]=L.useState(""),[T,x]=L.useState(""),[y,C]=L.useState(""),[k,M]=L.useState(""),[E,q]=L.useState(""),[Y,V]=L.useState("[]"),[D,F]=L.useState(null),[P,$]=L.useState(null),[ie,Z]=L.useState(0),[oe,le]=L.useState(null),[me,Oe]=L.useState(null),[ue,ae]=L.useState(!1);L.useEffect(()=>{o||(F(null),$(null),Z(0),le(null),ae(!1))},[o]),L.useEffect(()=>{o&&(async()=>{try{if(!D){const N=localStorage.getItem("lastBacktestJob");if(N){F(N);const O=await fetch(`${nn}/api/backtest/status/${N}`);if(O.ok){const ee=await O.json();if($(ee.status),Z(ee.progress||0),Oe(ee.error||null),ee.status==="completed"||ee.status==="failed"){const ne=await fetch(`${nn}/api/backtest/results/${N}`);if(ne.ok){const ce=await ne.json(),he=ce.result||null,be=se(he);le(be),Oe(ce.error||null);try{typeof window.displayWorkflowResultsV2=="function"&&window.displayWorkflowResultsV2(he)}catch{}try{typeof window.toggleResultsPanel=="function"&&window.toggleResultsPanel(!0)}catch{}try{typeof window.setMonitorTab=="function"&&window.setMonitorTab("backtest")}catch{}}}else ae(!0)}}}}catch(N){console.warn("restore last job error",N)}try{const N=localStorage.getItem("backtestExecutionDefaults");if(N){const O=JSON.parse(N);O.position_size&&v(String(O.position_size)),O.position_size_pct&&x(String(O.position_size_pct)),O.commission_fixed&&C(String(O.commission_fixed)),O.commission_pct&&M(String(O.commission_pct)),O.slippage_pct&&q(String(O.slippage_pct))}}catch{}try{const N=Y&&Y.trim();if((!N||N==="[]")&&typeof window.getReactNodes=="function"){const O=window.getReactNodes()||[],ee=typeof window.getReactConnections=="function"?window.getReactConnections()||[]:[],ne=[...O].sort((ut,Pe)=>(ut.y||0)-(Pe.y||0)),ce=new Set(["input","price_history","volume_history"]),he=ne.map(ut=>{let Pe=ut.configValues||{};if(ce.has(ut.type)&&Pe){const{symbol:Nt,timeframe:Tl,days:Fl,...ya}=Pe;Pe=ya}return{id:ut.id,type:ut.type,params:Pe}});let be="SPY",Ee="1Hour",Ke=7;for(let ut=O.length-1;ut>=0;ut--){const Pe=O[ut];if(Pe&&Pe.type==="alpaca_config"&&Pe.configValues){be=Pe.configValues.symbol||be,Ee=Pe.configValues.timeframe||Ee,Ke=Pe.configValues.days||Ke;break}}const Wt={symbol:be,timeframe:Ee,days:Ke,workflow:he,priceType:"current"};V(JSON.stringify(he,null,2))}}catch(N){console.warn("auto-load workflow failed",N)}})()},[o]),L.useEffect(()=>{let N;return D&&ue&&(N=setInterval(async()=>{try{const O=await fetch(`${nn}/api/backtest/status/${D}`);if(O.ok){const ee=await O.json();if($(ee.status),Z(ee.progress||0),Oe(ee.error||null),ee.status==="completed"||ee.status==="failed"){ae(!1);const ne=await fetch(`${nn}/api/backtest/results/${D}`);if(ne.ok){const ce=await ne.json(),he=se(ce.result||null);le(he),Oe(ce.error||null)}}}}catch(O){console.warn("poll error",O)}},1e3)),()=>{N&&clearInterval(N)}},[D,ue]);const U=async()=>{try{const N=JSON.parse(Y||"[]");if(b&&T){alert("Please specify either Position Size (units) OR Position Size (%), not both.");return}const O={};b&&(O.position_size=Number(b)),T&&(O.position_size_pct=Number(T)),y&&(O.commission_fixed=Number(y)),k&&(O.commission_pct=Number(k)),E&&(O.slippage_pct=Number(E));const ee={symbol:j,timeframe:f,days:w,workflow:N,execution:O};try{const he={position_size:O.position_size,position_size_pct:O.position_size_pct,commission_fixed:O.commission_fixed,commission_pct:O.commission_pct,slippage_pct:O.slippage_pct};localStorage.setItem("backtestExecutionDefaults",JSON.stringify(he))}catch{}const ne=await fetch(`${nn}/api/backtest/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!ne.ok){const he=await ne.text();alert("Failed to start backtest: "+he);return}const ce=await ne.json();F(ce.job_id);try{localStorage.setItem("lastBacktestJob",ce.job_id)}catch{}$("queued"),Z(0),ae(!0)}catch(N){alert("Invalid workflow JSON or network error"),console.error(N)}},I=async()=>{if(D)try{const N=await fetch(`${nn}/api/backtest/results/${D}`);if(N.ok){const O=await N.json(),ee=se(O.result||null);le(ee),$(O.status||P),Oe(O.error||null);try{typeof window.displayWorkflowResultsV2=="function"&&window.displayWorkflowResultsV2(r)}catch{}try{typeof window.toggleResultsPanel=="function"&&window.toggleResultsPanel(!0)}catch{}try{typeof window.setMonitorTab=="function"&&window.setMonitorTab("backtest")}catch{}}else{const O=await N.text().catch(()=>null);alert("Failed to fetch results: "+(O||N.status))}}catch(N){console.warn("fetch results error",N)}},se=N=>{if(!N)return null;const O={...N};try{Array.isArray(O.equityCurve)&&O.equityCurve.length>1||(Array.isArray(O.equity_curve)&&O.equity_curve.length?O.equityCurve=O.equity_curve.map(ne=>({t:Date.parse(ne.time),v:Number(ne.equity)})):Array.isArray(O.equityCurve)&&O.equityCurve.length===1&&O.equityCurve[0].t&&O.equityCurve[0].v||(O.equityCurve=O.equityCurve||[]))}catch{O.equityCurve=O.equityCurve||[]}return O},je=()=>{const N=oe||null;if(!N){alert("No result to download");return}const O=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),ee=URL.createObjectURL(O),ne=document.createElement("a");ne.href=ee,ne.download=`backtest-${D||Date.now()}.json`,ne.click(),URL.revokeObjectURL(ee)},we=N=>typeof N=="number"?new Intl.NumberFormat(void 0,{maximumFractionDigits:2}).format(N):N,p=N=>typeof N=="number"?`${(N*100).toFixed(2)}%`:N;return o?n.jsx("div",{style:{position:"fixed",left:0,right:0,top:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsxs("div",{style:{width:900,maxHeight:"90vh",overflow:"auto",background:"#0f1724",padding:18,borderRadius:8,border:"1px solid #1f2937"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[n.jsx("div",{style:{fontSize:16,fontWeight:700},children:"Backtest Runner (MVP)"}),n.jsx("div",{children:n.jsx("button",{onClick:h,style:{background:"transparent",color:"#9ca3af",border:"none",fontSize:18},children:""})})]}),n.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Symbol"}),n.jsx("input",{value:j,onChange:N=>d(N.target.value.toUpperCase()),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]}),n.jsxs("div",{style:{width:160},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Timeframe"}),n.jsxs("select",{value:f,onChange:N=>g(N.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"},children:[n.jsx("option",{value:"1Min",children:"1m"}),n.jsx("option",{value:"5Min",children:"5m"}),n.jsx("option",{value:"15Min",children:"15m"}),n.jsx("option",{value:"1Hour",children:"1h"}),n.jsx("option",{value:"1Day",children:"1d"})]})]}),n.jsxs("div",{style:{width:120},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Days"}),n.jsx("input",{type:"number",value:w,onChange:N=>m(Number(N.target.value)),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]}),n.jsxs("div",{style:{width:180},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Position Size (units)"}),n.jsx("input",{placeholder:"e.g. 1",value:b,onChange:N=>v(N.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]}),n.jsxs("div",{style:{width:180},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Position Size (% of equity)"}),n.jsx("input",{placeholder:"0.1 for 10%",value:T,onChange:N=>x(N.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]}),n.jsxs("div",{style:{width:140},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Commission (fixed)"}),n.jsx("input",{placeholder:"e.g. 1.0",value:y,onChange:N=>C(N.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]}),n.jsxs("div",{style:{width:140},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Commission (%)"}),n.jsx("input",{placeholder:"0.001",value:k,onChange:N=>M(N.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]}),n.jsxs("div",{style:{width:140},children:[n.jsx("label",{style:{display:"block",color:"#9ca3af",fontSize:12},children:"Slippage (%)"}),n.jsx("input",{placeholder:"0.001",value:E,onChange:N=>q(N.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]})]}),n.jsxs("div",{style:{marginBottom:12},children:[n.jsx("label",{style:{color:"#9ca3af",fontSize:12},children:"Workflow JSON (array of blocks)"}),n.jsx("textarea",{value:Y,onChange:N=>V(N.target.value),rows:6,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb"}})]}),n.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[n.jsx("button",{onClick:U,style:{padding:"8px 12px",background:"#2563eb",color:"#fff",borderRadius:6,border:"none"},children:"Start Backtest"}),n.jsx("button",{onClick:()=>{V("[]"),le(null),F(null),$(null),Z(0)},style:{padding:"8px 12px",background:"#111827",color:"#9ca3af",borderRadius:6,border:"1px solid #263141"},children:"Reset"}),n.jsx("button",{onClick:I,disabled:!D,style:{padding:"8px 12px",background:"#0b1220",color:"#9ca3af",borderRadius:6,border:"1px solid #263141"},children:"Fetch Results"}),n.jsx("button",{onClick:je,disabled:!oe,style:{padding:"8px 12px",background:"#062e2f",color:"#9ca3af",borderRadius:6,border:"1px solid #174a49"},children:"Download JSON"}),D&&n.jsxs("div",{style:{marginLeft:"auto",color:"#9ca3af"},children:["Job: ",D]})]}),n.jsxs("div",{style:{display:"flex",gap:12},children:[n.jsxs("div",{style:{flex:1,padding:12,background:"#071025",borderRadius:8,border:"1px solid #1f2937"},children:[n.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Status"}),n.jsx("div",{style:{fontWeight:700,fontSize:14},children:P||"idle"}),n.jsx("div",{style:{height:8,background:"#08101a",borderRadius:4,marginTop:8},children:n.jsx("div",{style:{width:`${ie}%`,height:8,background:"#2563eb",borderRadius:4}})}),oe&&n.jsxs("div",{style:{marginTop:12},children:[n.jsx("div",{style:{color:"#9ca3af",fontSize:12},children:"Metrics"}),n.jsxs("div",{children:["Final Equity: ",n.jsx("strong",{children:we(oe.metrics?.final_equity)})]}),n.jsxs("div",{children:["Total Return: ",n.jsx("strong",{children:p(oe.metrics?.total_return)})]}),n.jsxs("div",{children:["Max Drawdown: ",n.jsx("strong",{children:p(oe.metrics?.max_drawdown)})]}),n.jsxs("div",{children:["Win Rate: ",n.jsx("strong",{children:p(oe.metrics?.win_rate)})]}),n.jsxs("div",{children:["Signals: ",n.jsx("strong",{children:oe.signals?oe.signals.length:0})]}),me&&n.jsxs("div",{style:{marginTop:8,color:"#fca5a5",fontSize:12},children:["Error: ",me]})]})]}),n.jsxs("div",{style:{width:420,padding:12,background:"#071025",borderRadius:8,border:"1px solid #1f2937"},children:[n.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Equity Curve"}),oe&&oe.equityCurve&&oe.equityCurve.length?n.jsx(on,{data:oe.equityCurve.map(N=>({t:N.t,v:N.v})),height:200,stroke:"#22c55e",showXAxis:!0,highlightNew:!0}):n.jsx("div",{style:{height:200,display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280"},children:"No equity data yet"})]})]}),n.jsxs("div",{style:{marginTop:12},children:[n.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Trades"}),n.jsx("div",{style:{maxHeight:200,overflow:"auto",borderRadius:6,border:"1px solid #16202a",padding:8},children:oe&&oe.trades&&oe.trades.length?oe.trades.map((N,O)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 4px",borderBottom:"1px dashed #0f1724"},children:[n.jsxs("div",{children:[N.type," @ ",N.price]}),n.jsx("div",{children:N.pnl?`P&L: ${N.pnl}`:""})]},O)):n.jsx("div",{style:{color:"#6b7280"},children:"No trades yet"})})]})]})}):null},lr="flowgrid_live_trades_v1",_s="flowgrid_live_position_v1";function ar(){try{const o=localStorage.getItem(lr);return o?JSON.parse(o):[]}catch(o){return console.warn("[TradeTracker] Failed to read trades",o),[]}}function Vg(){try{const o=localStorage.getItem(_s);return o?JSON.parse(o):null}catch(o){return console.warn("[TradeTracker] Failed to read position",o),null}}function sn(o){try{o===null?localStorage.removeItem(_s):localStorage.setItem(_s,JSON.stringify(o))}catch(h){console.warn("[TradeTracker] Failed to save position",h)}}function um(o){try{const h=ar();h.push(o),localStorage.setItem(lr,JSON.stringify(h)),console.log(`[TradeTracker] Saved trade: ${o.direction} ${o.symbol} @ ${o.exitPrice}, P&L: $${o.netPnL.toFixed(2)}`);try{window.dispatchEvent(new Event("flowgrid:trades-updated"))}catch{}}catch(h){console.warn("[TradeTracker] Failed to save trade",h)}}function Qg(){try{localStorage.removeItem(lr),localStorage.removeItem(_s),window.dispatchEvent(new Event("flowgrid:trades-updated")),console.log("[TradeTracker] Cleared all trades and positions")}catch(o){console.warn("[TradeTracker] Failed to clear trades",o)}}function ws(o,h){return 0+o*h*1e-4}function Zg(o,h){try{const j=Kg(o.finalSignal||o.final_decision||o.summary?.status||"HOLD"),d=o.latest_data?.close||o.latest_data?.price||null;if(d==null)return console.warn("[TradeTracker] No price data in result"),null;const f=new Date().toISOString(),g=Vg(),w=h.shares||100;if(!g){if(j==="BUY"){const m={strategyId:h.strategyId,type:"LONG",entryTime:f,entryPrice:d,entrySignal:"BUY",symbol:h.symbol,timeframe:h.timeframe,shares:w};return sn(m),console.log(`[TradeTracker] Opened LONG position: ${h.symbol} @ ${d}`),null}else if(j==="SELL"){const m={strategyId:h.strategyId,type:"SHORT",entryTime:f,entryPrice:d,entrySignal:"SELL",symbol:h.symbol,timeframe:h.timeframe,shares:w};return sn(m),console.log(`[TradeTracker] Opened SHORT position: ${h.symbol} @ ${d}`),null}return null}if(g.type==="LONG"){if(j==="SELL"||j==="HOLD"){const m=new Date(g.entryTime),v=new Date(f).getTime()-m.getTime(),T=(d-g.entryPrice)*g.shares,x=ws(g.shares,g.entryPrice)+ws(g.shares,d),y=T-x,C={id:Date.now(),strategyId:g.strategyId,strategyName:h.strategyName||g.strategyId,direction:"LONG",symbol:g.symbol,timeframe:g.timeframe,entryTime:g.entryTime,entryPrice:g.entryPrice,entrySignal:g.entrySignal,exitTime:f,exitPrice:d,exitSignal:j,grossPnL:T,netPnL:y,fees:x,holdingDuration:v,shares:g.shares};if(um(C),j==="SELL"){const k={strategyId:h.strategyId,type:"SHORT",entryTime:f,entryPrice:d,entrySignal:"SELL",symbol:h.symbol,timeframe:h.timeframe,shares:w};sn(k),console.log(`[TradeTracker] Reversed: LONG  SHORT @ ${d}`)}else sn(null),console.log(`[TradeTracker] Closed LONG position @ ${d}`);return C}}else if(g.type==="SHORT"&&(j==="BUY"||j==="HOLD")){const m=new Date(g.entryTime),v=new Date(f).getTime()-m.getTime(),T=(g.entryPrice-d)*g.shares,x=ws(g.shares,g.entryPrice)+ws(g.shares,d),y=T-x,C={id:Date.now(),strategyId:g.strategyId,strategyName:h.strategyName||g.strategyId,direction:"SHORT",symbol:g.symbol,timeframe:g.timeframe,entryTime:g.entryTime,entryPrice:g.entryPrice,entrySignal:g.entrySignal,exitTime:f,exitPrice:d,exitSignal:j,grossPnL:T,netPnL:y,fees:x,holdingDuration:v,shares:g.shares};if(um(C),j==="BUY"){const k={strategyId:h.strategyId,type:"LONG",entryTime:f,entryPrice:d,entrySignal:"BUY",symbol:h.symbol,timeframe:h.timeframe,shares:w};sn(k),console.log(`[TradeTracker] Reversed: SHORT  LONG @ ${d}`)}else sn(null),console.log(`[TradeTracker] Closed SHORT position @ ${d}`);return C}return null}catch(j){return console.error("[TradeTracker] Error tracking trade",j),null}}function Kg(o){const h=String(o).toUpperCase().trim();return h==="BUY"||h==="LONG"?"BUY":h==="SELL"||h==="SHORT"?"SELL":"HOLD"}function Jg(){const o=ar();if(o.length===0)return{totalTrades:0,winningTrades:0,losingTrades:0,winRate:0,totalPnL:0,avgPnL:0,bestTrade:0,worstTrade:0};const h=o.filter(m=>m.netPnL>0),j=o.filter(m=>m.netPnL<=0),d=o.reduce((m,b)=>m+b.netPnL,0),f=d/o.length,g=Math.max(...o.map(m=>m.netPnL)),w=Math.min(...o.map(m=>m.netPnL));return{totalTrades:o.length,winningTrades:h.length,losingTrades:j.length,winRate:h.length/o.length*100,totalPnL:d,avgPnL:f,bestTrade:g,worstTrade:w}}const $g=({onNavigate:o})=>{const[h,j]=L.useState(1),[d,f]=L.useState({x:0,y:0}),[g,w]=L.useState(!1),[m,b]=L.useState([]),v=L.useRef(null),T=L.useRef(null),[x,y]=L.useState([]),[C,k]=L.useState(null),[M,E]=L.useState(null),q=L.useRef(1),Y="flowgrid_workflow_v1",V=`${Y}::saves`,D="flowgrid_alerts_v1",F=L.useRef(null),P=()=>{const z=prompt("Save workflow as (provide a name):",`workflow-${new Date().toISOString().replace(/[:.]/g,"-")}`);if(!z)return;const X={nodes:m,connections:x,savedAt:new Date().toISOString()};try{const K=localStorage.getItem(V),te=K?JSON.parse(K):{};te[z]=X,localStorage.setItem(V,JSON.stringify(te));try{localStorage.setItem("workflow_active_id",z)}catch{}alert(`Workflow saved as "${z}"`)}catch(K){console.error("save error",K),alert("Failed to save workflow")}},$=()=>{try{const z=localStorage.getItem(V);if(!z){alert("No saved workflows found");return}const X=JSON.parse(z),K=Object.keys(X);if(K.length===0){alert("No saved workflows found");return}const te=prompt(`Saved workflows:
${K.map((re,Qe)=>`${Qe+1}. ${re}`).join(`
`)}

Enter name or number to load:`);if(!te)return;let ge=null;const ye=parseInt(te,10);if(!isNaN(ye)&&ye>=1&&ye<=K.length?ge=K[ye-1]:X[te]&&(ge=te),!ge){alert("No matching saved workflow");return}const xe=X[ge],Te=je(xe.nodes||[],xe.connections||[]);b(Te.nodes),y(Te.connections);try{localStorage.setItem("workflow_active_id",ge)}catch{}alert(`Loaded workflow "${ge}"`)}catch(z){console.error("load error",z),alert("Failed to load workflow")}},ie=()=>{try{const z=localStorage.getItem(V)||"{}",X=JSON.parse(z);return Object.keys(X).map(K=>({name:K,savedAt:X[K]?.savedAt||null}))}catch{return[]}},Z=z=>{if(confirm(`Delete saved workflow "${z}"?`))try{const X=localStorage.getItem(V)||"{}",K=JSON.parse(X);delete K[z],localStorage.setItem(V,JSON.stringify(K)),alert(`Deleted "${z}"`)}catch(X){console.error(X),alert("Failed to delete")}},oe=L.useCallback(z=>{if(!z)return"HOLD";const X=String(z).toUpperCase();return X.includes("BUY")||X.includes("LONG")?"BUY":X.includes("SELL")||X.includes("SHORT")?"SELL":(X.includes("HOLD"),"HOLD")},[]),le=L.useCallback((z,X="manual-run")=>{if(z)try{const K=oe(z.finalSignal||z.final_decision||z.summary?.status||""),te=z.latest_data||{},ge=te.price??te.close??te.last??te.current_price??null,ye=ge!=null&&!Number.isNaN(Number(ge))?Number(ge):null,xe=(()=>{try{return localStorage.getItem("workflow_active_id")}catch{return null}})(),Te=xe||"Builder Session",re=z.summary?.symbol||te.symbol||"",Qe=z.summary?.timeframe||"",Re={id:`${Date.now()}`,strategyId:xe,strategyName:Te,signal:K,price:ye,symbol:re,timeframe:Qe,timestamp:new Date().toISOString(),source:X},Ce=ye!=null?ye.toFixed(4):"na",Ye=`${Re.strategyId||"adhoc"}|${K}|${Ce}|${re}|${Qe}`,ot=F.current;F.current=Ye;const jt=localStorage.getItem(D),mt=jt?JSON.parse(jt):[];let ht=Array.isArray(mt)?[...mt]:[];ot===Ye&&ht.length?ht[0]={...ht[0],...Re,signature:Ye}:ht.length&&ht[0]?.strategyId===Re.strategyId&&ht[0]?.signal===Re.signal&&ht[0]?.symbol===Re.symbol?ht[0]={...ht[0],...Re,signature:Ye}:ht.unshift({...Re,signature:Ye}),ht.length>15&&(ht=ht.slice(0,15)),localStorage.setItem(D,JSON.stringify(ht)),window.dispatchEvent(new Event("flowgrid:alerts-updated"))}catch(K){console.warn("[Builder] Failed to persist alert entry",K)}},[oe]),me=L.useCallback((z,X={})=>{if(!z)return!1;try{const K=localStorage.getItem(V)||"{}",ge=JSON.parse(K)[z];if(!ge||!Array.isArray(ge.nodes)||ge.nodes.length===0)return!1;const ye=je(ge.nodes||[],ge.connections||[]);if(b(ye.nodes),y(ye.connections),X.setActive!==!1)try{localStorage.setItem("workflow_active_id",z)}catch{}if(X.emitLoadRequest!==!1)try{localStorage.setItem("flowgrid_workflow_v1::load_request",z)}catch{}if(X.autoStart){try{localStorage.setItem("flowgrid_pending_live_start","1")}catch{}try{localStorage.setItem("workflow_live","1")}catch{}}return!0}catch(K){return console.error("[Builder] loadWorkflowById error",K),!1}},[b,y]),Oe=()=>{const z={nodes:m,connections:x},X=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),K=URL.createObjectURL(X),te=document.createElement("a");te.href=K,te.download=`workflow-${Date.now()}.json`,te.click(),URL.revokeObjectURL(K)},ue=L.useRef(null),ae=()=>{ue.current&&ue.current.click()},U=z=>{const X=z.target.files&&z.target.files[0];if(!X)return;const K=new FileReader;K.onload=te=>{try{const ge=JSON.parse(te.target.result),ye=je(ge.nodes||[],ge.connections||[]);b(ye.nodes),y(ye.connections),alert("Workflow imported")}catch(ge){console.error("import error",ge),alert("Invalid workflow file")}},K.readAsText(X),z.target.value=""},I=()=>{if(confirm("Clear all nodes and connections?")){b([]),y([]);try{localStorage.removeItem("workflow_active_id")}catch{}try{localStorage.removeItem("flowgrid_workflow_v1::load_request")}catch{}}},se=()=>{b([]),y([]),Ft();try{localStorage.setItem("workflow_live","0"),localStorage.removeItem("workflow_active_id"),localStorage.removeItem("flowgrid_workflow_v1::load_request")}catch{}console.log("[Builder] Started new workflow (cleared canvas)")};L.useEffect(()=>(window.listSavedWorkflows=ie,window.deleteSavedWorkflow=Z,()=>{try{delete window.listSavedWorkflows}catch{}try{delete window.deleteSavedWorkflow}catch{}}),[]);function je(z,X){const K=z.map(re=>Number(re.id)),te=K.every(re=>!Number.isNaN(re)),ge=new Set(K.filter(re=>!Number.isNaN(re))).size;if(te&&ge===z.length){const re=K.length?Math.max(...K):0;return q.current=Math.max(q.current,re+1),{nodes:z.map(Qe=>({...Qe,id:Number(Qe.id)})),connections:X}}const ye=new Map,xe=[];z.forEach(re=>{const Qe=q.current++;ye.set(re.id,Qe),xe.push({...re,id:Qe})});const Te=(X||[]).map(re=>{const Qe=ye.has(re.from?.nodeId)?ye.get(re.from.nodeId):Number(re.from?.nodeId),Re=ye.has(re.to?.nodeId)?ye.get(re.to.nodeId):Number(re.to?.nodeId);return{...re,from:{...re.from||{},nodeId:Qe},to:{...re.to||{},nodeId:Re}}});return{nodes:xe,connections:Te}}L.useEffect(()=>{const z=document.getElementById("nodeCount");z&&(z.textContent=`${m.length} blocks`)},[m]),L.useEffect(()=>{let z=0;m.forEach(X=>{const K=Number(X.id);!Number.isNaN(K)&&K>z&&(z=K)}),q.current=Math.max(q.current,z+1)},[m]),L.useEffect(()=>(window.getReactNodes=()=>m,window.getReactConnections=()=>x,()=>{try{delete window.getReactNodes}catch{}try{delete window.getReactConnections}catch{}}),[m,x]);const[we,p]=L.useState(null),[N,O]=L.useState(!1),[ee,ne]=L.useState(!1),[ce,he]=L.useState(!1),be=L.useRef(!1),Ee=L.useRef(null),Ke=L.useRef(null),Wt=L.useRef(!1),[ut,Pe]=L.useState(null),[Nt,Tl]=L.useState(!1);L.useEffect(()=>{window.displayWorkflowResultsV2=z=>{try{p(z),O(!0)}catch(X){console.warn(X)}};try{window.toggleResultsPanel=z=>{try{O(typeof z=="boolean"?!!z:X=>!X)}catch(X){console.warn("toggleResultsPanel error",X)}}}catch{}return()=>{try{delete window.displayWorkflowResultsV2}catch{}}},[]);const Fl=()=>{if(!m||m.length===0)return null;const z=[...m].sort((Re,Ce)=>Re.y-Ce.y),X=new Set(["input","price_history","volume_history"]),K=z.map(Re=>{let Ce=Re.configValues||{};if(X.has(Re.type)&&Ce){const{symbol:Ye,timeframe:ot,days:jt,...mt}=Ce;Ce=mt}return{id:Re.id,type:Re.type,params:Ce}});let te="SPY",ge="1Hour",ye=7;const xe=m.slice().reverse().find(Re=>X.has(Re.type)&&Re.configValues&&(Re.configValues.symbol||Re.configValues.timeframe||Re.configValues.days));xe&&xe.configValues&&(te=xe.configValues.symbol||te,ge=xe.configValues.timeframe||ge,ye=xe.configValues.days||ye);let Te=null,re=null;try{Te=localStorage.getItem("alpaca_key_id")||null,re=localStorage.getItem("alpaca_secret_key")||null}catch{}let Qe=null;try{Qe=localStorage.getItem("workflow_active_id")||null}catch{}return{symbol:te,timeframe:ge,days:ye,workflow:K,priceType:"current",alpacaKeyId:Te,alpacaSecretKey:re,strategy_name:Qe}},ya=async(z,X)=>{if(!z)throw new Error("No workflow defined");const K=JSON.stringify(z),te=["/execute_workflow_v2","http://127.0.0.1:5000/execute_workflow_v2","http://localhost:5000/execute_workflow_v2"];try{const ye=window.location.hostname;ye&&ye!=="127.0.0.1"&&ye!=="localhost"&&te.push(`http://${ye}:5000/execute_workflow_v2`)}catch{}let ge=null;for(const ye of te)try{const xe=await fetch(ye,{method:"POST",headers:{"Content-Type":"application/json"},body:K,signal:X});if(!xe.ok){const Te=await xe.text().catch(()=>null);throw new Error(`HTTP ${xe.status} ${xe.statusText} - ${Te||""}`)}return await xe.json()}catch(xe){ge=xe}throw ge||new Error("No endpoints available")},rn=async()=>{if(!m||m.length===0){alert("Add blocks to create a workflow first");return}const z=Fl();try{const X=await ya(z,null);if(X.error)throw new Error(X.error);p(X);try{window.__monitor_resultsData=X}catch{}try{localStorage.setItem("monitor_results",JSON.stringify(X))}catch{}try{localStorage.setItem(Y,JSON.stringify({nodes:m,connections:x}))}catch{}try{window.toggleResultsPanel&&window.toggleResultsPanel(!0)}catch{}O(!0),X&&X.historical_bars&&Object.keys(X.historical_bars).length>0?ne(!0):ne(!1),le(X,"manual-run")}catch(X){console.error("runWorkflow error",X);try{const K=await fetch("/health");if(K&&K.ok){const te=await K.json().catch(()=>null),ge=X&&X.message?X.message:String(X);alert(`Failed to execute workflow: backend returned error.

Error: `+ge+`

Backend health: `+JSON.stringify(te))}else{const te=X&&X.message?X.message:String(X);alert(`Failed to execute workflow: cannot reach backend.

Error: `+te+`

Please ensure the backend is running on port 5000. See console for details.`)}}catch{const te=X&&X.message?X.message:String(X);alert(`Failed to execute workflow: network error (could not reach backend).

Error: `+te+`

Check backend is running and CORS settings. See console for details.`)}}},tl=()=>{Wt.current||(he(!0),be.current=!0,Wt.current=!0,(async()=>{for(;be.current;){const z=Fl(),X=new AbortController;Ee.current=X;try{const K=await ya(z,X.signal);if(K&&!K.error){p(K);try{window.__monitor_resultsData=K}catch{}try{localStorage.setItem("monitor_results",JSON.stringify(K))}catch{}try{localStorage.setItem(Y,JSON.stringify({nodes:m,connections:x}))}catch{}try{window.toggleResultsPanel&&window.toggleResultsPanel(!0)}catch{}O(!0),K&&K.historical_bars&&Object.keys(K.historical_bars).length>0?ne(!0):ne(!1),le(K,"live-tick");try{const te=localStorage.getItem("workflow_active_id")||"Unnamed Strategy",ge=z.symbol||"SPY",ye=z.timeframe||"1Hour";Zg(K,{strategyId:te,strategyName:te,symbol:ge,timeframe:ye,shares:100})}catch(te){console.warn("[WorkflowBuilder] Trade tracking error",te)}}else console.warn("Live run returned error payload",K)}catch(K){K.name==="AbortError"||console.warn("Live run error",K)}await new Promise(K=>{Ke.current=setTimeout(K,1e3)})}Wt.current=!1,Ee.current=null,he(!1)})())},Ft=()=>{be.current=!1,he(!1);try{Ee.current&&Ee.current.abort()}catch{}try{Ke.current&&(clearTimeout(Ke.current),Ke.current=null)}catch{}},un=()=>{if(be.current){Ft();try{localStorage.setItem("workflow_live","0")}catch{}}else{tl();try{localStorage.setItem("workflow_live","1")}catch{}}};L.useEffect(()=>{const z={loadWorkflowById:me,startLive:()=>{if(!be.current){try{localStorage.setItem("workflow_live","1")}catch{}tl()}},stopLive:()=>{if(be.current){Ft();try{localStorage.setItem("workflow_live","0")}catch{}}},isLiveRunning:()=>!!be.current};return window.flowgridLiveBridge=z,()=>{window.flowgridLiveBridge===z&&delete window.flowgridLiveBridge}},[me,tl,Ft]),L.useEffect(()=>()=>{try{Ft()}catch{}},[]),L.useEffect(()=>{if(m.length>0)try{localStorage.getItem("flowgrid_pending_live_start")==="1"&&(console.log(`[Builder] Nodes ready (${m.length} nodes), starting pending live run...`),localStorage.removeItem("flowgrid_pending_live_start"),be.current||tl())}catch(z){console.error("[Builder] pending live start check error",z)}},[m]),L.useEffect(()=>{console.log("[Builder] Checking workflow_live on mount...");try{const X=localStorage.getItem("workflow_live");console.log(`[Builder] workflow_live = "${X}", liveRunning = ${be.current}`),X==="1"&&!be.current&&(console.log("[Builder] Starting live run from mount..."),tl())}catch(X){console.error("[Builder] mount check error",X)}const z=X=>{try{if(!X)return;console.log(`[Builder] storage event: key="${X.key}", newValue="${X.newValue}"`),X.key==="workflow_live"&&(X.newValue==="1"?(console.log("[Builder] workflow_live changed to 1, starting..."),be.current||tl()):(console.log("[Builder] workflow_live changed to 0, stopping..."),be.current&&Ft()))}catch(K){console.error("[Builder] storage handler error",K)}};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[]),L.useEffect(()=>{const z=()=>{try{const te=localStorage.getItem("flowgrid_workflow_v1::load_request");if(console.log("[Builder] tryLoadRequest - load_request value:",te),!te)return;const ge=localStorage.getItem(V)||"{}",ye=JSON.parse(ge);if(!ye[te]){console.warn("[Builder] load_request for unknown save:",te);try{localStorage.removeItem("flowgrid_workflow_v1::load_request")}catch{}return}const xe=ye[te];if(!xe||!xe.nodes){console.warn("[Builder] Saved workflow has no nodes:",te);try{localStorage.removeItem("flowgrid_workflow_v1::load_request")}catch{}return}const Te=je(xe.nodes||[],xe.connections||[]);console.log(`[Builder] Loading workflow "${te}" with ${Te.nodes.length} nodes`),b(Te.nodes),y(Te.connections);try{localStorage.setItem("workflow_active_id",te)}catch{}console.log(`[Builder] Loaded workflow from load_request: "${te}" with ${Te.nodes.length} nodes`);try{localStorage.removeItem("flowgrid_workflow_v1::load_request")}catch{}if(Te.nodes.length>0)try{localStorage.getItem("workflow_live")==="1"&&(console.log("[Builder] workflow_live is 1, will start after nodes render"),localStorage.setItem("flowgrid_pending_live_start","1"))}catch(re){console.error("[Builder] failed to check workflow_live",re)}}catch(te){console.error("[Builder] failed to process load_request",te)}};z();const X=te=>{!te||!te.key||te.key==="flowgrid_workflow_v1::load_request"&&(console.log("[Builder] Storage event for load_request"),z())},K=te=>{console.log("[Builder] Custom load-request event:",te.detail),setTimeout(z,10)};return window.addEventListener("storage",X),window.addEventListener("flowgrid:load-request",K),()=>{window.removeEventListener("storage",X),window.removeEventListener("flowgrid:load-request",K)}},[]),L.useEffect(()=>{const z=X=>{try{if(!X)return;if(X.key==="monitor_stop")try{Ft()}catch{}}catch{}};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[]),L.useEffect(()=>{const z=()=>{console.log("[Builder] Received clear-builder event, clearing canvas"),b([]),y([]);try{localStorage.removeItem("workflow_active_id"),localStorage.removeItem("flowgrid_workflow_v1::load_request")}catch{}};return window.addEventListener("flowgrid:clear-builder",z),()=>window.removeEventListener("flowgrid:clear-builder",z)},[]);const[va,Es]=L.useState({});L.useEffect(()=>{try{window.__monitor_nodeBuffers=va}catch{}try{const z={};Object.entries(va||{}).forEach(([X,K])=>{z[X]=K&&K.last!=null?K.last:null}),localStorage.setItem("monitor_node_buffers",JSON.stringify(z))}catch{}},[va]),L.useEffect(()=>{let z=null,X=!1,K=500,te=!0;const ge=240,ye=()=>{try{z=new WebSocket("ws://127.0.0.1:6789")}catch{xe();return}z.onopen=()=>{console.debug("[WS] connected"),K=500;try{window.__wsConnected=!0}catch{}},z.onmessage=Te=>{try{const re=JSON.parse(Te.data);if(!re||!re.node_id)return;const Qe=re.tick&&(re.tick.ts||re.tick.t||re.tick.time)?Number(re.tick.ts||re.tick.t||re.tick.time):null,Re=Qe?Qe>1e12?Qe:Qe*1e3:Date.now();let Ce=re.value;Ce&&typeof Ce=="object"&&(typeof Ce.v<"u"?Ce=Ce.v:typeof Ce.value<"u"?Ce=Ce.value:typeof Ce.macd<"u"?Ce=Ce.macd:Ce=null);const Ye=Ce==null?null:Number(Ce);Es(ot=>{const jt={...ot||{}},mt=jt[re.node_id]||{name:re.node_name||re.node_id,buf:[],last:null};Number.isFinite(Ye)?(mt.buf=[...mt.buf.slice(-ge+1),{t:Re,v:Ye}],mt.last=Ye):mt.last=re.value!=null?re.value:mt.last,mt.name=re.node_name||mt.name,jt[re.node_id]=mt;try{window.__nodeBuffers=jt}catch{}return jt})}catch(re){console.warn("Failed to parse WS message",re)}},z.onclose=()=>{console.debug("[WS] closed");try{window.__wsConnected=!1}catch{}!X&&te&&xe()},z.onerror=Te=>{try{z.close()}catch{}}},xe=()=>{setTimeout(()=>{X||!te||(K=Math.min(1e4,K*1.5),ye())},K)};return ye(),()=>{X=!0,te=!1;try{z&&z.close()}catch{}try{window.__wsConnected=!1}catch{}}},[]);const[Tt,ci]=L.useState(!1),[dn,oi]=L.useState(null);L.useEffect(()=>{if(!we)return;ci(!0),oi(Date.now());const z=setTimeout(()=>ci(!1),480);return()=>clearTimeout(z)},[we]);const pa=()=>{const z=[{id:1,type:"fetch",x:120,y:80,title:"Fetch Price"},{id:2,type:"rsi",x:360,y:80,title:"RSI Check"},{id:3,type:"signal",x:600,y:80,title:"Signal"}],X=[{id:"c_1",from:{nodeId:1,port:"out"},to:{nodeId:2,port:"in"}},{id:"c_2",from:{nodeId:2,port:"out"},to:{nodeId:3,port:"in"}}];q.current=Math.max(q.current,4),b(z),y(X);const K=Date.now(),te=(ye=100,xe=20)=>Array.from({length:xe},(Te,re)=>+(ye+Math.sin(re/3)*(re%3+1)+(Math.random()-.5)*2).toFixed(2)),ge={summary:{strategyName:"Demo Strategy",status:"completed"},aiAnalysis:"Sample AI analysis: no anomalies detected. Strategy would have produced modest gains in this demo.",blocks:[{id:1,block_type:"fetch",status:"passed",execution_time_ms:12.4,message:"Fetched price history",params:{symbol:"NVDA"},price_series:te(300)},{id:2,block_type:"rsi",status:"passed",execution_time_ms:8.9,message:"RSI computed",params:{period:14},price_series:te(305)},{id:3,block_type:"signal",status:"passed",execution_time_ms:3.1,message:"Signal emitted: BUY",logs:["Signal BUY at 345.22"]}],signals:[{time:K-1e3*60*60,signal:"BUY",price:345.22,series:te(340,18)},{time:K-1e3*60*30,signal:"HOLD",price:347.1,series:te(346,18)}],equityCurve:Array.from({length:30},(ye,xe)=>({t:xe,v:1e4+xe*(xe%5===0?80:12)})),latest_data:{close:345.22,volume:1234500}};try{window.lastPanelData=ge}catch{}p(ge),O(!0)},As=()=>{const z=we||window.lastPanelData||null;if(!z){alert("No results available to download");return}const X=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),K=URL.createObjectURL(X),te=document.createElement("a");te.href=K,te.download=`strategy-results-${Date.now()}.json`,te.click(),URL.revokeObjectURL(K)},ri=z=>{z.preventDefault();const X=z.dataTransfer.getData("blockType");if(!X)return;const te=v.current.getBoundingClientRect(),ge=z.clientX-te.left,ye=z.clientY-te.top,xe=q.current++,Te=lt[X]||{name:X,icon:"",inputs:[],outputs:[]},re={id:xe,type:X,x:ge,y:ye,title:Te.name,def:Te};b(Qe=>[...Qe,re]),Pe(re),Tl(!0)},zs=z=>{Pe(z),Tl(!0)},Cs=()=>{Tl(!1),Pe(null)},Il=z=>{b(X=>X.map(K=>K.id===z.id?{...K,...z}:K))},bt=z=>{z.preventDefault()},ll=(z,X,K)=>{const te=Re=>Math.round(Re/15)*15,re=Math.max(0,Math.min(5e3,te(X))),Qe=Math.max(0,Math.min(5e3,te(K)));b(Re=>Re.map(Ce=>Ce.id===z?{...Ce,x:re,y:Qe}:Ce))};L.useEffect(()=>{const z=v.current;if(!z)return;const X=K=>{if(K.ctrlKey||K.metaKey){K.preventDefault();const te=K.deltaY<0?.1:-.1;j(ge=>Math.max(.3,Math.min(2.5,+(ge+te).toFixed(2))))}};return z.addEventListener("wheel",X,{passive:!1}),()=>z.removeEventListener("wheel",X)},[]);const St=z=>{const X=document.querySelector(".workflow-builder-root .app-container > .Toolbar");if(X&&X.contains(z.target))return;const K=z.target===v.current||z.target.classList.contains("canvas");if(!(z.button===1||z.ctrlKey||z.metaKey||z.button===0&&K))return;w(!0);const te={x:z.clientX,y:z.clientY},ge={...d},ye=Te=>{f({x:ge.x+(Te.clientX-te.x),y:ge.y+(Te.clientY-te.y)})},xe=()=>{w(!1),document.removeEventListener("mousemove",ye),document.removeEventListener("mouseup",xe)};document.addEventListener("mousemove",ye),document.addEventListener("mouseup",xe)},Ms=z=>{b(X=>X.filter(K=>K.id!==z))},Ds=(z,X,K)=>{if(K!=="output")return;k({from:{nodeId:z,port:X},x:null,y:null});const te=ye=>{k(xe=>xe?{...xe,x:ye.clientX,y:ye.clientY}:null)},ge=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ge)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ge)},Os=(z,X,K)=>{if(!C||K!=="input")return;const te={id:`c_${Date.now()}_${Math.floor(Math.random()*1e3)}`,from:{...C.from},to:{nodeId:z,port:X}};y(ge=>[...ge,te]),k(null)},xa=z=>{y(X=>X.filter(K=>K.id!==z)),M===z&&E(null)};L.useEffect(()=>{const z=X=>{(X.key==="Delete"||X.key==="Backspace")&&M&&xa(M)};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[M]);const[fn,ba]=L.useState(!1),[_l,mn]=L.useState(!1),[El,ui]=L.useState(!1);return n.jsx("div",{className:"workflow-builder-root",children:n.jsxs("div",{className:"app-container",children:[n.jsx(Rg,{}),n.jsx(Lg,{extraBefore:typeof o=="function"?n.jsx(om,{onBack:()=>o("home"),label:"Back to Home"}):n.jsx(om,{onBack:()=>{try{window.navigate&&window.navigate("home")}catch{window.location.href="/"}},label:"Back to Home"}),onNew:se,onSave:P,onLoad:$,onExport:Oe,onImport:ae,onClear:I,onOrganize:null,onRun:rn,onSample:pa,onToggleMonitor:()=>ba(z=>!z),onRunToggle:un,onBacktest:()=>ui(!0),liveRunning:ce}),n.jsxs("div",{className:"canvas-container",children:[n.jsx("div",{className:"flowtrade-logo-bg","aria-hidden":!0,children:n.jsx("span",{className:"flowtrade-logo-text",children:"FLOWTRADE"})}),n.jsx("div",{style:{position:"absolute",bottom:24,right:32,zIndex:100,display:"flex",alignItems:"flex-end",gap:12},children:n.jsxs("div",{className:"zoom-controls",style:{display:"flex",flexDirection:"column",gap:8},children:[n.jsx("button",{className:"toolbar-btn",title:"Zoom In",onClick:()=>j(z=>Math.min(2.5,+(z+.15).toFixed(2))),children:""}),n.jsx("button",{className:"toolbar-btn",title:"Zoom Out",onClick:()=>j(z=>Math.max(.3,+(z-.15).toFixed(2))),children:""}),n.jsx("button",{className:"toolbar-btn",title:"Reset Zoom",onClick:()=>{j(1),f({x:0,y:0})},children:""})]})}),n.jsxs("svg",{className:"connection-layer",id:"connectionLayer",ref:T,style:{transform:`scale(${h}) translate(${d.x}px,${d.y}px)`},children:[n.jsx("defs",{children:n.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:n.jsx("polygon",{points:"0 0, 10 3, 0 6",fill:"#5e8cff"})})}),n.jsx(Ug,{svgRef:T,connections:x,connecting:C&&C.x!==null&&C.y!==null?C:null,nodes:m,canvasScale:h,canvasOffset:d})]}),n.jsx("div",{className:`canvas${g?" panning":""}`,id:"canvas",ref:v,onDrop:ri,onDragOver:bt,onMouseDown:St,style:{transform:`scale(${h}) translate(${d.x}px,${d.y}px)`},children:m.map(z=>n.jsx(Bg,{node:z,onUpdatePosition:ll,onDelete:Ms,onStartConnection:Ds,onEndConnection:Os,onOpenSettings:zs},z.id))}),n.jsx("input",{ref:ue,type:"file",accept:"application/json",style:{display:"none"},onChange:U}),n.jsxs("div",{className:"status-bar",children:[n.jsxs("div",{className:"status-item",children:[n.jsx("div",{className:`status-dot ${ce?"live":""}`}),n.jsx("span",{children:ce?"Live":"Ready"}),dn?n.jsx("span",{className:"last-update",children:new Date(dn).toLocaleTimeString()}):null]}),n.jsx("div",{className:"status-item",children:n.jsx("span",{id:"nodeCount",children:"0 blocks"})}),n.jsx("div",{className:"status-item",children:n.jsx("span",{id:"connectionCount",children:"0 connections"})})]})]}),(()=>{const z=we?{...we}:{};z.latest_data={...we&&we.latest_data?we.latest_data:{}};try{Object.values(va||{}).forEach(X=>{const K=(X.name||"").replace(/\s+/g,"_").toLowerCase()||null;K&&(z.latest_data[K]=X.last)})}catch{}return n.jsx(Yg,{data:z,open:N,onClose:()=>O(!1),onRerun:rn,onDownload:As})})(),n.jsx(Gg,{node:ut,open:Nt,onClose:Cs,onSave:Il}),El?n.jsx(Xg,{open:El,onClose:()=>ui(!1)}):null]})})},Wg=[{key:"home",label:"Dashboard",icon:"chart"},{key:"builder",label:"Strategy Builder",icon:"puzzle"},{key:"backtest",label:"Backtesting Suite",icon:"bolt"},{key:"analytics",label:"Analytics & Insights",icon:"ai"},{key:"alerts",label:"Alerts & Notifications",icon:"drop"},{key:"account",label:"Account & Settings",icon:"key"},{key:"billing",label:"Billing / Subscription",icon:"target"},{key:"help",label:"Help / Documentation",icon:"search"}],ii="flowgrid_workflow_v1::saves",Ns=o=>`flowgrid_saved_enabled::${o}`,nr=({onNavigate:o=()=>{},hideHome:h=!1,activeKey:j="home"})=>{const[d,f]=L.useState([]),[g,w]=L.useState({}),[m,b]=L.useState(!0),v=E=>{try{const q=localStorage.getItem(ii)||"{}";return!!JSON.parse(q)[E]}catch(q){return console.error("[DashboardSidebar] hasSavedWorkflow error",q),!1}},T=E=>{const q=typeof window<"u"?window.flowgridLiveBridge:null;if(q&&typeof q.loadWorkflowById=="function"&&q.loadWorkflowById(E,{autoStart:!0}))return!0;try{localStorage.setItem("flowgrid_workflow_v1::load_request",E)}catch{}try{localStorage.setItem("flowgrid_pending_live_start","1")}catch{}try{typeof window<"u"&&window.dispatchEvent(new Event("flowgrid:load-request"))}catch{}return!0},x=()=>{const E=typeof window<"u"?window.flowgridLiveBridge:null;E&&typeof E.stopLive=="function"&&E.stopLive()},y=()=>{try{const E=localStorage.getItem(ii);console.debug("[DashboardSidebar] readSaved raw:",E);const q=E?JSON.parse(E):{},Y=Object.keys(q).map(D=>({id:D,name:D}));console.debug("[DashboardSidebar] parsed saved list:",Y),f(Y);const V={};Y.forEach(D=>{V[D.id]=localStorage.getItem(Ns(D.id))==="1"}),w(V)}catch(E){console.error("[DashboardSidebar] readSaved error",E),f([])}};L.useEffect(()=>{y();const E=V=>{if(!(!V||!V.key)){if(V.key===ii)y();else if(V.key.startsWith("flowgrid_saved_enabled::")){const D=V.key.split("::")[1];w(F=>({...F,[D]:V.newValue==="1"}))}}};window.addEventListener("storage",E);const q=()=>y();window.addEventListener("flowgrid:saves-updated",q),window.addEventListener("focus",y);const Y=V=>{console.log("[DashboardSidebar] Strategy stopped event received",V.detail),y()};return window.addEventListener("flowgrid:strategy-stopped",Y),()=>{window.removeEventListener("storage",E),window.removeEventListener("flowgrid:saves-updated",q),window.removeEventListener("focus",y),window.removeEventListener("flowgrid:strategy-stopped",Y)}},[]);const C=E=>{const Y=!!!g[E];if(console.log(`[DashboardSidebar] toggle "${E}" to ${Y?"ON":"OFF"}`),Y){if(!v(E)){alert(`Saved strategy "${E}" could not be found. Please save it again in the builder.`);return}T(E);try{localStorage.setItem("workflow_live","1"),localStorage.setItem("workflow_active_id",E),localStorage.setItem(Ns(E),"1"),console.log(`[DashboardSidebar] workflow_live set to 1 for "${E}"`)}catch(D){console.error("[DashboardSidebar] enable error",D)}}else{try{localStorage.setItem(Ns(E),"0")}catch(D){console.error(D)}const V=localStorage.getItem("workflow_active_id");if(console.log(`[DashboardSidebar] Disabling. Active ID was: "${V}"`),V===E){x();try{localStorage.setItem("workflow_live","0")}catch{}try{localStorage.removeItem("workflow_active_id")}catch{}try{localStorage.getItem("flowgrid_workflow_v1::load_request")===E&&localStorage.removeItem("flowgrid_workflow_v1::load_request")}catch{}console.log("[DashboardSidebar] Cleared workflow_live and workflow_active_id")}}w(V=>({...V,[E]:Y}))},k=E=>{try{console.log("[DashboardSidebar] handleStrategyClick:",E),localStorage.removeItem("flowgrid_workflow_v1::load_request"),localStorage.setItem("flowgrid_workflow_v1::load_request",E),window.dispatchEvent(new CustomEvent("flowgrid:load-request",{detail:{workflowId:E}})),o("builder")}catch(q){console.error("[DashboardSidebar] handleStrategyClick error",q)}},M=E=>{try{if(!window.confirm(`Delete saved strategy "${E}"? This cannot be undone.`))return;const Y=localStorage.getItem(ii)||"{}",V=JSON.parse(Y);V[E]&&delete V[E],localStorage.setItem(ii,JSON.stringify(V));try{localStorage.removeItem(Ns(E))}catch{}localStorage.getItem("workflow_active_id")===E&&(localStorage.setItem("workflow_live","0"),localStorage.removeItem("workflow_active_id"),x()),window.dispatchEvent(new Event("flowgrid:saves-updated")),y()}catch(q){console.error("[DashboardSidebar] delete error",q)}};return n.jsxs("div",{className:"df-sidebar",children:[n.jsx("div",{className:"df-logo",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[n.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"rgb(41,98,255)",stopOpacity:"1"}),n.jsx("stop",{offset:"100%",stopColor:"rgb(94,140,255)",stopOpacity:"1"})]})}),n.jsx("path",{d:"M4 8 L16 8 L16 12 L4 12 Z",fill:"url(#logoGradient)",opacity:"0.9"}),n.jsx("path",{d:"M4 14 L28 14 L28 18 L4 18 Z",fill:"url(#logoGradient)"}),n.jsx("path",{d:"M4 20 L22 20 L22 24 L4 24 Z",fill:"url(#logoGradient)",opacity:"0.8"}),n.jsx("circle",{cx:"26",cy:"10",r:"2",fill:"#5e8cff"}),n.jsx("circle",{cx:"24",cy:"22",r:"2",fill:"#2962ff"})]}),n.jsx("h2",{style:{fontSize:16,fontWeight:700,color:"rgb(248,249,250)",margin:0},children:"FLOWTRADE"})]})}),n.jsx("nav",{className:"df-nav",children:Wg.filter(E=>!(h&&E.key==="home")).map(E=>n.jsxs("button",{className:`df-nav-item ${E.key===j?"active":""}`,onClick:()=>o(E.key),children:[n.jsx(Ht,{name:E.icon,size:16}),n.jsx("span",{children:E.label})]},E.key))}),n.jsxs("div",{className:"df-saved-section",children:[n.jsxs("button",{className:"df-saved-toggle",onClick:()=>b(E=>!E),"aria-expanded":m,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx(Ht,{name:"puzzle",size:14}),n.jsx("div",{style:{fontSize:12,fontWeight:600,color:"var(--text-primary, #cfe8ff)"},children:"Saved Strategies"}),n.jsxs("div",{style:{fontSize:12,color:"var(--text-muted, #9aa6c6)"},children:["(",d.length,")"]})]}),n.jsx("div",{className:`df-caret ${m?"open":""}`,children:""})]}),m&&n.jsxs("div",{className:"df-saved-list",children:[d.length===0&&n.jsx("div",{className:"df-no-saves",children:"No saved strategies"}),d.map(E=>n.jsxs("div",{className:"df-saved-row",onClick:()=>k(E.id),title:"Click to load in Builder",children:[n.jsxs("div",{className:"df-saved-row-left",children:[n.jsx(Ht,{name:"puzzle",size:14}),n.jsx("div",{className:"df-saved-name",title:E.name,children:E.name})]}),n.jsxs("div",{className:"df-saved-row-right",children:[n.jsxs("label",{className:"df-switch small",onClick:q=>q.stopPropagation(),children:[n.jsx("input",{type:"checkbox",checked:!!g[E.id],onChange:()=>C(E.id),onClick:q=>q.stopPropagation()}),n.jsx("span",{className:"df-switch-slider"})]}),n.jsx("button",{className:"df-action-btn delete",onClick:q=>{q.stopPropagation(),M(E.id)},title:"Delete",children:"X"})]})]},E.id))]})]}),n.jsx("div",{className:"df-bottom",children:n.jsx("button",{className:"df-theme",children:"Dark"})})]})},Fg="flowgrid_workflow_v1::saves",Ig=({onRun:o,loading:h})=>{const[j,d]=L.useState([]),[f,g]=L.useState({strategyName:"",symbol:"SPY",timeframe:"1Hour",startDate:m(),endDate:b(),startingCapital:1e4,fees:.001,slippage:5e-4,orderType:"market",takeProfitPct:0,stopLossPct:0,sharesPerTrade:100,commissionPerTrade:0});L.useEffect(()=>{w()},[]);function w(){try{const x=localStorage.getItem(Fg);if(!x)return;const y=JSON.parse(x),C=Object.keys(y).map(k=>({name:k,savedAt:y[k].savedAt}));d(C),C.length>0&&!f.strategyName&&g(k=>({...k,strategyName:C[0].name}))}catch(x){console.error("Failed to load strategies",x)}}function m(){const x=new Date;return x.setMonth(x.getMonth()-3),x.toISOString().split("T")[0]}function b(){return new Date().toISOString().split("T")[0]}const v=(x,y)=>{g(C=>({...C,[x]:y}))},T=()=>{if(!f.strategyName){alert("Please select a strategy");return}if(!f.symbol){alert("Please enter a ticker symbol");return}o(f)};return n.jsxs("div",{className:"backtest-input-panel",children:[n.jsx("div",{className:"input-panel-header",children:n.jsx("h2",{children:"Configuration"})}),n.jsxs("div",{className:"input-panel-body",children:[n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Strategy"}),n.jsxs("select",{value:f.strategyName,onChange:x=>v("strategyName",x.target.value),disabled:h,children:[n.jsx("option",{value:"",children:"Select a strategy..."}),j.map(x=>n.jsx("option",{value:x.name,children:x.name},x.name))]}),j.length===0&&n.jsx("small",{className:"input-hint",children:"No saved strategies found. Create one in the Strategy Builder first."})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Ticker Symbol"}),n.jsx("input",{type:"text",value:f.symbol,onChange:x=>v("symbol",x.target.value.toUpperCase()),placeholder:"e.g., SPY, AAPL, NVDA",disabled:h})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Timeframe"}),n.jsxs("select",{value:f.timeframe,onChange:x=>v("timeframe",x.target.value),disabled:h,children:[n.jsx("option",{value:"1Min",children:"1 Minute"}),n.jsx("option",{value:"5Min",children:"5 Minutes"}),n.jsx("option",{value:"15Min",children:"15 Minutes"}),n.jsx("option",{value:"1Hour",children:"1 Hour"}),n.jsx("option",{value:"4Hour",children:"4 Hours"}),n.jsx("option",{value:"1Day",children:"1 Day"})]})]}),n.jsxs("div",{className:"input-row",children:[n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Start Date"}),n.jsx("input",{type:"date",value:f.startDate,onChange:x=>v("startDate",x.target.value),disabled:h})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"End Date"}),n.jsx("input",{type:"date",value:f.endDate,onChange:x=>v("endDate",x.target.value),disabled:h})]})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Starting Capital ($)"}),n.jsx("input",{type:"number",value:f.startingCapital,onChange:x=>v("startingCapital",parseFloat(x.target.value)),min:"100",step:"100",disabled:h})]}),n.jsxs("details",{className:"advanced-settings",children:[n.jsx("summary",{children:"Advanced Settings"}),n.jsxs("div",{className:"advanced-content",children:[n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Take Profit (%)"}),n.jsx("input",{type:"number",value:f.takeProfitPct,onChange:x=>v("takeProfitPct",parseFloat(x.target.value)||0),min:"0",step:"0.5",disabled:h}),n.jsx("small",{className:"input-hint",children:"Auto-exit when profit reaches this % (0 = disabled)"})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Stop Loss (%)"}),n.jsx("input",{type:"number",value:f.stopLossPct,onChange:x=>v("stopLossPct",parseFloat(x.target.value)||0),min:"0",step:"0.5",disabled:h}),n.jsx("small",{className:"input-hint",children:"Auto-exit when loss reaches this % (0 = disabled)"})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Shares Per Trade"}),n.jsx("input",{type:"number",value:f.sharesPerTrade,onChange:x=>v("sharesPerTrade",parseInt(x.target.value)||100),min:"1",step:"1",disabled:h}),n.jsx("small",{className:"input-hint",children:"Number of shares to trade per signal"})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Commission Per Trade ($)"}),n.jsx("input",{type:"number",value:f.commissionPerTrade,onChange:x=>v("commissionPerTrade",parseFloat(x.target.value)||0),min:"0",step:"0.01",disabled:h}),n.jsx("small",{className:"input-hint",children:"Fixed commission per trade (default: $0)"})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Fees (%)"}),n.jsx("input",{type:"number",value:f.fees*100,onChange:x=>v("fees",parseFloat(x.target.value)/100),min:"0",step:"0.01",disabled:h}),n.jsx("small",{className:"input-hint",children:"Trading fees per side (default: 0.1%)"})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Slippage (%)"}),n.jsx("input",{type:"number",value:f.slippage*100,onChange:x=>v("slippage",parseFloat(x.target.value)/100),min:"0",step:"0.01",disabled:h}),n.jsx("small",{className:"input-hint",children:"Estimated slippage per trade (default: 0.05%)"})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:"Order Type"}),n.jsxs("select",{value:f.orderType,onChange:x=>v("orderType",x.target.value),disabled:h,children:[n.jsx("option",{value:"market",children:"Market Order"}),n.jsx("option",{value:"limit",children:"Limit Order"})]})]})]})]}),n.jsx("button",{className:"run-backtest-btn",onClick:T,disabled:h||!f.strategyName||!f.symbol,children:h?"Running...":"Run Backtest"})]})]})},Pg=({results:o})=>{const{metrics:h,config:j,trades:d}=o,f=v=>`$${v.toFixed(2)}`,g=v=>`${v.toFixed(2)}%`,w=v=>v.toFixed(2),m=v=>{const T=v/36e5;return T<24?`${T.toFixed(1)}h`:`${(T/24).toFixed(1)}d`},b=[{label:"Total Trades",value:h.totalTrades,color:"#3b82f6"},{label:"Win Rate",value:g(h.winRate),color:h.winRate>50?"#10b981":"#f59e0b"},{label:"Net Profit",value:f(h.netProfit),color:h.netProfit>0?"#10b981":"#ef4444"},{label:"Return",value:g(h.netProfitPercent),color:h.netProfitPercent>0?"#10b981":"#ef4444"},{label:"Profit Factor",value:w(h.profitFactor),color:h.profitFactor>1?"#10b981":"#ef4444"},{label:"Sharpe Ratio",value:w(h.sharpeRatio),color:h.sharpeRatio>1?"#10b981":"#f59e0b"},{label:"Avg Win",value:f(h.avgWin),color:"#10b981"},{label:"Avg Loss",value:f(h.avgLoss),color:"#ef4444"},{label:"Best Trade",value:f(h.bestTrade),color:"#10b981"},{label:"Worst Trade",value:f(h.worstTrade),color:"#ef4444"},{label:"Expectancy",value:f(h.expectancy),color:h.expectancy>0?"#10b981":"#ef4444"},{label:"Avg Hold Time",value:m(h.avgHoldingTime),color:"#8b5cf6"}];return n.jsxs("div",{className:"metrics-summary",children:[n.jsxs("div",{className:"summary-config",children:[n.jsx("h3",{children:"Configuration"}),n.jsxs("div",{className:"config-grid",children:[n.jsxs("div",{className:"config-item",children:[n.jsx("span",{className:"config-label",children:"Strategy:"}),n.jsx("span",{className:"config-value",children:j.strategyName})]}),n.jsxs("div",{className:"config-item",children:[n.jsx("span",{className:"config-label",children:"Symbol:"}),n.jsx("span",{className:"config-value",children:j.symbol})]}),n.jsxs("div",{className:"config-item",children:[n.jsx("span",{className:"config-label",children:"Timeframe:"}),n.jsx("span",{className:"config-value",children:j.timeframe})]}),n.jsxs("div",{className:"config-item",children:[n.jsx("span",{className:"config-label",children:"Period:"}),n.jsxs("span",{className:"config-value",children:[j.startDate," to ",j.endDate]})]}),n.jsxs("div",{className:"config-item",children:[n.jsx("span",{className:"config-label",children:"Starting Capital:"}),n.jsx("span",{className:"config-value",children:f(j.startingCapital)})]}),n.jsxs("div",{className:"config-item",children:[n.jsx("span",{className:"config-label",children:"Fees:"}),n.jsx("span",{className:"config-value",children:g(j.fees*100)})]})]})]}),n.jsxs("div",{className:"summary-metrics",children:[n.jsx("h3",{children:"Performance Metrics"}),n.jsx("div",{className:"metrics-grid",children:b.map((v,T)=>n.jsxs("div",{className:"metric-card",style:{borderLeftColor:v.color},children:[n.jsx("div",{className:"metric-label",children:v.label}),n.jsx("div",{className:"metric-value",style:{color:v.color},children:v.value})]},T))})]}),n.jsxs("div",{className:"summary-breakdown",children:[n.jsx("h3",{children:"Trade Breakdown"}),n.jsxs("div",{className:"breakdown-grid",children:[n.jsxs("div",{className:"breakdown-item win",children:[n.jsx("div",{className:"breakdown-count",children:h.winningTrades||0}),n.jsx("div",{className:"breakdown-label",children:"Winning Trades"})]}),n.jsxs("div",{className:"breakdown-item loss",children:[n.jsx("div",{className:"breakdown-count",children:h.losingTrades||0}),n.jsx("div",{className:"breakdown-label",children:"Losing Trades"})]}),n.jsxs("div",{className:"breakdown-item neutral",children:[n.jsx("div",{className:"breakdown-count",children:w(h.tradesPerDay)}),n.jsx("div",{className:"breakdown-label",children:"Trades/Day"})]})]})]})]})},ey=({trades:o})=>{const[h,j]=L.useState("entryTime"),[d,f]=L.useState("asc"),g=y=>{h===y?f(d==="asc"?"desc":"asc"):(j(y),f("asc"))},w=[...o].sort((y,C)=>{let k=y[h],M=C[h];return(h==="entryTime"||h==="exitTime")&&(k=new Date(k).getTime(),M=new Date(M).getTime()),d==="asc"?k>M?1:-1:k<M?1:-1}),m=y=>new Date(y).toLocaleString(),b=y=>`$${y.toFixed(2)}`,v=y=>`${y.toFixed(2)}%`,T=y=>{const C=y/36e5;return C<1?`${(y/(1e3*60)).toFixed(0)}m`:C<24?`${C.toFixed(1)}h`:`${(C/24).toFixed(1)}d`},x=({field:y})=>h!==y?n.jsx("span",{className:"sort-icon",children:""}):n.jsx("span",{className:"sort-icon active",children:d==="asc"?"":""});return n.jsxs("div",{className:"trades-table-container",children:[n.jsx("div",{className:"table-header",children:n.jsxs("h3",{children:["Trade Log (",o.length," trades)"]})}),n.jsx("div",{className:"table-wrapper",children:n.jsxs("table",{className:"trades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsxs("th",{onClick:()=>g("entryTime"),children:["Entry Time ",n.jsx(x,{field:"entryTime"})]}),n.jsxs("th",{onClick:()=>g("exitTime"),children:["Exit Time ",n.jsx(x,{field:"exitTime"})]}),n.jsxs("th",{onClick:()=>g("direction"),children:["Direction ",n.jsx(x,{field:"direction"})]}),n.jsxs("th",{onClick:()=>g("shares"),children:["Shares ",n.jsx(x,{field:"shares"})]}),n.jsxs("th",{onClick:()=>g("entryPrice"),children:["Entry Price ",n.jsx(x,{field:"entryPrice"})]}),n.jsxs("th",{onClick:()=>g("exitPrice"),children:["Exit Price ",n.jsx(x,{field:"exitPrice"})]}),n.jsxs("th",{onClick:()=>g("netProfit"),children:["Net P/L ",n.jsx(x,{field:"netProfit"})]}),n.jsxs("th",{onClick:()=>g("profitPercent"),children:["P/L % ",n.jsx(x,{field:"profitPercent"})]}),n.jsx("th",{children:"Exit Reason"}),n.jsxs("th",{onClick:()=>g("holdingDuration"),children:["Duration ",n.jsx(x,{field:"holdingDuration"})]}),n.jsxs("th",{onClick:()=>g("mae"),children:["MAE ",n.jsx(x,{field:"mae"})]}),n.jsxs("th",{onClick:()=>g("mfe"),children:["MFE ",n.jsx(x,{field:"mfe"})]})]})}),n.jsx("tbody",{children:w.map((y,C)=>n.jsxs("tr",{className:y.netProfit>0?"win":"loss",children:[n.jsx("td",{children:m(y.entryTime)}),n.jsx("td",{children:m(y.exitTime)}),n.jsx("td",{children:n.jsx("span",{className:`direction-badge ${y.direction}`,children:y.direction==="long"?"LONG":"SHORT"})}),n.jsx("td",{children:y.shares||100}),n.jsx("td",{children:b(y.entryPrice)}),n.jsx("td",{children:b(y.exitPrice)}),n.jsx("td",{className:y.netProfit>0?"profit":"loss",children:b(y.netProfit)}),n.jsx("td",{className:y.profitPercent>0?"profit":"loss",children:v(y.profitPercent)}),n.jsx("td",{children:n.jsx("span",{className:`exit-reason ${y.exitReason||"signal"}`,children:y.exitReason==="take-profit"?"TP":y.exitReason==="stop-loss"?"SL":y.exitReason==="auto-exit"?"Auto":"Signal"})}),n.jsx("td",{children:T(y.holdingDuration)}),n.jsx("td",{children:b(y.mae)}),n.jsx("td",{children:b(y.mfe)})]},C))})]})})]})},ty=({data:o})=>{const h=L.useRef(null);L.useEffect(()=>{!o||o.length===0||j()},[o]);const j=()=>{const d=h.current;if(!d)return;const f=d.getContext("2d"),g=d.width,w=d.height;f.clearRect(0,0,g,w);const m={top:20,right:40,bottom:40,left:60},b=g-m.left-m.right,v=w-m.top-m.bottom,T=Math.min(...o.map(E=>E.equity)),x=Math.max(...o.map(E=>E.equity)),y=o[0].time,C=o[o.length-1].time,k=E=>m.left+(E-y)/(C-y)*b,M=E=>w-m.bottom-(E-T)/(x-T)*v;f.strokeStyle="#2a2e39",f.lineWidth=1;for(let E=0;E<=5;E++){const q=m.top+v/5*E;f.beginPath(),f.moveTo(m.left,q),f.lineTo(g-m.right,q),f.stroke()}f.strokeStyle="#9aa6c6",f.lineWidth=2,f.beginPath(),f.moveTo(m.left,w-m.bottom),f.lineTo(g-m.right,w-m.bottom),f.stroke(),f.beginPath(),f.moveTo(m.left,m.top),f.lineTo(m.left,w-m.bottom),f.stroke(),f.strokeStyle="#10b981",f.lineWidth=2,f.beginPath(),o.forEach((E,q)=>{const Y=k(E.time),V=M(E.equity);q===0?f.moveTo(Y,V):f.lineTo(Y,V)}),f.stroke(),f.fillStyle="rgba(16, 185, 129, 0.1)",f.beginPath(),f.moveTo(k(o[0].time),w-m.bottom),o.forEach(E=>{f.lineTo(k(E.time),M(E.equity))}),f.lineTo(k(o[o.length-1].time),w-m.bottom),f.closePath(),f.fill(),f.fillStyle="#9aa6c6",f.font="12px sans-serif",f.textAlign="right";for(let E=0;E<=5;E++){const q=T+(x-T)/5*E,Y=w-m.bottom-v/5*E;f.fillText(`$${q.toFixed(0)}`,m.left-10,Y+4)}f.fillStyle="#cfe8ff",f.font="bold 14px sans-serif",f.textAlign="center",f.fillText("Equity Curve",g/2,m.top/2+5)};return n.jsx("div",{className:"equity-curve-chart",children:n.jsx("canvas",{ref:h,width:800,height:400})})},ly=({historicalData:o,signals:h})=>{const j=L.useRef(null);L.useEffect(()=>{!o||o.length===0||d()},[o,h]);const d=()=>{const f=j.current;if(!f)return;const g=f.getContext("2d"),w=f.width,m=f.height;g.clearRect(0,0,w,m);const b={top:20,right:40,bottom:40,left:60},v=w-b.left-b.right,T=m-b.top-b.bottom;let x=o;if(o.length>500){const Y=Math.ceil(o.length/500);x=o.filter((V,D)=>D%Y===0)}const y=x.map(Y=>[parseFloat(Y.h||Y.high||0),parseFloat(Y.l||Y.low||0)]).flat(),C=Math.min(...y),k=Math.max(...y),M=Y=>b.left+Y/(x.length-1)*v,E=Y=>m-b.bottom-(Y-C)/(k-C)*T;g.strokeStyle="#2a2e39",g.lineWidth=1;for(let Y=0;Y<=5;Y++){const V=b.top+T/5*Y;g.beginPath(),g.moveTo(b.left,V),g.lineTo(w-b.right,V),g.stroke()}g.strokeStyle="#9aa6c6",g.lineWidth=2,g.beginPath(),g.moveTo(b.left,m-b.bottom),g.lineTo(w-b.right,m-b.bottom),g.stroke(),g.beginPath(),g.moveTo(b.left,b.top),g.lineTo(b.left,m-b.bottom),g.stroke();const q=Math.max(1,v/x.length*.8);x.forEach((Y,V)=>{const D=parseFloat(Y.o||Y.open||0),F=parseFloat(Y.h||Y.high||0),P=parseFloat(Y.l||Y.low||0),$=parseFloat(Y.c||Y.close||0),ie=M(V),Z=E(F),oe=E(P),le=E(D),me=E($),Oe=$>=D;g.strokeStyle=Oe?"#10b981":"#ef4444",g.fillStyle=Oe?"#10b981":"#ef4444",g.beginPath(),g.moveTo(ie,Z),g.lineTo(ie,oe),g.stroke();const ue=Math.abs(me-le);g.fillRect(ie-q/2,Math.min(le,me),q,Math.max(1,ue))}),h&&h.length>0&&h.forEach(Y=>{const V=(Y.signal||Y.action||"").toUpperCase();if(V!=="BUY"&&V!=="SELL")return;const D=new Date(Y.time||Y.timestamp||Y.t).getTime(),F=parseFloat(Y.price||Y.close||0);let P=0,$=1/0;x.forEach((oe,le)=>{const me=new Date(oe.t||oe.time||oe.timestamp).getTime(),Oe=Math.abs(me-D);Oe<$&&($=Oe,P=le)});const ie=M(P),Z=E(F);g.fillStyle=V==="BUY"?"#10b981":"#ef4444",g.beginPath(),V==="BUY"?(g.moveTo(ie,Z-8),g.lineTo(ie-6,Z+2),g.lineTo(ie+6,Z+2)):(g.moveTo(ie,Z+8),g.lineTo(ie-6,Z-2),g.lineTo(ie+6,Z-2)),g.closePath(),g.fill()}),g.fillStyle="#9aa6c6",g.font="12px sans-serif",g.textAlign="right";for(let Y=0;Y<=5;Y++){const V=C+(k-C)/5*Y,D=m-b.bottom-T/5*Y;g.fillText(`$${V.toFixed(2)}`,b.left-10,D+4)}g.fillStyle="#cfe8ff",g.font="bold 14px sans-serif",g.textAlign="center",g.fillText("Price Action with Signals",w/2,b.top/2+5)};return n.jsxs("div",{className:"price-chart",children:[n.jsx("canvas",{ref:j,width:800,height:400}),n.jsxs("div",{className:"chart-legend",children:[n.jsxs("span",{className:"legend-item",children:[n.jsx("span",{className:"legend-marker buy",children:""})," BUY Signal"]}),n.jsxs("span",{className:"legend-item",children:[n.jsx("span",{className:"legend-marker sell",children:""})," SELL Signal"]})]})]})},ay=({data:o})=>{const h=L.useRef(null);L.useEffect(()=>{!o||o.length===0||j()},[o]);const j=()=>{const d=h.current;if(!d)return;const f=d.getContext("2d"),g=d.width,w=d.height;f.clearRect(0,0,g,w);const m={top:20,right:40,bottom:40,left:60},b=g-m.left-m.right,v=w-m.top-m.bottom,T=Math.max(...o.map(M=>M.drawdown)),x=o[0].time,y=o[o.length-1].time,C=M=>m.left+(M-x)/(y-x)*b,k=M=>w-m.bottom-M/T*v;f.strokeStyle="#2a2e39",f.lineWidth=1;for(let M=0;M<=5;M++){const E=m.top+v/5*M;f.beginPath(),f.moveTo(m.left,E),f.lineTo(g-m.right,E),f.stroke()}f.strokeStyle="#9aa6c6",f.lineWidth=2,f.beginPath(),f.moveTo(m.left,w-m.bottom),f.lineTo(g-m.right,w-m.bottom),f.stroke(),f.beginPath(),f.moveTo(m.left,m.top),f.lineTo(m.left,w-m.bottom),f.stroke(),f.fillStyle="rgba(239, 68, 68, 0.3)",f.beginPath(),f.moveTo(C(o[0].time),w-m.bottom),o.forEach(M=>{f.lineTo(C(M.time),k(M.drawdown))}),f.lineTo(C(o[o.length-1].time),w-m.bottom),f.closePath(),f.fill(),f.strokeStyle="#ef4444",f.lineWidth=2,f.beginPath(),o.forEach((M,E)=>{const q=C(M.time),Y=k(M.drawdown);E===0?f.moveTo(q,Y):f.lineTo(q,Y)}),f.stroke(),f.fillStyle="#9aa6c6",f.font="12px sans-serif",f.textAlign="right";for(let M=0;M<=5;M++){const E=T/5*M,q=w-m.bottom-v/5*M;f.fillText(`$${E.toFixed(0)}`,m.left-10,q+4)}f.fillStyle="#cfe8ff",f.font="bold 14px sans-serif",f.textAlign="center",f.fillText("Drawdown Over Time",g/2,m.top/2+5)};return n.jsx("div",{className:"drawdown-chart",children:n.jsx("canvas",{ref:h,width:800,height:400})})},ny=({trades:o})=>{const h=o.filter(T=>T.netProfit>0),j=o.filter(T=>T.netProfit<=0),d=()=>{if(o.length===0)return[];const T=o.map(E=>E.netProfit),x=Math.min(...T),y=Math.max(...T),C=10,k=(y-x)/C,M=Array.from({length:C},(E,q)=>({min:x+q*k,max:x+(q+1)*k,count:0}));return T.forEach(E=>{const q=Math.min(Math.floor((E-x)/k),C-1);M[q].count++}),M},f=()=>{if(o.length===0)return[];const T=o.map(E=>E.holdingDuration),x=Math.min(...T),y=Math.max(...T),C=8,k=(y-x)/C,M=Array.from({length:C},(E,q)=>({min:x+q*k,max:x+(q+1)*k,count:0,label:g(x+q*k)}));return T.forEach(E=>{const q=Math.min(Math.floor((E-x)/k),C-1);M[q].count++}),M},g=T=>{const x=T/36e5;return x<1?`${(T/(1e3*60)).toFixed(0)}m`:x<24?`${x.toFixed(0)}h`:`${(x/24).toFixed(0)}d`},w=d(),m=f(),b=Math.max(...w.map(T=>T.count),1),v=Math.max(...m.map(T=>T.count),1);return n.jsxs("div",{className:"stats-distribution",children:[n.jsxs("div",{className:"distribution-section",children:[n.jsx("h3",{children:"Win/Loss Distribution"}),n.jsxs("div",{className:"winloss-bars",children:[n.jsxs("div",{className:"bar-group",children:[n.jsx("div",{className:"bar-label",children:"Wins"}),n.jsx("div",{className:"bar win",style:{width:`${h.length/o.length*100}%`},children:n.jsx("span",{className:"bar-value",children:h.length})})]}),n.jsxs("div",{className:"bar-group",children:[n.jsx("div",{className:"bar-label",children:"Losses"}),n.jsx("div",{className:"bar loss",style:{width:`${j.length/o.length*100}%`},children:n.jsx("span",{className:"bar-value",children:j.length})})]})]})]}),n.jsxs("div",{className:"distribution-section",children:[n.jsx("h3",{children:"Profit Distribution"}),n.jsx("div",{className:"histogram",children:w.map((T,x)=>n.jsxs("div",{className:"histogram-bar-wrapper",children:[n.jsx("div",{className:`histogram-bar ${T.min>=0?"positive":"negative"}`,style:{height:`${T.count/b*200}px`},children:n.jsx("span",{className:"bar-count",children:T.count})}),n.jsxs("div",{className:"histogram-label",children:["$",T.min.toFixed(0)]})]},x))})]}),n.jsxs("div",{className:"distribution-section",children:[n.jsx("h3",{children:"Trade Duration Distribution"}),n.jsx("div",{className:"histogram",children:m.map((T,x)=>n.jsxs("div",{className:"histogram-bar-wrapper",children:[n.jsx("div",{className:"histogram-bar duration",style:{height:`${T.count/v*200}px`},children:n.jsx("span",{className:"bar-count",children:T.count})}),n.jsx("div",{className:"histogram-label",children:T.label})]},x))})]}),n.jsxs("div",{className:"distribution-section",children:[n.jsx("h3",{children:"MAE vs MFE Analysis"}),n.jsx("div",{className:"mae-mfe-grid",children:o.slice(0,50).map((T,x)=>n.jsxs("div",{className:"mae-mfe-point",title:`Trade ${x+1}: MAE $${T.mae.toFixed(2)}, MFE $${T.mfe.toFixed(2)}`,children:[n.jsx("div",{className:"point-mae",style:{width:`${Math.min(T.mae/50*100,100)}%`}}),n.jsx("div",{className:"point-mfe",style:{width:`${Math.min(T.mfe/50*100,100)}%`}})]},x))}),n.jsxs("div",{className:"mae-mfe-legend",children:[n.jsxs("span",{children:[n.jsx("span",{className:"legend-box mae"})," MAE (Max Adverse)"]}),n.jsxs("span",{children:[n.jsx("span",{className:"legend-box mfe"})," MFE (Max Favorable)"]})]})]})]})},iy=({results:o})=>{const[h,j]=L.useState("summary"),d=[{key:"summary",label:"Summary",icon:""},{key:"trades",label:"Trades",icon:""},{key:"equity",label:"Equity Curve",icon:""},{key:"price",label:"Price Action",icon:""},{key:"drawdown",label:"Drawdown",icon:""},{key:"stats",label:"Statistics",icon:""}],f=()=>{const{trades:w}=o,m=["Entry Time","Exit Time","Direction","Entry Price","Exit Price","Net Profit","Profit %","Holding Duration (ms)","MAE","MFE"],b=w.map(C=>[new Date(C.entryTime).toISOString(),new Date(C.exitTime).toISOString(),C.direction,C.entryPrice.toFixed(2),C.exitPrice.toFixed(2),C.netProfit.toFixed(2),C.profitPercent.toFixed(2),C.holdingDuration,C.mae.toFixed(2),C.mfe.toFixed(2)]),v=[m,...b].map(C=>C.join(",")).join(`
`),T=new Blob([v],{type:"text/csv"}),x=URL.createObjectURL(T),y=document.createElement("a");y.href=x,y.download=`backtest-trades-${Date.now()}.csv`,y.click(),URL.revokeObjectURL(x)},g=()=>{const w=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),m=URL.createObjectURL(w),b=document.createElement("a");b.href=m,b.download=`backtest-results-${Date.now()}.json`,b.click(),URL.revokeObjectURL(m)};return n.jsxs("div",{className:"backtest-results",children:[n.jsxs("div",{className:"results-header",children:[n.jsx("h2",{children:"Backtest Results"}),n.jsxs("div",{className:"export-buttons",children:[n.jsx("button",{onClick:f,className:"export-btn",children:"Export CSV"}),n.jsx("button",{onClick:g,className:"export-btn",children:"Export JSON"})]})]}),n.jsx("div",{className:"results-tabs",children:d.map(w=>n.jsxs("button",{className:`tab-btn ${h===w.key?"active":""}`,onClick:()=>j(w.key),children:[n.jsx("span",{className:"tab-icon",children:w.icon}),n.jsx("span",{className:"tab-label",children:w.label})]},w.key))}),n.jsxs("div",{className:"results-content",children:[h==="summary"&&n.jsx(Pg,{results:o}),h==="trades"&&n.jsx(ey,{trades:o.trades}),h==="equity"&&n.jsx(ty,{data:o.equityCurve}),h==="price"&&n.jsx(ly,{historicalData:o.historicalData,signals:o.signals}),h==="drawdown"&&n.jsx(ay,{data:o.drawdownData.data}),h==="stats"&&n.jsx(ny,{trades:o.trades})]})]})},sy="flowgrid_workflow_v1::saves";async function cy(o){const{strategyName:h,symbol:j,timeframe:d,startDate:f,endDate:g,startingCapital:w,fees:m=.001,slippage:b=5e-4,orderType:v="market",takeProfitPct:T=0,stopLossPct:x=0,sharesPerTrade:y=100,commissionPerTrade:C=0,usePercentOfEquity:k=!1,percentOfEquity:M=10,pyramiding:E=1,fillOnNextBar:q=!0}=o;console.log("[BacktestEngine] Starting TradingView-style backtest...",o);const Y=oy(h);if(!Y)throw new Error(`Strategy "${h}" not found`);const V=await ry(j,d,f,g);if(!V||V.length===0)throw new Error("No historical data available for the selected period");console.log(`[BacktestEngine] Loaded ${V.length} candles`);const D=await uy(Y,V,j,d,{takeProfitPct:T,stopLossPct:x,sharesPerTrade:y,startingCapital:w,commissionPerTrade:C});console.log(`[BacktestEngine] Generated ${D.length} signals`);const F=dy(D,V,{fees:m,slippage:b,takeProfitPct:T,stopLossPct:x,sharesPerTrade:y,commissionPerTrade:C,usePercentOfEquity:!0,percentOfEquity:M,pyramiding:E,fillOnNextBar:q,startingCapital:w});console.log(`[BacktestEngine] Executed ${F.length} trades`);const P=my(F,w),$=hy(F,w,V),ie=gy($);return{config:o,trades:F,metrics:P,equityCurve:$,drawdownData:ie,historicalData:V,signals:D}}function oy(o){try{const h=localStorage.getItem(sy);return h?JSON.parse(h)[o]:null}catch(h){return console.error("[BacktestEngine] Failed to load strategy",h),null}}async function ry(o,h,j,d){try{const f=localStorage.getItem("alpaca_key_id"),g=localStorage.getItem("alpaca_secret_key"),w={symbol:o,timeframe:h,start:j,end:d,alpacaKeyId:f,alpacaSecretKey:g},m=["http://localhost:5000/backtest_data","http://127.0.0.1:5000/backtest_data","/backtest_data"];let b=null;for(const v of m)try{const T=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!T.ok){const y=await T.text();throw new Error(`HTTP ${T.status}: ${y}`)}const x=await T.json();if(x.error)throw new Error(x.error);return x.bars||x.data||x}catch(T){b=T;continue}throw b||new Error("Failed to fetch historical data")}catch(f){throw console.error("[BacktestEngine] Historical data fetch error",f),f}}async function uy(o,h,j,d,f={}){try{const g=localStorage.getItem("alpaca_key_id"),w=localStorage.getItem("alpaca_secret_key");let m;if(Array.isArray(o))m=o.map(x=>({id:x.id,type:x.type,params:x.configValues||x.params||{}}));else if(o.nodes&&Array.isArray(o.nodes))m=o.nodes.map(x=>({id:x.id,type:x.type,params:x.configValues||x.params||{}}));else throw new Error("Invalid workflow format - expected array or object with nodes");console.log(`[BacktestEngine] Prepared ${m.length} workflow blocks`,m);const b={symbol:j,timeframe:d,workflow:m,historicalData:h,backtestMode:!0,alpacaKeyId:g,alpacaSecretKey:w,config:{takeProfitPct:f.takeProfitPct||0,stopLossPct:f.stopLossPct||0,sharesPerTrade:f.sharesPerTrade||100,initialCapital:f.startingCapital||1e4,commissionPerTrade:f.commissionPerTrade||0}},v=["/execute_backtest","http://127.0.0.1:5000/execute_backtest","http://localhost:5000/execute_backtest"];let T=null;for(const x of v)try{const y=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!y.ok){const k=await y.text();throw new Error(`HTTP ${y.status}: ${k}`)}const C=await y.json();if(C.error)throw new Error(C.error);return C.signals||[]}catch(y){T=y;continue}throw T||new Error("Failed to generate signals")}catch(g){throw console.error("[BacktestEngine] Signal generation error",g),g}}function dy(o,h,j){const{fees:d=.001,slippage:f=5e-4,takeProfitPct:g=0,stopLossPct:w=0,sharesPerTrade:m=100,commissionPerTrade:b=0,usePercentOfEquity:v=!1,percentOfEquity:T=10,pyramiding:x=1,fillOnNextBar:y=!0,startingCapital:C=1e4}=j,k=[];let M=C,E=[];const q=new Map;o.forEach(Y=>{const V=new Date(Y.time||Y.timestamp||Y.t).getTime(),D=h.findIndex(F=>{const P=new Date(F.t||F.timestamp||F.time).getTime();return Math.abs(P-V)<6e4});D>=0&&q.set(D,Y)}),console.log(`[TradingView Engine] Starting with $${M}, ${x} max positions, ${v?T+"% equity":m+" shares"} per trade`);for(let Y=0;Y<h.length;Y++){const V=h[Y],D=new Date(V.t||V.timestamp||V.time);parseFloat(V.o||V.open);const F=parseFloat(V.h||V.high),P=parseFloat(V.l||V.low),$=parseFloat(V.c||V.close),ie=[];E.forEach((ae,U)=>{let I=null,se=null;if(ae.type==="long"?ae.slPrice&&P<=ae.slPrice?(I=ae.slPrice,se="stop-loss"):ae.tpPrice&&F>=ae.tpPrice&&(I=ae.tpPrice,se="take-profit"):ae.type==="short"&&(ae.slPrice&&F>=ae.slPrice?(I=ae.slPrice,se="stop-loss"):ae.tpPrice&&P<=ae.tpPrice&&(I=ae.tpPrice,se="take-profit")),I){const je=Ts(ae,I,D,Y,h,d,b,se);k.push(je),M+=je.netProfit,ie.push(U),console.log(`[Trade ${k.length}] ${ae.type.toUpperCase()} closed via ${se} at $${I.toFixed(2)}, P&L: $${je.netProfit.toFixed(2)}, Equity: $${M.toFixed(2)}`)}});for(let ae=ie.length-1;ae>=0;ae--)E.splice(ie[ae],1);const Z=q.get(Y);if(!Z)continue;const oe=(Z.signal||Z.action||"").toUpperCase();if(oe==="HOLD"||oe==="WAIT")continue;let le,me=Y;if(y&&Y+1<h.length){const ae=h[Y+1];le=parseFloat(ae.o||ae.open),me=Y+1}else le=$;oe==="BUY"?le*=1+f:oe==="SELL"&&(le*=1-f);const Oe=E.filter(ae=>ae.type==="long").length,ue=E.filter(ae=>ae.type==="short").length;if(oe==="BUY"){if(ue>0&&(E.filter(ae=>ae.type==="short").forEach(ae=>{const U=Ts(ae,le,D,me,h,d,b,"signal");k.push(U),M+=U.netProfit,console.log(`[Trade ${k.length}] SHORT reversed at $${le.toFixed(2)}, P&L: $${U.netProfit.toFixed(2)}, Equity: $${M.toFixed(2)}`)}),E=E.filter(ae=>ae.type!=="short")),Oe<x){const ae=dm(M,le,v,T,m),U=g>0?le*(1+g/100):null,I=w>0?le*(1-w/100):null;E.push({type:"long",entryPrice:le,entryTime:D,entryBar:me,shares:ae,tpPrice:U,slPrice:I}),console.log(`[Position] LONG opened at $${le.toFixed(2)}, ${ae} shares (TP: ${U?.toFixed(2)||"none"}, SL: ${I?.toFixed(2)||"none"}), Equity: $${M.toFixed(2)}`)}}else if(oe==="SELL"&&(Oe>0&&(E.filter(ae=>ae.type==="long").forEach(ae=>{const U=Ts(ae,le,D,me,h,d,b,"signal");k.push(U),M+=U.netProfit,console.log(`[Trade ${k.length}] LONG reversed at $${le.toFixed(2)}, P&L: $${U.netProfit.toFixed(2)}, Equity: $${M.toFixed(2)}`)}),E=E.filter(ae=>ae.type!=="long")),ue<x)){const ae=dm(M,le,v,T,m),U=g>0?le*(1-g/100):null,I=w>0?le*(1+w/100):null;E.push({type:"short",entryPrice:le,entryTime:D,entryBar:me,shares:ae,tpPrice:U,slPrice:I}),console.log(`[Position] SHORT opened at $${le.toFixed(2)}, ${ae} shares (TP: ${U?.toFixed(2)||"none"}, SL: ${I?.toFixed(2)||"none"}), Equity: $${M.toFixed(2)}`)}}if(E.length>0){const Y=h[h.length-1],V=parseFloat(Y.c||Y.close),D=new Date(Y.t||Y.timestamp||Y.time);E.forEach(F=>{const P=Ts(F,V,D,h.length-1,h,d,b,"auto-exit");k.push(P),M+=P.netProfit,console.log(`[Trade ${k.length}] ${F.type.toUpperCase()} auto-closed at $${V.toFixed(2)}, P&L: $${P.netProfit.toFixed(2)}, Final Equity: $${M.toFixed(2)}`)})}return console.log(`[TradingView Engine] Completed: ${k.length} trades, Final Equity: $${M.toFixed(2)} (${((M-C)/C*100).toFixed(2)}%)`),k}function dm(o,h,j,d,f){if(j){const g=o*(d/100),w=Math.floor(g/h);return Math.max(1,w)}return f}function Ts(o,h,j,d,f,g,w,m){const b=o.shares,T=(o.type==="long"?h-o.entryPrice:o.entryPrice-h)*b,x=o.entryPrice*b,y=h*b,C=(x+y)*g,k=C+w*2,M=T-k,E=M/x*100,q=j.getTime()-o.entryTime.getTime(),{mae:Y,mfe:V}=fy(o.entryBar,d,f,o.entryPrice,o.type);return{direction:o.type,entryTime:o.entryTime,exitTime:j,entryPrice:o.entryPrice,exitPrice:h,shares:b,grossProfit:T,netProfit:M,profitPercent:E,holdingDuration:q,fees:C,commission:w*2,mae:Y*b,mfe:V*b,exitReason:m,isAutoExit:m==="auto-exit"}}function fy(o,h,j,d,f){let g=0,w=0;for(let m=o;m<=h&&m<j.length;m++){const b=j[m],v=parseFloat(b.l||b.low||0),T=parseFloat(b.h||b.high||0);if(f==="long"){const x=d-v,y=T-d;x>g&&(g=x),y>w&&(w=y)}else{const x=T-d,y=d-v;x>g&&(g=x),y>w&&(w=y)}}return{mae:g,mfe:w}}function my(o,h,j){if(o.length===0)return{totalTrades:0,winRate:0,lossRate:0,netProfit:0,netProfitPercent:0,avgWin:0,avgLoss:0,bestTrade:0,worstTrade:0,profitFactor:0,maxDrawdown:0,maxRunUp:0,expectancy:0,sharpeRatio:0,avgHoldingTime:0,tradesPerDay:0};const d=o.filter(le=>le.netProfit>0),f=o.filter(le=>le.netProfit<=0),g=d.reduce((le,me)=>le+me.netProfit,0),w=Math.abs(f.reduce((le,me)=>le+me.netProfit,0)),m=o.reduce((le,me)=>le+me.netProfit,0),b=m/h*100,v=d.length>0?g/d.length:0,T=f.length>0?w/f.length:0,x=Math.max(...o.map(le=>le.netProfit)),y=Math.min(...o.map(le=>le.netProfit)),C=w>0?g/w:g>0?1/0:0,k=d.length/o.length*100,M=100-k,E=k/100*v-M/100*T,q=o.map(le=>le.profitPercent),Y=q.reduce((le,me)=>le+me,0)/q.length,V=q.reduce((le,me)=>le+Math.pow(me-Y,2),0)/q.length,D=Math.sqrt(V),F=D>0?Y/D:0,P=o.reduce((le,me)=>le+me.holdingDuration,0)/o.length,$=new Date(o[0].entryTime).getTime(),Z=(new Date(o[o.length-1].exitTime).getTime()-$)/(1e3*60*60*24),oe=Z>0?o.length/Z:0;return{totalTrades:o.length,winningTrades:d.length,losingTrades:f.length,winRate:k,lossRate:M,netProfit:m,netProfitPercent:b,avgWin:v,avgLoss:T,bestTrade:x,worstTrade:y,profitFactor:C,expectancy:E,sharpeRatio:F,avgHoldingTime:P,tradesPerDay:oe,maxDrawdown:0,maxRunUp:0}}function hy(o,h,j){const d=[{time:new Date(j[0].t).getTime(),equity:h}];let f=h;return o.forEach(g=>{f+=g.netProfit,d.push({time:new Date(g.exitTime).getTime(),equity:f})}),d}function gy(o){const h=[];let j=o[0].equity,d=0;return o.forEach(f=>{f.equity>j&&(j=f.equity);const g=j-f.equity,w=j>0?g/j*100:0;h.push({time:f.time,drawdown:g,drawdownPercent:w}),g>d&&(d=g)}),{data:h,maxDrawdown:d,maxDrawdownPercent:d/o[0].equity*100}}const yy=({onNavigate:o})=>{const[h,j]=L.useState(!1),[d,f]=L.useState(null),[g,w]=L.useState(null),m=async b=>{j(!0),w(null),f(null);try{console.log("[Backtest] Running with config:",b);const v=await cy(b);console.log("[Backtest] Results:",v),f(v)}catch(v){console.error("[Backtest] Error:",v),w(v.message||"Backtest failed. Please try again.")}finally{j(!1)}};return n.jsxs("div",{className:"dashboard-root",children:[n.jsx(nr,{onNavigate:o,hideHome:!1,activeKey:"backtest"}),n.jsx("div",{className:"backtest-page",children:n.jsxs("div",{className:"backtest-container",children:[n.jsx(Ig,{onRun:m,loading:h}),n.jsxs("div",{className:"backtest-output",children:[h&&n.jsxs("div",{className:"backtest-loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Running backtest simulation..."}),n.jsx("small",{children:"Processing historical data and computing trades"})]}),g&&n.jsxs("div",{className:"backtest-error",children:[n.jsx("div",{className:"error-icon",children:""}),n.jsx("h3",{children:"Backtest Failed"}),n.jsx("p",{children:g})]}),!h&&!g&&!d&&n.jsxs("div",{className:"backtest-empty",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"Ready to Backtest"}),n.jsx("p",{children:'Configure your backtest parameters and click "Run Backtest" to begin.'})]}),!h&&!g&&d&&n.jsx(iy,{results:d})]})]})})]})},$o="alpaca_key_id",Wo="alpaca_secret_key",Fo="telegram_bot_token",Io="telegram_chat_id",ir=({noWrapper:o=!1})=>{const[h,j]=L.useState(""),[d,f]=L.useState(""),[g,w]=L.useState(!1),[m,b]=L.useState(""),[v,T]=L.useState(""),[x,y]=L.useState(!1);L.useEffect(()=>{try{const ue=localStorage.getItem($o)||"",ae=localStorage.getItem(Wo)||"";j(ue),f(ae);const U=localStorage.getItem(Fo)||"",I=localStorage.getItem(Io)||"";b(U),T(I)}catch{}},[]);const C=()=>{try{localStorage.setItem($o,h.trim()),localStorage.setItem(Wo,d.trim()),w(!0),setTimeout(()=>w(!1),1500)}catch(ue){console.warn(ue)}},k=()=>{try{localStorage.removeItem($o),localStorage.removeItem(Wo),j(""),f(""),w(!0),setTimeout(()=>w(!1),1200)}catch{}},[M,E]=L.useState(!1),[q,Y]=L.useState(null),V=async()=>{E(!0),Y(null);try{const ue=await fetch("/test_alpaca_keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alpacaKeyId:h.trim(),alpacaSecretKey:d.trim()})}),ae=await ue.json().catch(()=>null);ue.ok&&ae&&ae.ok?Y({ok:!0,msg:`Validated: ${ae.message||"OK"}`}):Y({ok:!1,msg:ae&&ae.error||`HTTP ${ue.status}`})}catch(ue){Y({ok:!1,msg:String(ue)})}E(!1)},[D,F]=L.useState(!1),[P,$]=L.useState(null),ie=async()=>{try{localStorage.setItem(Fo,m.trim()),localStorage.setItem(Io,v.trim());const ue=await fetch("/api/telegram/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bot_token:m.trim(),chat_id:v.trim()})});if(ue.ok)y(!0),setTimeout(()=>y(!1),1500);else{const ae=await ue.json().catch(()=>({}));alert(`Failed to save Telegram settings: ${ae.error||"Unknown error"}`)}}catch(ue){console.warn(ue),alert(`Error saving Telegram settings: ${ue.message}`)}},Z=()=>{try{localStorage.removeItem(Fo),localStorage.removeItem(Io),b(""),T(""),y(!0),setTimeout(()=>y(!1),1200)}catch{}},oe=async()=>{F(!0),$(null);try{const ue=await fetch("/api/telegram/test",{method:"POST",headers:{"Content-Type":"application/json"}}),ae=await ue.json().catch(()=>null);ue.ok&&ae&&ae.success?$({ok:!0,msg:` ${ae.message}`}):$({ok:!1,msg:ae&&ae.error||`HTTP ${ue.status}`})}catch(ue){$({ok:!1,msg:String(ue)})}F(!1)},le=()=>!h||!d?"No API keys set":"Alpaca keys present",me=()=>!m||!v?"No Telegram configured":"Telegram configured",Oe=n.jsx("div",{className:"panel-body",children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[n.jsx("h3",{style:{margin:0,fontSize:14,fontWeight:600,color:"#cfe8ff"},children:"Alpaca API Keys"}),n.jsx("label",{style:{fontSize:12,color:"#9fb2c9"},children:"Alpaca Key ID"}),n.jsx("input",{value:h,onChange:ue=>j(ue.target.value),placeholder:"Enter Alpaca Key ID",style:{padding:8,borderRadius:6,border:"1px solid rgba(255,255,255,0.04)",background:"transparent",color:"#e6eef8"}}),n.jsx("label",{style:{fontSize:12,color:"#9fb2c9"},children:"Alpaca Secret Key"}),n.jsx("input",{type:"password",value:d,onChange:ue=>f(ue.target.value),placeholder:"Enter Alpaca Secret Key",autoComplete:"new-password",style:{padding:8,borderRadius:6,border:"1px solid rgba(255,255,255,0.04)",background:"transparent",color:"#e6eef8"}}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[n.jsx("button",{onClick:C,className:"toolbar-btn",children:"Save"}),n.jsx("button",{onClick:k,className:"toolbar-btn",children:"Clear"}),n.jsx("button",{onClick:V,disabled:M||!h||!d,className:"toolbar-btn",children:M?"Validating...":"Validate"}),n.jsx("div",{style:{marginLeft:"auto",color:"#93a3b6",alignSelf:"center"},children:g?"Saved":le()})]}),q&&n.jsx("div",{style:{marginTop:8,color:q.ok?"#7ee787":"#ff9b9b"},children:q.msg}),n.jsx("div",{style:{marginTop:8,color:"#93a3b6",fontSize:12},children:"Note: Price Input nodes will automatically use these keys to fetch data from Alpaca."})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,paddingTop:16,borderTop:"1px solid rgba(255,255,255,0.06)"},children:[n.jsx("h3",{style:{margin:0,fontSize:14,fontWeight:600,color:"#cfe8ff"},children:"Telegram Notifications "}),n.jsxs("div",{style:{fontSize:12,color:"#9fb2c9",lineHeight:1.5},children:["Get trading signals sent directly to your Telegram.",n.jsx("br",{}),n.jsx("a",{href:"https://core.telegram.org/bots#6-botfather",target:"_blank",rel:"noopener noreferrer",style:{color:"#5e8cff"},children:"Create a bot with @BotFather"})," and get your chat ID from ",n.jsx("a",{href:"https://t.me/userinfobot",target:"_blank",rel:"noopener noreferrer",style:{color:"#5e8cff"},children:"@userinfobot"})]}),n.jsx("label",{style:{fontSize:12,color:"#9fb2c9",marginTop:8},children:"Bot Token (from @BotFather)"}),n.jsx("input",{type:"password",value:m,onChange:ue=>b(ue.target.value),placeholder:"Enter Bot Token (e.g., 123456:ABC-DEF...)",style:{padding:8,borderRadius:6,border:"1px solid rgba(255,255,255,0.04)",background:"transparent",color:"#e6eef8"}}),n.jsx("label",{style:{fontSize:12,color:"#9fb2c9"},children:"Chat ID (your Telegram user ID)"}),n.jsx("input",{value:v,onChange:ue=>T(ue.target.value),placeholder:"Enter Chat ID (e.g., 123456789)",style:{padding:8,borderRadius:6,border:"1px solid rgba(255,255,255,0.04)",background:"transparent",color:"#e6eef8"}}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[n.jsx("button",{onClick:ie,className:"toolbar-btn",children:"Save"}),n.jsx("button",{onClick:Z,className:"toolbar-btn",children:"Clear"}),n.jsx("button",{onClick:oe,disabled:D||!m||!v,className:"toolbar-btn",children:D?"Testing...":"Send Test"}),n.jsx("div",{style:{marginLeft:"auto",color:"#93a3b6",alignSelf:"center"},children:x?" Saved":me()})]}),P&&n.jsx("div",{style:{marginTop:8,padding:8,borderRadius:6,background:P.ok?"rgba(126, 231, 135, 0.1)":"rgba(255, 155, 155, 0.1)",color:P.ok?"#7ee787":"#ff9b9b"},children:P.msg}),n.jsx("div",{style:{marginTop:8,color:"#93a3b6",fontSize:12},children:" Notifications are sent automatically when strategies generate BUY/SELL signals."})]})]})});return o?Oe:n.jsxs("div",{className:"panel",children:[n.jsx("div",{className:"panel-header",children:"Alpaca API Settings"}),Oe]})},Po="flowgrid_alerts_v1";Array.from({length:60}).map((o,h)=>({time:Date.now()-(60-h)*6e4,close:100+Math.sin(h/6)*4+h*.05}));const vy=(o=7,h=420)=>{const j=Date.now();return Array.from({length:o}).map((d,f)=>{const g=j-(o-f-1)*24*3600*1e3,w=Math.sin(f/2)*6+(Math.random()-.5)*4,m=+(h+(f-o/2)*1.8+w).toFixed(2);return{time:g,close:m}})},py=({initialRange:o="1D"})=>{const[h,j]=ct.useState(o),d=ct.useMemo(()=>({"1D":24,"5D":120,"1M":720,"6M":720*6,YTD:365*24,All:365*24*2}),[]),f=x=>{const y=d[x]||24,C=Date.now(),k=1e4,M=Math.min(y,200);return Array.from({length:M}).map((E,q)=>({t:C-(y-q)*3600*1e3,v:+(k+Math.sin(q/6)*120+q*2+(Math.random()-.5)*40).toFixed(2)}))},g=ct.useMemo(()=>f(h),[h]),w=g[0].v,m=g.map(x=>({t:x.t,v:+((x.v-w)/w*100).toFixed(4)})),b=m[m.length-1].v,v=+(b-m[0].v).toFixed(2),T=+b.toFixed(2);return n.jsxs("div",{className:"account-perf",children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:20,fontWeight:700},children:`${T>=0?"+":""}${T}%`}),n.jsx("div",{style:{color:v>=0?"#7ee787":"#ff9b9b"},children:`${v>=0?"+":""}${v}% vs start`})]}),n.jsx("div",{style:{display:"flex",gap:8},children:["1D","5D","1M","6M","YTD","All"].map(x=>n.jsx("button",{onClick:()=>j(x),className:`toolbar-btn ${x===h?"primary":""}`,style:{padding:"6px 10px"},children:x},x))})]}),n.jsx("div",{style:{marginTop:8,height:"34vh",minHeight:220},children:n.jsx(mm,{priceBars:m.map(x=>({time:x.t,close:x.v}))})})]})},xy=({onNavigate:o})=>{const[h,j]=ct.useState([]),d=ct.useCallback(()=>{if(typeof window>"u"){j([]);return}try{const m=localStorage.getItem(Po),b=m?JSON.parse(m):[];j(Array.isArray(b)?b:[])}catch(m){console.warn("[Dashboard] Failed to read alerts",m),j([])}},[]);ct.useEffect(()=>{if(typeof window>"u")return;d();const m=v=>{!v||v.key!==Po||d()},b=()=>d();return window.addEventListener("storage",m),window.addEventListener("flowgrid:alerts-updated",b),()=>{window.removeEventListener("storage",m),window.removeEventListener("flowgrid:alerts-updated",b)}},[d]);const f=ct.useCallback(()=>{try{localStorage.removeItem(Po)}catch(m){console.warn("[Dashboard] clearAlerts localStorage remove failed",m)}j([]);try{window.dispatchEvent(new Event("flowgrid:alerts-updated"))}catch{}},[]),g=ct.useMemo(()=>h.slice(0,4),[h]),w=ct.useCallback(()=>{try{if(typeof window<"u"){const m=window.flowgridLiveBridge;m&&typeof m.resetWorkflow=="function"?m.resetWorkflow({clearActive:!0}):(window.localStorage?.setItem("flowgrid_new_workflow_request",String(Date.now())),window.dispatchEvent(new Event("flowgrid:new-workflow")))}}catch(m){console.warn("[Dashboard] Failed to request blank builder",m)}o("builder")},[o]);return n.jsxs("div",{className:"dashboard-root",children:[n.jsx(nr,{onNavigate:o,hideHome:!0,activeKey:"home"}),n.jsx("div",{className:"dashboard-content",children:n.jsxs("div",{className:"dashboard-main",children:[n.jsxs("div",{className:"top-cards",children:[n.jsxs("button",{className:"card primary",onClick:w,children:[n.jsx("div",{className:"card-title",children:"Start New Strategy"}),n.jsx("div",{className:"card-desc",children:"Open FlowGrid strategy builder"})]}),n.jsxs("button",{className:"card",onClick:()=>o("backtest"),children:[n.jsx("div",{className:"card-title",children:"Run Backtest"}),n.jsx("div",{className:"card-desc",children:"Evaluate strategy performance"})]}),n.jsxs("button",{className:"card",onClick:()=>o("analytics"),children:[n.jsx("div",{className:"card-title",children:"View Analytics"}),n.jsx("div",{className:"card-desc",children:"Open analytics & insights"})]})]}),n.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 3fr 360px",gridTemplateRows:"auto auto auto",gap:16},children:[n.jsxs("div",{className:"panel large",style:{gridColumn:"1 / span 2",gridRow:"1",minWidth:0},children:[n.jsx("div",{className:"panel-header",children:"Account Performance"}),n.jsx(py,{range:"1D"})]}),n.jsxs("div",{style:{gridColumn:"1 / span 2",gridRow:"2",display:"flex",gap:16,alignItems:"stretch"},children:[n.jsxs("div",{className:"panel",style:{flex:"1 1 0",minWidth:0},children:[n.jsx("div",{className:"panel-header",children:"RSI Strategy"}),n.jsx(er,{strategy:"RSI"})]}),n.jsxs("div",{className:"panel",style:{flex:"1 1 0",minWidth:0},children:[n.jsx("div",{className:"panel-header",children:"EMA Cross Strategy"}),n.jsx(er,{strategy:"EMA Cross"})]}),n.jsxs("div",{className:"panel",style:{flex:"1 1 0",minWidth:0},children:[n.jsx("div",{className:"panel-header",children:"Volume Strategy"}),n.jsx(er,{strategy:"Volume"})]})]}),n.jsxs("div",{className:"panel",style:{gridColumn:"3",gridRow:"2",minHeight:300},children:[n.jsx("div",{className:"panel-header",children:"Alpaca API Settings"}),n.jsx(ir,{noWrapper:!0})]}),n.jsxs("div",{className:"panel",style:{gridColumn:"3",gridRow:"1"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("div",{className:"panel-header",children:"Alerts Overview"}),n.jsx("button",{className:"toolbar-btn clear-alerts-btn",onClick:f,title:"Clear recent alerts",children:"Clear Alerts"})]}),n.jsx("div",{className:"panel-body alerts-panel",children:g.length===0?n.jsx("div",{className:"muted",children:"No recent signals"}):n.jsx("div",{className:"alerts-list",children:g.map(m=>{const b=(m.signal||"HOLD").toUpperCase(),v=m.price!=null&&!Number.isNaN(Number(m.price))?`$${Number(m.price).toFixed(2)}`:"--",T=m.timestamp?new Date(m.timestamp):null,x=T?T.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",y=T?T.toLocaleDateString([],{month:"short",day:"numeric"}):"",C=b.toLowerCase();return n.jsxs("div",{className:`alert-row ${C}`,children:[n.jsx("div",{className:"alert-left",children:n.jsxs("div",{className:"alert-details",children:[n.jsx("div",{className:"alert-strategy",title:m.strategyName||"Strategy",children:m.strategyName||"Strategy"}),n.jsxs("div",{className:"alert-meta",children:[m.symbol||"","  ",m.timeframe||"",x&&n.jsxs("span",{children:["  ",x]})]})]})}),n.jsxs("div",{className:"alert-right",children:[n.jsxs("div",{className:"alert-action",children:[b," ",n.jsxs("span",{className:"alert-price",children:["@ ",v]})]}),n.jsxs("div",{className:"alert-timestamp",children:[y,x&&`  ${x}`]})]})]},m.id||m.timestamp)})})})]})]})]})})]})},er=({strategy:o="RSI",initialRange:h="1W"})=>{const[j,d]=ct.useState(h),g={RSI:120,"EMA Cross":200,Volume:80}[o]||100,w=j==="1D"?1:j==="5D"?5:j==="1W"?7:j==="1M"?30:7,m=ct.useMemo(()=>vy(Math.max(7,w),g),[j,g]),b=ct.useMemo(()=>{if(!m||m.length===0)return[];const C=m[0].close||m[0].v||0;return C?m.map(k=>({time:k.time,close:(k.close-C)/C*100})):m.map(k=>({time:k.time,close:0}))},[m]),v=b&&b.length?b[b.length-1].close:null,T=b&&b.length?b[0].close:null,x=v!=null&&T!=null?+(v-T).toFixed(2):null,y=v!=null&&T!=null?+v.toFixed(2):null;return n.jsxs("div",{className:"panel-body",style:{height:200,display:"flex",flexDirection:"column",gap:8},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:700},children:o}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontWeight:700},children:y!=null?`${y}%`:"--"}),n.jsx("div",{style:{color:x>=0?"#7ee787":"#ff9b9b"},children:x!=null?`${x>=0?"+":""}${x} (${y}%)`:"--"})]})]}),n.jsx("div",{style:{flex:1},children:n.jsx(mm,{verticalBias:.08,priceBars:b.map(C=>({time:C.time,close:C.close}))})}),n.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center",marginTop:8},children:["1D","5D","1W","1M","6M","YTD","All"].map(C=>n.jsx("button",{onClick:()=>d(C),className:`toolbar-btn ${C===j?"primary":""}`,style:{padding:"6px 10px"},children:C},C))})]})},si=({height:o=160})=>n.jsx("div",{style:{width:"100%",height:o,background:"linear-gradient(90deg,#071122, #06121a)",borderRadius:8,border:"1px solid rgba(255,255,255,0.03)",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280"},children:n.jsx("div",{children:"Chart placeholder"})}),by=({data:o=null,nodeBuffers:h={}})=>{const j=o&&(o.summary?.completedAt||o.latest_data?.timestamp||o.signals?.[0]?.time)||new Date().toISOString();o&&(o.finalSignal||o.summary?.status);const d=o?.latest_data||{},f=240,[g,w]=L.useState(()=>[]),m=L.useRef(null),b=["#ff8a00","#22c55e","#ffd36b","#a78bfa","#fb7185","#60a5fa"],v=Object.entries(h||{}).map(([T,x],y)=>({id:T,name:x.name,series:x.buf||[],stroke:b[y%b.length]}));return L.useEffect(()=>{if(o)try{if(o.historical_bars&&o.historical_bars.close&&Array.isArray(o.historical_bars.close)){w(o.historical_bars.close.slice(-f)),m.current=Date.now();return}const T=o.latest_data&&(o.latest_data.close??o.latest_data.price??o.latest_data.v??null);if(T==null)return;w(x=>{const y=x.length?x[x.length-1]:null;if(y===T){m.current=Date.now();try{console.debug("[LiveMonitor] no-new-value",{v:T,last:y,len:x.length})}catch{}return x}const C=[...x.slice(-f+1),T];m.current=Date.now();try{console.debug("[LiveMonitor] appended",{v:T,last:y,nextLen:C.length})}catch{}try{window.__liveMonitorSeries=C}catch{}return C})}catch{}},[o]),L.useEffect(()=>{if((!g||g.length===0)&&o&&o.latest_data&&o.latest_data.close!=null){w([o.latest_data.close]);try{window.__liveMonitorSeries=[o.latest_data.close],console.debug("[LiveMonitor] init series",window.__liveMonitorSeries)}catch{}}},[o,g]),n.jsxs("div",{className:"live-monitor-tab",children:[n.jsxs("div",{className:"grid-2",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Current Strategy State"}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"state-row",children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:"status-badge status-neutral",children:"NEUTRAL"})]}),n.jsxs("div",{className:"state-row",children:[n.jsx("strong",{children:"Last Check:"})," ",j]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Most Recent Signal"}),n.jsxs("div",{className:"card-body",children:[n.jsx("div",{className:"signal-large",children:o?.signals&&o.signals.length?`${o.signals[0].signal}  ${o.signals[0].symbol} @ ${o.signals[0].price}`:"No recent signal"}),n.jsx("div",{className:"muted",children:o?.signals&&o.signals.length?o.signals[0].reason||"":"Short explanation: run workflow to populate signals."})]})]})]}),n.jsxs("div",{className:"grid-3",children:[n.jsxs("div",{className:"card small",children:[n.jsx("div",{className:"card-header",children:"Latest Indicators"}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{children:["RSI: ",n.jsx("strong",{children:d.rsi??""})]}),n.jsxs("div",{children:["MACD: ",n.jsx("strong",{children:d.macd_hist??""})]}),n.jsxs("div",{children:["EMA(20): ",n.jsx("strong",{children:d.ema??""})]})]})]}),n.jsxs("div",{className:"card small",children:[n.jsx("div",{className:"card-header",children:"Workflow Condition Map"}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{children:["Fetch Price: ",n.jsx("span",{className:"pill true",children:"TRUE"})]}),n.jsxs("div",{children:["RSI Check: ",n.jsx("span",{className:"pill false",children:"FALSE"})]}),n.jsxs("div",{children:["Signal Gate: ",n.jsx("span",{className:"pill skipped",children:"SKIPPED"})]})]})]}),n.jsxs("div",{className:"card small",children:[n.jsx("div",{className:"card-header",children:"Real-Time Feed"}),n.jsxs("div",{className:"card-body",children:[n.jsx("div",{className:"muted",children:"Real-Time Updates Coming Soon"}),n.jsx("div",{className:"skeleton-row"}),n.jsx("div",{className:"skeleton-row small"})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Live Price Chart"}),n.jsx("div",{className:"card-body chart-area",children:g&&g.length?n.jsx(on,{data:g,height:220,stroke:"#5e8cff",overlays:v}):n.jsx(si,{height:220})})]})]})},Sy=({data:o=null})=>{const h=o?.equityCurve||[],j=h&&h.length&&(h[0].v||h[0].value)||null,d=h&&h.length&&(h[h.length-1].v||h[h.length-1].value)||null,f=j!==null&&d!==null?d-j:null;return n.jsxs("div",{className:"backtest-tab",children:[n.jsxs("div",{className:"grid-2",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Backtest Summary"}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{children:["Profit / Loss: ",n.jsx("strong",{children:f!==null?`$${f.toFixed(2)}`:""})]}),n.jsxs("div",{children:["Win Rate: ",n.jsx("strong",{children:o?.summary?.winRate??""})]}),n.jsxs("div",{children:["Max Drawdown: ",n.jsx("strong",{children:o?.summary?.maxDrawdown??""})]}),n.jsxs("div",{children:["Sharpe: ",n.jsx("strong",{children:o?.summary?.sharpe??""})]}),n.jsxs("div",{children:["Total Trades: ",n.jsx("strong",{children:o?.trades?.length??""})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Parameters"}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{children:["Symbol: ",n.jsx("strong",{children:o?.summary?.symbol??o?.symbol??"SPY"})]}),n.jsxs("div",{children:["Timeframe: ",n.jsx("strong",{children:o?.summary?.timeframe??o?.timeframe??"1Hour"})]}),n.jsxs("div",{children:["Date Range: ",n.jsxs("strong",{children:[o?.summary?.startTimestamp??"","  ",o?.summary?.endTimestamp??""]})]})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Backtest Price Chart"}),n.jsx("div",{className:"card-body chart-area",children:o&&o.historical_bars&&o.historical_bars.close?n.jsx(on,{data:o.historical_bars.close,height:220,stroke:"#ff8a00",showXAxis:!0}):n.jsx(si,{height:220})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Trades"}),n.jsx("div",{className:"card-body",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Time"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Size"}),n.jsx("th",{children:"PnL"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"2025-11-20 10:01"}),n.jsx("td",{children:"BUY"}),n.jsx("td",{children:"430.12"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"+120"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"2025-11-21 13:22"}),n.jsx("td",{children:"SELL"}),n.jsx("td",{children:"435.00"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"+488"})]})]})]})})]})]})},jy=({signal:o})=>n.jsxs("div",{className:"signal-item",children:[n.jsxs("div",{className:"signal-left",children:[n.jsx("div",{className:`signal-pill ${o.type==="BUY"?"buy":o.type==="SELL"?"sell":"hold"}`,children:o.type}),n.jsxs("div",{className:"signal-meta",children:[n.jsxs("div",{className:"signal-price",children:[o.symbol," @ ",o.price]}),n.jsx("div",{className:"signal-time muted",children:new Date(o.time).toLocaleString()})]})]}),n.jsx("div",{className:"signal-reason muted",children:o.reason})]}),wy=({signals:o=[]})=>!o||o.length===0?n.jsx("div",{className:"muted",children:"No signals available."}):n.jsx("div",{className:"signal-list",children:o.map(h=>n.jsx(jy,{signal:h},h.id))}),fm=[{id:1,type:"BUY",price:420.12,symbol:"SPY",time:"2025-11-01T10:00:00Z",reason:"RSI below 30"},{id:2,type:"SELL",price:435.55,symbol:"SPY",time:"2025-11-05T13:30:00Z",reason:"Profit target"},{id:3,type:"HOLD",price:428,symbol:"SPY",time:"2025-11-10T09:15:00Z",reason:"Neutral"}],Ny=({data:o=null})=>{const[h,j]=L.useState([]),[d,f]=L.useState("ALL");L.useEffect(()=>{try{if(o&&o.signals&&o.signals.length){j(o.signals);return}const w=localStorage.getItem("flowgrid_signals");j(w?JSON.parse(w):fm)}catch{j(fm)}},[]);const g=h.filter(w=>d==="ALL"?!0:w.type===d);return n.jsxs("div",{className:"past-signals-tab",children:[n.jsxs("div",{className:"controls-row",children:[n.jsx("div",{children:n.jsxs("select",{value:d,onChange:w=>f(w.target.value),children:[n.jsx("option",{value:"ALL",children:"All"}),n.jsx("option",{value:"BUY",children:"BUY"}),n.jsx("option",{value:"SELL",children:"SELL"}),n.jsx("option",{value:"HOLD",children:"HOLD"})]})}),n.jsx("div",{style:{marginLeft:"auto"},children:n.jsx("button",{className:"md-btn",children:"Export"})})]}),n.jsxs("div",{className:"grid-2",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Signals"}),n.jsx("div",{className:"card-body",children:n.jsx(wy,{signals:g})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Signal Trend"}),n.jsx("div",{className:"card-body chart-area",children:h&&h.length?n.jsx(on,{data:h.map(w=>w.price),height:180,stroke:"#7ef08f"}):n.jsx(si,{height:180})})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Historical Price Chart (with signals)"}),n.jsx("div",{className:"card-body chart-area",children:n.jsx(si,{height:160})})]})]})},Ty=({data:o=null})=>{const h=o?.blocks||[],j=o?.aiAnalysis||o?.ai_analysis||"(no AI analysis available)";return n.jsxs("div",{className:"insights-tab",children:[n.jsxs("div",{className:"grid-2",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"AI Strategy Commentary"}),n.jsx("div",{className:"card-body",children:n.jsx("div",{className:"muted",children:j})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Block-by-Block Diagnostics"}),n.jsxs("div",{className:"card-body",children:[h.length===0&&n.jsx("div",{className:"muted",children:"No block diagnostics available."}),h.map(d=>n.jsxs("div",{children:[d.block_type||d.type||d.blockType,": ",n.jsx("span",{className:`pill ${d.status==="passed"||d.status==="ok"?"true":d.status==="failed"?"false":"skipped"}`,children:String(d.status||d.result||"").toUpperCase()||"N/A"})]},d.id))]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Price + Signal Chart"}),n.jsx("div",{className:"card-body chart-area",children:o&&o.historical_bars&&o.historical_bars.close?n.jsx(LineChart,{data:o.historical_bars.close,height:200,stroke:"#ffd36b"}):n.jsx(si,{height:200})})]}),n.jsxs("div",{className:"grid-2",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Workflow Execution Summary"}),n.jsx("div",{className:"card-body muted",children:"Decision path: Fetch  RSI  Signal Gate  AI Agent (if enabled)"})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:"Signal Strength"}),n.jsx("div",{className:"card-body",children:n.jsx("div",{className:"signal-meter",children:n.jsx("div",{className:"meter-fill",style:{width:"35%"}})})})]})]})]})},_y=({data:o=null})=>{const[h,j]=L.useState([]),[d,f]=L.useState([]);return L.useEffect(()=>{try{if(!o){j([]),f([]);return}if(o.historical_bars&&Array.isArray(o.historical_bars.close)&&o.historical_bars.close.length){const m=o.historical_bars.close.slice(-400),b=(o.historical_bars.timestamps||[]).slice(-400);j(m.map(v=>typeof v=="string"?parseFloat(v.replace(/[$,]/g,"")):v)),f(b);return}if(window.__liveMonitorSeries&&Array.isArray(window.__liveMonitorSeries)&&window.__liveMonitorSeries.length){j(window.__liveMonitorSeries.slice(-240)),f([]);return}const g=o.latest_data||{},w=g.close??g.price??null;if(w!=null){j([Number(w)]),f([g.timestamp||new Date().toISOString()]);return}j([]),f([])}catch(g){console.warn("LegacyMonitorTab update failed",g)}},[o]),n.jsx("div",{className:"legacy-monitor-tab",children:n.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12},children:[n.jsxs("div",{style:{flex:1,padding:12,background:"#0b0f14",borderRadius:8,border:"1px solid #1f2937"},children:[n.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8},children:"Continuous Strategy Monitor"}),n.jsx("div",{style:{height:260},children:h&&h.length?n.jsx(on,{data:h,height:260,stroke:"#2962ff"}):n.jsx("div",{style:{height:260,display:"flex",alignItems:"center",justifyContent:"center",color:"#787b86"},children:"No price history available"})})]}),n.jsxs("div",{style:{width:320,display:"flex",flexDirection:"column",gap:12},children:[n.jsxs("div",{style:{padding:12,background:"#0b0f14",borderRadius:8,border:"1px solid #1f2937"},children:[n.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8},children:"Latest Snapshot"}),n.jsx("div",{style:{fontSize:18,fontWeight:700},children:o?.latest_data?.close??o?.latest_data?.price??"--"}),n.jsx("div",{style:{color:"#9ca3af",fontSize:12},children:o?.finalSignal?`Signal: ${o.finalSignal}`:o?.summary?.status||""}),n.jsxs("div",{style:{marginTop:8,fontSize:12},children:[n.jsxs("div",{children:["RSI: ",n.jsx("strong",{children:o?.latest_data?.rsi??""})]}),n.jsxs("div",{children:["EMA(20): ",n.jsx("strong",{children:o?.latest_data?.ema??""})]}),n.jsxs("div",{children:["Volume: ",n.jsx("strong",{children:o?.latest_data?.volume??""})]})]})]}),n.jsxs("div",{style:{padding:12,background:"#0b0f14",borderRadius:8,border:"1px solid #1f2937"},children:[n.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8},children:"Legend"}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsx("div",{style:{width:12,height:12,background:"#2962ff",borderRadius:2}}),n.jsx("div",{style:{fontSize:13},children:"Asset price"})]}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8},children:[n.jsx("div",{style:{width:12,height:12,background:"#22c55e",borderRadius:6}}),n.jsx("div",{style:{fontSize:13},children:"BUY marker"})]}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8},children:[n.jsx("div",{style:{width:12,height:12,background:"#ef4444",borderRadius:6}}),n.jsx("div",{style:{fontSize:13},children:"SELL marker"})]})]}),n.jsxs("div",{style:{padding:12,background:"#0b0f14",borderRadius:8,border:"1px solid #1f2937"},children:[n.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8},children:"Quick Signals"}),n.jsx("div",{style:{maxHeight:180,overflow:"auto"},children:o?.signals&&o.signals.length?o.signals.slice(0,8).map((g,w)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px dashed #111827"},children:[n.jsxs("div",{children:[new Date(g.time).toLocaleTimeString()," - ",g.signal]}),n.jsx("div",{style:{fontWeight:700},children:g.price})]},w)):n.jsx("div",{style:{color:"#6b7280"},children:"No recent signals"})})]})]})]})})},Ey=({active:o,onChange:h,resultsData:j=null,nodeBuffers:d={}})=>n.jsx("div",{className:"monitor-tabs",children:n.jsxs("div",{className:"tab-content",children:[o==="live"&&n.jsx(by,{data:j,nodeBuffers:d}),o==="backtest"&&n.jsx(Sy,{data:j}),o==="past"&&n.jsx(Ny,{data:j}),o==="insights"&&n.jsx(Ty,{data:j}),o==="legacy"&&n.jsx(_y,{data:j})]})}),Ay=({open:o,onClose:h,initialTab:j="live",className:d="",resultsData:f=null,nodeBuffers:g={}})=>{const[w,m]=L.useState(j),[b,v]=L.useState(16),[T,x]=L.useState(()=>{try{const M=Number(localStorage.getItem("monitor_height_px"));if(!Number.isNaN(M)&&M>0)return M}catch{}return Math.round(window.innerHeight*.5)}),y=ct.useRef(null),C=ct.useRef(!1);L.useEffect(()=>{function M(){try{const V=document.querySelector(".output-panel");if(V&&V.classList.contains("open")){const D=Math.round(V.getBoundingClientRect().width||0);v(D)}else v(16)}catch{v(16)}}M();let E;try{const V=document.querySelector(".output-panel");V&&typeof ResizeObserver<"u"&&(E=new ResizeObserver(()=>M()),E.observe(V))}catch{}window.addEventListener("resize",M);const q=new MutationObserver(M),Y=document.body;return q.observe(Y,{attributes:!0,childList:!0,subtree:!0}),()=>{window.removeEventListener("resize",M);try{q.disconnect()}catch{}try{E&&E.disconnect()}catch{}}},[]),L.useEffect(()=>{const M=()=>{const E=Math.round(window.innerHeight-80);x(q=>Math.min(q,E))};window.addEventListener("resize",M);try{window.setMonitorTab=E=>{E&&m(E)}}catch{}return()=>window.removeEventListener("resize",M)},[]),L.useEffect(()=>()=>{try{delete window.setMonitorTab}catch{}},[]),L.useEffect(()=>{try{localStorage.setItem("monitor_height_px",String(T))}catch{}},[T]);const k=M=>{C.current=!0;const E=T,q=Math.round(window.innerHeight-80),Y=80,V={id:null},D={current:E};try{y.current&&y.current.classList.add("dragging")}catch{}const F=$=>{const ie=$.clientY??($.touches&&$.touches[0]&&$.touches[0].clientY);if(ie==null)return;$.cancelable&&$.preventDefault();const Z=M-ie;let oe=Math.min(q,Math.max(Y,E+Z));D.current=oe,V.id==null&&(V.id=window.requestAnimationFrame(()=>{V.id=null;try{y.current&&(y.current.style.height=`${D.current}px`)}catch{}}))},P=()=>{C.current=!1,V.id!=null&&(window.cancelAnimationFrame(V.id),V.id=null),x(D.current);try{y.current&&y.current.classList.remove("dragging")}catch{}document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",P),document.removeEventListener("touchmove",F),document.removeEventListener("touchend",P)};document.addEventListener("mousemove",F,{passive:!1}),document.addEventListener("mouseup",P),document.addEventListener("touchmove",F,{passive:!1}),document.addEventListener("touchend",P)};return n.jsxs("div",{ref:y,className:`monitor-drawer ${o?"open":""} ${d}`,role:"dialog","aria-hidden":!o,style:{right:`${b}px`,height:o?`${T}px`:0},children:[n.jsxs("div",{className:"monitor-drawer-handle",onMouseDown:M=>{M.button===0&&k(M.clientY)},onTouchStart:M=>{const E=M.touches&&M.touches[0];E&&k(E.clientY)},"aria-hidden":!0,children:[n.jsx("div",{className:"handle-bar"}),n.jsx("div",{className:"monitor-drawer-title",children:"Strategy Monitor"}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8,alignItems:"center"},children:[n.jsx("button",{className:"md-btn",onClick:()=>m("live"),children:"Live"}),n.jsx("button",{className:"md-btn",onClick:()=>m("backtest"),children:"Backtest"}),n.jsx("button",{className:"md-btn",onClick:()=>m("past"),children:"Past Signals"}),n.jsx("button",{className:"md-btn md-stop",onClick:()=>{try{const M=localStorage.getItem("workflow_active_id");if(localStorage.setItem("monitor_stop",String(Date.now())),localStorage.setItem("workflow_live","0"),localStorage.removeItem("workflow_active_id"),M){const E=`flowgrid_saved_enabled::${M}`;localStorage.setItem(E,"0")}window.dispatchEvent(new CustomEvent("flowgrid:strategy-stopped",{detail:{strategyId:M}})),setTimeout(()=>{try{localStorage.removeItem("monitor_stop")}catch{}},1e3)}catch(M){console.error("[Monitor] Stop button error:",M)}},title:"Stop live monitoring",children:"Stop"}),n.jsx("button",{className:"md-close",onClick:h,title:"Close Monitor",children:""})]})]}),n.jsx("div",{className:"monitor-drawer-body",children:n.jsx(Ey,{active:w,onChange:m,resultsData:f,nodeBuffers:g})})]})},zy=()=>{const[o,h]=L.useState([]),[j,d]=L.useState(null),[f,g]=L.useState("ALL"),[w,m]=L.useState("time"),b=()=>{const k=ar(),M=Jg();h(k),d(M)};L.useEffect(()=>{b();const k=()=>{b()};window.addEventListener("flowgrid:trades-updated",k);const M=setInterval(b,2e3);return()=>{window.removeEventListener("flowgrid:trades-updated",k),clearInterval(M)}},[]);const T=[...o.filter(k=>f==="ALL"?!0:k.direction===f)].sort((k,M)=>w==="time"?new Date(M.exitTime).getTime()-new Date(k.exitTime).getTime():w==="pnl"?M.netPnL-k.netPnL:0),x=()=>{window.confirm("Clear ALL live trades? This cannot be undone.")&&(Qg(),b())},y=k=>{const M=Math.floor(k/1e3),E=Math.floor(M/60),q=Math.floor(E/60),Y=Math.floor(q/24);return Y>0?`${Y}d ${q%24}h`:q>0?`${q}h ${E%60}m`:E>0?`${E}m ${M%60}s`:`${M}s`},C=k=>new Date(k).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{style:{padding:0},children:[j&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:16},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-label",children:"Total Trades"}),n.jsx("div",{className:"stat-value",children:j.totalTrades})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-label",children:"Win Rate"}),n.jsxs("div",{className:"stat-value",children:[j.winRate.toFixed(1),"%"]}),n.jsxs("div",{className:"stat-detail",children:[j.winningTrades,"W / ",j.losingTrades,"L"]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-label",children:"Total P&L"}),n.jsxs("div",{className:`stat-value ${j.totalPnL>=0?"positive":"negative"}`,children:["$",j.totalPnL.toFixed(2)]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-label",children:"Avg P&L per Trade"}),n.jsxs("div",{className:`stat-value ${j.avgPnL>=0?"positive":"negative"}`,children:["$",j.avgPnL.toFixed(2)]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsxs("select",{value:f,onChange:k=>g(k.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb",fontSize:12},children:[n.jsx("option",{value:"ALL",children:"All Trades"}),n.jsx("option",{value:"LONG",children:"Long Only"}),n.jsx("option",{value:"SHORT",children:"Short Only"})]}),n.jsxs("select",{value:w,onChange:k=>m(k.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#e5e7eb",fontSize:12},children:[n.jsx("option",{value:"time",children:"Sort by Time"}),n.jsx("option",{value:"pnl",children:"Sort by P&L"})]})]}),n.jsx("button",{onClick:x,style:{padding:"6px 12px",borderRadius:6,border:"1px solid #263141",background:"#071025",color:"#ff6b6b",fontSize:12,cursor:"pointer"},children:"Clear All Trades"})]}),T.length===0?n.jsx("div",{style:{textAlign:"center",padding:40,color:"#6b7280",fontSize:14},children:"No live trades yet. Start a strategy to begin tracking trades."}):n.jsx("div",{style:{maxHeight:500,overflowY:"auto",border:"1px solid #263141",borderRadius:6},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[n.jsx("thead",{style:{position:"sticky",top:0,background:"#0b0f14",borderBottom:"1px solid #263141"},children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Strategy"}),n.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Symbol"}),n.jsx("th",{style:{padding:"8px 12px",textAlign:"center"},children:"Direction"}),n.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Entry"}),n.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Exit"}),n.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"P&L"}),n.jsx("th",{style:{padding:"8px 12px",textAlign:"right"},children:"Duration"}),n.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Exit Time"})]})}),n.jsx("tbody",{children:T.map((k,M)=>n.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.03)",background:M%2===0?"transparent":"rgba(255, 255, 255, 0.01)"},children:[n.jsxs("td",{style:{padding:"8px 12px"},children:[n.jsx("div",{style:{fontWeight:500},children:k.strategyName}),n.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:k.timeframe})]}),n.jsx("td",{style:{padding:"8px 12px",fontWeight:600},children:k.symbol}),n.jsx("td",{style:{padding:"8px 12px",textAlign:"center"},children:n.jsx("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:11,fontWeight:600,background:k.direction==="LONG"?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:k.direction==="LONG"?"#22c55e":"#ef4444"},children:k.direction})}),n.jsxs("td",{style:{padding:"8px 12px",textAlign:"right",fontFamily:"monospace"},children:["$",k.entryPrice.toFixed(2),n.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:C(k.entryTime)})]}),n.jsxs("td",{style:{padding:"8px 12px",textAlign:"right",fontFamily:"monospace"},children:["$",k.exitPrice.toFixed(2),n.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:k.exitSignal})]}),n.jsxs("td",{style:{padding:"8px 12px",textAlign:"right",fontFamily:"monospace",fontWeight:600,color:k.netPnL>=0?"#22c55e":"#ef4444"},children:[k.netPnL>=0?"+":"","$",k.netPnL.toFixed(2),n.jsxs("div",{style:{fontSize:11,color:"#6b7280",fontWeight:400},children:[(k.netPnL/(k.entryPrice*k.shares)*100).toFixed(2),"%"]})]}),n.jsx("td",{style:{padding:"8px 12px",textAlign:"right",color:"#9ca3af"},children:y(k.holdingDuration)}),n.jsx("td",{style:{padding:"8px 12px",color:"#9ca3af"},children:C(k.exitTime)})]},k.id))})]})}),n.jsx("style",{jsx:!0,children:`
        .stat-card {
          padding: 12px;
          background: rgba(255, 255, 255, 0.02);
          border: 1px solid rgba(255, 255, 255, 0.04);
          border-radius: 6px;
        }
        .stat-label {
          font-size: 11px;
          color: #9ca3af;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 4px;
        }
        .stat-value {
          font-size: 20px;
          font-weight: 700;
          color: #e5e7eb;
        }
        .stat-value.positive {
          color: #22c55e;
        }
        .stat-value.negative {
          color: #ef4444;
        }
        .stat-detail {
          font-size: 11px;
          color: #6b7280;
          margin-top: 2px;
        }
      `})]})},Cy=({onNavigate:o})=>{const[h,j]=ct.useState(!1),[d,f]=ct.useState(null),[g,w]=ct.useState({});return ct.useEffect(()=>{try{localStorage.getItem("openStrategyMonitor")==="1"&&(j(!0),localStorage.removeItem("openStrategyMonitor"))}catch{}const m=setInterval(()=>{try{let b=null;try{const T=localStorage.getItem("monitor_results");T&&(b=JSON.parse(T))}catch{b=null}b||(b=window.__monitor_resultsData||null);let v={};try{const T=localStorage.getItem("monitor_node_buffers");T&&(v=JSON.parse(T))}catch{v={}}(!v||Object.keys(v).length===0)&&(v=window.__monitor_nodeBuffers||{}),f(T=>T!==b?b:T),w(T=>T!==v?v:T)}catch{}},500);return()=>clearInterval(m)},[]),n.jsxs("div",{className:"dashboard-root",children:[n.jsx(Ay,{open:h,onClose:()=>j(!1),resultsData:d,nodeBuffers:g}),n.jsx(nr,{onNavigate:o,hideHome:!1,activeKey:"analytics"}),n.jsx("div",{className:"dashboard-content",children:n.jsx("div",{className:"dashboard-main",children:n.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 3fr 360px",gap:16},children:[n.jsxs("div",{className:"panel large",style:{gridColumn:"1 / span 2",gridRow:"1",minWidth:0},children:[n.jsx("div",{className:"panel-header",children:"Live Trading History"}),n.jsx("div",{className:"panel-body",children:n.jsx(zy,{})})]}),n.jsxs("div",{className:"panel",style:{gridColumn:"3",gridRow:"1",minHeight:300},children:[n.jsx("div",{className:"panel-header",children:"Alpaca API Settings"}),n.jsx(ir,{noWrapper:!0})]})]})})})]})},My=({onNavigate:o})=>n.jsxs("div",{style:{padding:16},children:[n.jsx("h2",{style:{marginTop:0},children:"Account & Settings"}),n.jsx("div",{style:{maxWidth:720},children:n.jsx(ir,{})})]}),Dy=()=>{const h=(typeof window<"u"?new URLSearchParams(window.location.search):new URLSearchParams("")).get("route")||"home",[j,d]=L.useState(h),f=g=>d(g);return n.jsxs(ct.StrictMode,{children:[n.jsx("div",{style:{display:j==="builder"?"block":"none"},children:n.jsx($g,{onNavigate:f})}),j==="home"&&n.jsx(xy,{onNavigate:f}),j==="backtest"&&n.jsx(yy,{onNavigate:f}),j==="analytics"&&n.jsx(Cy,{onNavigate:f}),j==="account"&&n.jsx(My,{onNavigate:f}),j==="billing"&&n.jsx("div",{style:{padding:24},children:"Billing / Subscription (placeholder)"}),j==="help"&&n.jsx("div",{style:{padding:24},children:"Help / Documentation (placeholder)"})]})},Oy=Og.createRoot(document.getElementById("root"));Oy.render(n.jsx(Dy,{}));
